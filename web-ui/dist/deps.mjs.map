{
  "version": 3,
  "sources": ["../../node_modules/preact/src/constants.js", "../../node_modules/preact/src/util.js", "../../node_modules/preact/src/options.js", "../../node_modules/preact/src/create-element.js", "../../node_modules/preact/src/component.js", "../../node_modules/preact/src/diff/props.js", "../../node_modules/preact/src/create-context.js", "../../node_modules/preact/src/diff/children.js", "../../node_modules/preact/src/diff/index.js", "../../node_modules/preact/src/render.js", "../../node_modules/preact/src/clone-element.js", "../../node_modules/preact/src/diff/catch-error.js", "../../node_modules/preact/hooks/src/index.js", "../../node_modules/preact/compat/src/util.js", "../../node_modules/preact/compat/src/hooks.js", "../../node_modules/preact/compat/src/PureComponent.js", "../../node_modules/preact/compat/src/memo.js", "../../node_modules/preact/compat/src/forwardRef.js", "../../node_modules/preact/compat/src/Children.js", "../../node_modules/preact/compat/src/suspense.js", "../../node_modules/preact/compat/src/suspense-list.js", "../../node_modules/preact/src/constants.js", "../../node_modules/preact/compat/src/portals.js", "../../node_modules/preact/compat/src/render.js", "../../node_modules/preact/compat/src/index.js", "../../node_modules/prop-types/lib/ReactPropTypesSecret.js", "../../node_modules/prop-types/factoryWithThrowingShims.js", "../../node_modules/prop-types/index.js", "../../node_modules/classnames/index.js", "../../node_modules/react-bulma-components/src/services/normalizer.js", "../../node_modules/react-bulma-components/src/components/element/element.js", "../../node_modules/react-bulma-components/src/components/element/index.js", "../../node_modules/react-bulma-components/src/components/form/components/field/context.js", "../../node_modules/react-bulma-components/src/components/form/components/field/field-label.js", "../../node_modules/react-bulma-components/src/components/form/components/field/field-body.js", "../../node_modules/react-bulma-components/src/components/form/components/field/field.js", "../../node_modules/react-bulma-components/src/components/form/components/field/index.js", "../../node_modules/react-bulma-components/src/components/icon/components/text/text.js", "../../node_modules/react-bulma-components/src/components/icon/components/text/index.js", "../../node_modules/react-bulma-components/src/components/icon/icon.js", "../../node_modules/react-bulma-components/src/components/icon/index.js", "../../node_modules/react-bulma-components/src/components/button/components/button-group.js", "../../node_modules/react-bulma-components/src/components/button/button.js", "../../node_modules/react-bulma-components/src/components/button/index.js", "../../node_modules/react-bulma-components/src/components/form/components/control.js", "../../node_modules/react-bulma-components/src/components/form/components/input.js", "../../node_modules/react-bulma-components/src/components/form/components/label.js", "../../node_modules/react-bulma-components/src/components/form/components/textarea.js", "../../node_modules/react-bulma-components/src/components/form/components/select.js", "../../node_modules/react-bulma-components/src/components/form/components/checkbox.js", "../../node_modules/react-bulma-components/src/components/form/components/radio.js", "../../node_modules/react-bulma-components/src/components/form/components/help.js", "../../node_modules/react-bulma-components/src/components/form/components/input-file.js", "../../node_modules/react-bulma-components/src/components/form/index.js", "../../node_modules/react-bulma-components/src/components/box/box.js", "../../node_modules/react-bulma-components/src/components/box/index.js", "../../node_modules/react-bulma-components/src/components/block/block.js", "../../node_modules/react-bulma-components/src/components/block/index.js", "../../node_modules/react-bulma-components/src/components/breadcrumb/components/item.js", "../../node_modules/react-bulma-components/src/components/breadcrumb/breadcrumb.js", "../../node_modules/react-bulma-components/src/components/breadcrumb/index.js", "../../node_modules/react-bulma-components/src/components/image/image.js", "../../node_modules/react-bulma-components/src/components/image/index.js", "../../node_modules/react-bulma-components/src/components/card/components/image.js", "../../node_modules/react-bulma-components/src/components/card/components/content.js", "../../node_modules/react-bulma-components/src/components/card/components/header/components/header-title.js", "../../node_modules/react-bulma-components/src/components/card/components/header/components/header-icon.js", "../../node_modules/react-bulma-components/src/components/card/components/header/header.js", "../../node_modules/react-bulma-components/src/components/card/components/header/index.js", "../../node_modules/react-bulma-components/src/components/card/components/footer/components/footer-item.js", "../../node_modules/react-bulma-components/src/components/card/components/footer/footer.js", "../../node_modules/react-bulma-components/src/components/card/components/footer/index.js", "../../node_modules/react-bulma-components/src/components/card/card.js", "../../node_modules/react-bulma-components/src/components/card/index.js", "../../node_modules/react-bulma-components/src/components/columns/components/column.js", "../../node_modules/react-bulma-components/src/components/columns/constants.js", "../../node_modules/react-bulma-components/src/components/columns/columns.js", "../../node_modules/react-bulma-components/src/components/columns/index.js", "../../node_modules/react-bulma-components/src/components/container/container.js", "../../node_modules/react-bulma-components/src/components/container/index.js", "../../node_modules/react-bulma-components/src/components/content/content.js", "../../node_modules/react-bulma-components/src/components/content/index.js", "../../node_modules/react-bulma-components/src/components/footer/footer.js", "../../node_modules/react-bulma-components/src/components/footer/index.js", "../../node_modules/react-bulma-components/src/components/heading/heading.js", "../../node_modules/react-bulma-components/src/components/heading/index.js", "../../node_modules/react-bulma-components/src/components/hero/components/hero-header.js", "../../node_modules/react-bulma-components/src/components/hero/components/hero-body.js", "../../node_modules/react-bulma-components/src/components/hero/components/hero-footer.js", "../../node_modules/react-bulma-components/src/components/hero/hero.js", "../../node_modules/react-bulma-components/src/components/hero/index.js", "../../node_modules/react-bulma-components/src/components/level/components/level-side.js", "../../node_modules/react-bulma-components/src/components/level/components/level-item.js", "../../node_modules/react-bulma-components/src/components/level/level.js", "../../node_modules/react-bulma-components/src/components/level/index.js", "../../node_modules/react-bulma-components/src/components/media/components/media-item.js", "../../node_modules/react-bulma-components/src/components/media/media.js", "../../node_modules/react-bulma-components/src/components/media/index.js", "../../node_modules/react-bulma-components/src/components/notification/notification.js", "../../node_modules/react-bulma-components/src/components/notification/index.js", "../../node_modules/react-bulma-components/src/components/progress/progress.js", "../../node_modules/react-bulma-components/src/components/progress/index.js", "../../node_modules/react-bulma-components/src/components/section/section.js", "../../node_modules/react-bulma-components/src/components/section/index.js", "../../node_modules/react-bulma-components/src/components/tabs/components/tab.js", "../../node_modules/react-bulma-components/src/components/tabs/tabs.js", "../../node_modules/react-bulma-components/src/components/tabs/index.js", "../../node_modules/react-bulma-components/src/components/table/components/container.js", "../../node_modules/react-bulma-components/src/components/table/table.js", "../../node_modules/react-bulma-components/src/components/table/index.js", "../../node_modules/react-bulma-components/src/components/tag/components/tag-group.js", "../../node_modules/react-bulma-components/src/components/tag/tag.js", "../../node_modules/react-bulma-components/src/components/tag/index.js", "../../node_modules/react-bulma-components/src/components/tile/tile.js", "../../node_modules/react-bulma-components/src/components/tile/index.js", "../../node_modules/react-bulma-components/src/components/modal/components/content.js", "../../node_modules/react-bulma-components/src/components/modal/context.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/header.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/body.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/footer.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/title.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/card.js", "../../node_modules/react-bulma-components/src/components/modal/components/card/index.js", "../../node_modules/react-bulma-components/src/components/modal/modal.js", "../../node_modules/react-bulma-components/src/components/modal/index.js", "../../node_modules/react-bulma-components/src/components/dropdown/components/item.js", "../../node_modules/react-bulma-components/src/components/dropdown/components/divider.js", "../../node_modules/react-bulma-components/src/components/dropdown/dropdown.js", "../../node_modules/react-bulma-components/src/components/dropdown/index.js", "../../node_modules/react-bulma-components/src/components/loader/loader.js", "../../node_modules/react-bulma-components/src/components/loader/index.js", "../../node_modules/react-bulma-components/src/components/navbar/components/brand.js", "../../node_modules/react-bulma-components/src/components/navbar/context.js", "../../node_modules/react-bulma-components/src/components/navbar/components/burger.js", "../../node_modules/react-bulma-components/src/components/navbar/components/menu.js", "../../node_modules/react-bulma-components/src/components/navbar/components/dropdown.js", "../../node_modules/react-bulma-components/src/components/navbar/components/item.js", "../../node_modules/react-bulma-components/src/components/navbar/components/divider.js", "../../node_modules/react-bulma-components/src/components/navbar/components/link.js", "../../node_modules/react-bulma-components/src/components/navbar/components/container.js", "../../node_modules/react-bulma-components/src/components/navbar/navbar.js", "../../node_modules/react-bulma-components/src/components/navbar/index.js", "../../node_modules/react-bulma-components/src/components/pagination/pagination.js", "../../node_modules/react-bulma-components/src/components/pagination/index.js", "../../node_modules/react-bulma-components/src/components/menu/components/list/components/item.js", "../../node_modules/react-bulma-components/src/components/menu/components/list/list.js", "../../node_modules/react-bulma-components/src/components/menu/components/list/index.js", "../../node_modules/react-bulma-components/src/components/menu/menu.js", "../../node_modules/react-bulma-components/src/components/menu/index.js", "../../node_modules/react-bulma-components/src/components/message/components/body.js", "../../node_modules/react-bulma-components/src/components/message/components/header.js", "../../node_modules/react-bulma-components/src/components/message/message.js", "../../node_modules/react-bulma-components/src/components/message/index.js", "../../node_modules/react-bulma-components/src/components/panel/components/block.js", "../../node_modules/react-bulma-components/src/components/panel/components/header.js", "../../node_modules/react-bulma-components/src/components/panel/components/icon.js", "../../node_modules/react-bulma-components/src/components/panel/components/tabs/components/tab.js", "../../node_modules/react-bulma-components/src/components/panel/components/tabs/tabs.js", "../../node_modules/react-bulma-components/src/components/panel/components/tabs/index.js", "../../node_modules/react-bulma-components/src/components/panel/panel.js", "../../node_modules/react-bulma-components/src/components/panel/index.js", "../../node_modules/react-bulma-components/src/index.js", "../dependencies.js", "../../node_modules/htm/preact/index.module.js", "../../node_modules/htm/dist/htm.module.js", "../../node_modules/jwt-decode/build/esm/index.js", "../../node_modules/oidc-client-ts/src/utils/Logger.ts", "../../node_modules/oidc-client-ts/src/utils/JwtUtils.ts", "../../node_modules/oidc-client-ts/src/utils/CryptoUtils.ts", "../../node_modules/oidc-client-ts/src/utils/Event.ts", "../../node_modules/oidc-client-ts/src/utils/PopupUtils.ts", "../../node_modules/oidc-client-ts/src/utils/Timer.ts", "../../node_modules/oidc-client-ts/src/utils/UrlUtils.ts", "../../node_modules/oidc-client-ts/src/errors/ErrorResponse.ts", "../../node_modules/oidc-client-ts/src/errors/ErrorTimeout.ts", "../../node_modules/oidc-client-ts/src/AccessTokenEvents.ts", "../../node_modules/oidc-client-ts/src/CheckSessionIFrame.ts", "../../node_modules/oidc-client-ts/src/InMemoryWebStorage.ts", "../../node_modules/oidc-client-ts/src/errors/ErrorDPoPNonce.ts", "../../node_modules/oidc-client-ts/src/JsonService.ts", "../../node_modules/oidc-client-ts/src/MetadataService.ts", "../../node_modules/oidc-client-ts/src/WebStorageStateStore.ts", "../../node_modules/oidc-client-ts/src/OidcClientSettings.ts", "../../node_modules/oidc-client-ts/src/UserInfoService.ts", "../../node_modules/oidc-client-ts/src/TokenClient.ts", "../../node_modules/oidc-client-ts/src/ResponseValidator.ts", "../../node_modules/oidc-client-ts/src/State.ts", "../../node_modules/oidc-client-ts/src/SigninState.ts", "../../node_modules/oidc-client-ts/src/SigninRequest.ts", "../../node_modules/oidc-client-ts/src/SigninResponse.ts", "../../node_modules/oidc-client-ts/src/SignoutRequest.ts", "../../node_modules/oidc-client-ts/src/SignoutResponse.ts", "../../node_modules/oidc-client-ts/src/ClaimsService.ts", "../../node_modules/oidc-client-ts/src/DPoPStore.ts", "../../node_modules/oidc-client-ts/src/OidcClient.ts", "../../node_modules/oidc-client-ts/src/SessionMonitor.ts", "../../node_modules/oidc-client-ts/src/User.ts", "../../node_modules/oidc-client-ts/src/navigators/AbstractChildWindow.ts", "../../node_modules/oidc-client-ts/src/UserManagerSettings.ts", "../../node_modules/oidc-client-ts/src/navigators/IFrameWindow.ts", "../../node_modules/oidc-client-ts/src/navigators/IFrameNavigator.ts", "../../node_modules/oidc-client-ts/src/navigators/PopupWindow.ts", "../../node_modules/oidc-client-ts/src/navigators/PopupNavigator.ts", "../../node_modules/oidc-client-ts/src/navigators/RedirectNavigator.ts", "../../node_modules/oidc-client-ts/src/UserManagerEvents.ts", "../../node_modules/oidc-client-ts/src/SilentRenewService.ts", "../../node_modules/oidc-client-ts/src/RefreshState.ts", "../../node_modules/oidc-client-ts/src/UserManager.ts", "../../node_modules/oidc-client-ts/package.json", "../../node_modules/oidc-client-ts/src/Version.ts", "../../node_modules/oidc-client-ts/src/IndexedDbDPoPStore.ts"],
  "sourcesContent": ["/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tlet shouldPlace = !!(childVNode._flags & INSERT_VNODE);\n\t\tif (shouldPlace || oldVNode._children === childVNode._children) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom, shouldPlace);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @param {boolean} shouldPlace\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom, shouldPlace) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom, shouldPlace);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (shouldPlace) {\n\t\t\tif (oldDom && parentVNode.type && !oldDom.parentNode) {\n\t\t\t\toldDom = getDomSibling(parentVNode);\n\t\t\t}\n\t\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\t}\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\tconst matched = oldVNode != NULL && (oldVNode._flags & MATCHED) == 0;\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren > (matched ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(matched && key == oldVNode.key && type == oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tconst childIndex = x >= 0 ? x-- : y++;\n\t\t\toldVNode = oldChildren[childIndex];\n\t\t\tif (\n\t\t\t\toldVNode != NULL &&\n\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\tkey == oldVNode.key &&\n\t\t\t\ttype == oldVNode.type\n\t\t\t) {\n\t\t\t\treturn childIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tmarkAsForce(newVNode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\tif (!e.then) markAsForce(newVNode);\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\nfunction markAsForce(vnode) {\n\tif (vnode && vnode._component) vnode._component._force = true;\n\tif (vnode && vnode._children) vnode._children.forEach(markAsForce);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n", "import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options as _options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\n// Cast to use internal Options type\nconst options = /** @type {import('./internal').Options} */ (_options);\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\nlet oldRoot = options._root;\n\n// We take the minimum timeout for requestAnimationFrame to ensure that\n// the callback is invoked after the next frame. 35ms is based on a 30hz\n// refresh rate, which is the minimum rate for a smooth user experience.\nconst RAF_TIMEOUT = 35;\nlet prevRaf;\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._root = (vnode, parentDom) => {\n\tif (vnode && parentDom._children && parentDom._children._mask) {\n\t\tvnode._mask = parentDom._children._mask;\n\t}\n\n\tif (oldRoot) oldRoot(vnode, parentDom);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingArgs = hookItem._nextValue = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\n// TODO: Improve typing of commitQueue parameter\n/** @type {(vnode: import('./internal').VNode, commitQueue: any) => void} */\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\n\treturn hooks._list[index];\n}\n\n/**\n * @template {unknown} S\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} [initialState]\n * @returns {[S, (state: S) => void]}\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @template {unknown} S\n * @template {unknown} A\n * @param {import('./index').Reducer<S, A>} reducer\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ S, (state: S) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\t/** @type {(x: import('./internal').HookState) => x is import('./internal').ReducerHookState} */\n\t\t\t\tconst isStateHook = x => !!x._component;\n\t\t\t\tconst stateHooks =\n\t\t\t\t\thookState._component.__hooks._list.filter(isStateHook);\n\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = hookState._component.props !== p;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn prevScu\n\t\t\t\t\t? prevScu.call(this, p, s, c) || shouldUpdate\n\t\t\t\t\t: shouldUpdate;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\n/** @type {(initialValue: unknown) => unknown} */\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tconst result = ref(createHandle());\n\t\t\t\treturn () => {\n\t\t\t\t\tref(null);\n\t\t\t\t\tif (result && typeof result == 'function') result();\n\t\t\t\t};\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @template {unknown} T\n * @param {() => T} factory\n * @param {unknown[]} args\n * @returns {T}\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState<T>} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {unknown[]} args\n * @returns {() => void}\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(\n\t\t\tformatter ? formatter(value) : /** @type {any}*/ (value)\n\t\t);\n\t}\n}\n\n/**\n * @param {(error: unknown, errorInfo: import('preact').ErrorInfo) => void} cb\n * @returns {[unknown, () => void]}\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/** @type {() => string} */\nexport function useId() {\n\t/** @type {import('./internal').IdHookState} */\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n * @returns {void}\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').HookState} hook\n * @returns {void}\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n * @returns {void}\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {unknown[]} oldArgs\n * @param {unknown[]} newArgs\n * @returns {boolean}\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\n/**\n * @template Arg\n * @param {Arg} arg\n * @param {(arg: Arg) => any} f\n * @returns {any}\n */\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n", "import { useState, useLayoutEffect, useEffect } from 'preact/hooks';\nimport { is } from './util';\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n * @typedef {{ _value: any; _getSnapshot: () => any }} Store\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\t/**\n\t * @typedef {{ _instance: Store }} StoreRef\n\t * @type {[StoreRef, (store: StoreRef) => void]}\n\t */\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (didSnapshotChange(_instance)) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (didSnapshotChange(_instance)) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (didSnapshotChange(_instance)) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\n/** @type {(inst: Store) => boolean} */\nfunction didSnapshotChange(inst) {\n\tconst latestGetSnapshot = inst._getSnapshot;\n\tconst prevValue = inst._value;\n\ttry {\n\t\tconst nextValue = latestGetSnapshot();\n\t\treturn !is(prevValue, nextValue);\n\t} catch (error) {\n\t\treturn true;\n\t}\n}\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n", "import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p, c) {\n\tthis.props = p;\n\tthis.context = c;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n", "import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\tMemoed.type = c;\n\treturn Memoed;\n}\n", "import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = fn;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n", "import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n", "import { Component, createElement, options, Fragment } from 'preact';\nimport { MODE_HYDRATE } from '../../src/constants';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._flags & MODE_HYDRATE) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\n\t\t\tvnode._component._force = true;\n\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode && originalParent) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.appendChild(vnode._dom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tif (\n\t\t!c._pendingSuspensionCount++ &&\n\t\t!(suspendingVNode._flags & MODE_HYDRATE)\n\t) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._flags &= ~MODE_HYDRATE;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n", "import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\tif (!_this._temp) {\n\t\t// Ensure the element has a mask for useId invocations\n\t\tlet root = _this._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\t_this._container = container;\n\n\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t_this._temp = {\n\t\t\tnodeType: 1,\n\t\t\tparentNode: container,\n\t\t\tchildNodes: [],\n\t\t\t_children: { _mask: root._mask },\n\t\t\tcontains: () => true,\n\t\t\tinsertBefore(child, before) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.insertBefore(child, before);\n\t\t\t},\n\t\t\tremoveChild(child) {\n\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t_this._container.removeChild(child);\n\t\t\t}\n\t\t};\n\t}\n\n\t// Render our wrapping element into temp.\n\trender(\n\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t_this._temp\n\t);\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n", "import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\nimport {\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tuseEffect,\n\tuseId,\n\tuseImperativeHandle,\n\tuseLayoutEffect,\n\tuseMemo,\n\tuseReducer,\n\tuseRef,\n\tuseState\n} from 'preact/hooks';\nimport {\n\tuseDeferredValue,\n\tuseInsertionEffect,\n\tuseSyncExternalStore,\n\tuseTransition\n} from './index';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tlet isNonDashedType = type.indexOf('-') === -1;\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'translate' && value === 'no') {\n\t\t\tvalue = false;\n\t\t} else if (lowerCased[0] === 'o' && lowerCased[1] === 'n') {\n\t\t\tif (lowerCased === 'ondoubleclick') {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\tlowerCased === 'onchange' &&\n\t\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\tlowerCased = i = 'oninput';\n\t\t\t} else if (lowerCased === 'onfocus') {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (lowerCased === 'onblur') {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (ON_ANI.test(i)) {\n\t\t\t\ti = lowerCased;\n\t\t\t}\n\t\t} else if (isNonDashedType && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t},\n\t\t\tuseCallback,\n\t\t\tuseContext,\n\t\t\tuseDebugValue,\n\t\t\tuseDeferredValue,\n\t\t\tuseEffect,\n\t\t\tuseId,\n\t\t\tuseImperativeHandle,\n\t\t\tuseInsertionEffect,\n\t\t\tuseLayoutEffect,\n\t\t\tuseMemo,\n\t\t\t// useMutableSource, // experimental-only and replaced by uSES, likely not worth supporting\n\t\t\tuseReducer,\n\t\t\tuseRef,\n\t\t\tuseState,\n\t\t\tuseSyncExternalStore,\n\t\t\tuseTransition\n\t\t}\n\t}\n};\n", "import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport {\n\tuseInsertionEffect,\n\tstartTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tuseTransition\n} from './hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '18.3.1'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Check if the passed element is a Fragment node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isFragment(element) {\n\treturn isValidElement(element) && element.type === Fragment;\n}\n\n/**\n * Check if the passed element is a Memo node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isMemo(element) {\n\treturn (\n\t\t!!element &&\n\t\t!!element.displayName &&\n\t\t(typeof element.displayName === 'string' ||\n\t\t\telement.displayName instanceof String) &&\n\t\telement.displayName.startsWith('Memo(')\n\t);\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\n// compat to react-is\nexport const isElement = isValidElement;\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisFragment,\n\tisMemo,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tuseInsertionEffect,\n\tstartTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tuseTransition,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisElement,\n\tisFragment,\n\tisMemo,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n", "/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "export const normalizeAlign = (align) => {\n  const map = {\n    justify: 'justifyed',\n    center: 'centered',\n  };\n  return map[align] || align;\n};\n\nexport const normalizeStatus = (status) => {\n  const map = {\n    focus: 'focused',\n    hover: 'hovered',\n    active: 'active',\n  };\n  return map[status] || status;\n};\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { normalizeAlign } from '../../services/normalizer';\n\nconst buildResponsiveness = (\n  currentViewport,\n  { display, textAlign, textSize, only, invisible } = {},\n) => {\n  const suffix = only ? '-only' : '';\n\n  return classnames({\n    [`is-${display}-${currentViewport}${suffix}`]: display,\n    [`has-text-${normalizeAlign(\n      textAlign,\n    )}-${currentViewport}${suffix}`]: textAlign,\n    [`is-size-${textSize}-${currentViewport}${suffix}`]: textSize,\n    [`is-invisible-${currentViewport}${suffix}`]: invisible,\n  });\n};\n\nexport const useElementClassNames = ({\n  textColor,\n  backgroundColor,\n  colorVariant,\n  flexDirection,\n  flexWrap,\n  justifyContent,\n  alignContent,\n  alignItems,\n  flexGrow,\n  ratio,\n  clearfix,\n  paddingless,\n  pull,\n  marginless,\n  overlay,\n  clipped,\n  radiusless,\n  shadowless,\n  unselectable,\n  invisible,\n  clickable,\n  srOnly,\n  display,\n  m,\n  mt,\n  mr,\n  mb,\n  ml,\n  mx,\n  my,\n  p,\n  pt,\n  pr,\n  pb,\n  pl,\n  px,\n  py,\n  textWeight,\n  textTransform,\n  italic,\n  textSize,\n  textAlign,\n  textFamily,\n  // responsive\n  mobile,\n  tablet,\n  desktop,\n  widescreen,\n  fullhd,\n  touch,\n  untilWidescreen,\n  untilFullhd,\n  ...props\n}) => {\n  return [\n    classnames(\n      {\n        [`has-text-${textColor}`]: textColor,\n        [`has-background-${backgroundColor}`]: backgroundColor,\n        [`is-${colorVariant}`]: colorVariant,\n        [`is-flex-direction-${flexDirection}`]: flexDirection,\n        [`is-flex-wrap-${flexWrap}`]: flexWrap,\n        [`is-justify-content-${justifyContent}`]: justifyContent,\n        [`is-align-content-${alignContent}`]: alignContent,\n        [`is-align-items-${alignItems}`]: alignItems,\n        [`is-flex-grow-${flexGrow}`]: flexGrow,\n        'is-clearfix': clearfix,\n        [`is-pulled-${pull}`]: pull,\n        'is-marginless': marginless,\n        'is-paddingless': paddingless,\n        'is-overlay': overlay,\n        'is-clipped': clipped,\n        'is-radiusless': radiusless,\n        'is-shadowless': shadowless,\n        'is-unselectable': unselectable,\n        [`is-${display}`]: display,\n        'is-invisible': invisible,\n        'is-sr-only': srOnly,\n        'is-clickable': clickable,\n        [`m-${m}`]: m,\n        [`mt-${mt}`]: mt,\n        [`mr-${mr}`]: mr,\n        [`mb-${mb}`]: mb,\n        [`ml-${ml}`]: ml,\n        [`mx-${mx}`]: mx,\n        [`my-${my}`]: my,\n        [`p-${p}`]: p,\n        [`pt-${pt}`]: pt,\n        [`pr-${pr}`]: pr,\n        [`pb-${pb}`]: pb,\n        [`pl-${pl}`]: pl,\n        [`px-${px}`]: px,\n        [`py-${py}`]: py,\n        [`has-text-${normalizeAlign(textAlign)}`]: textAlign,\n        [`has-text-weight-${textWeight}`]: textWeight,\n        [`is-size-${textSize}`]: textSize,\n        [`is-${textTransform}`]: textTransform,\n        [`is-family-${textFamily}`]: textFamily,\n        'is-italic': italic,\n      },\n      buildResponsiveness('mobile', mobile),\n      buildResponsiveness('tablet', tablet),\n      buildResponsiveness('desktop', desktop),\n      buildResponsiveness('widescreen', widescreen),\n      buildResponsiveness('fullhd', fullhd),\n      buildResponsiveness('touch', touch),\n      buildResponsiveness('until-widescreen', untilWidescreen),\n      buildResponsiveness('until-fullhd', untilFullhd),\n    ),\n    props,\n  ];\n};\n\nconst Element = ({ className, renderAs, domRef, children, ...allProps }) => {\n  const RenderAs = renderAs;\n  const [classNames, props] = useElementClassNames(allProps);\n  return (\n    <RenderAs\n      ref={domRef}\n      className={classnames(className, classNames) || undefined}\n      {...props}\n    >\n      {children}\n    </RenderAs>\n  );\n};\n\nElement.propTypes = {\n  alignContent: PropTypes.oneOf([\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-around',\n    'space-between',\n    'space-evenly',\n    'stretch',\n    'start',\n    'end',\n    'baseline',\n  ]),\n  alignItems: PropTypes.oneOf([\n    'auto',\n    'flex-start',\n    'flex-end',\n    'center',\n    'baseline',\n    'stretch',\n  ]),\n  backgroundColor: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  className: PropTypes.string,\n  clearfix: PropTypes.bool,\n  clickable: PropTypes.bool,\n  clipped: PropTypes.bool,\n  colorVariant: PropTypes.oneOf(['light', 'dark']),\n  display: PropTypes.oneOf([\n    'block',\n    'flex',\n    'inline',\n    'inline-block',\n    'inline-flex',\n    'relative',\n    'hidden',\n  ]),\n  /**\n   * Reference to Dom element\n   */\n  domRef: PropTypes.object,\n  // Flex\n  flexDirection: PropTypes.oneOf([\n    'row',\n    'row-reverse',\n    'column',\n    'column-reverse',\n  ]),\n  flexWrap: PropTypes.oneOf(['nowrap', 'wrap', 'wrap-reverse']),\n  flexGrow: PropTypes.oneOf([0, 1, 2, 3, 4, 5]),\n  italic: PropTypes.bool,\n  invisible: PropTypes.bool,\n  justifyContent: PropTypes.oneOf([\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-around',\n    'space-between',\n    'space-evenly',\n    'start',\n    'end',\n    'left',\n    'right',\n  ]),\n  m: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  mt: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  mr: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  mb: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  ml: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  mx: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  my: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  marginless: PropTypes.bool,\n  overlay: PropTypes.bool,\n  paddingless: PropTypes.bool,\n  p: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  pt: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  pr: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  pb: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  pl: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  px: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  py: PropTypes.oneOfType([\n    PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  pull: PropTypes.oneOf([undefined, 'right', 'left']),\n  radiusless: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    /**\n     * A string with the name of an Html element or a React Component\n     */\n    PropTypes.object,\n  ]),\n  shadowless: PropTypes.bool,\n  textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n  textColor: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  textFamily: PropTypes.string,\n  textSize: PropTypes.oneOfType([\n    PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  textTransform: PropTypes.oneOf(['capitalized', 'lowercase', 'uppercase']),\n  textWeight: PropTypes.oneOf(['light', 'normal', 'semibold', 'bold']),\n  unselectable: PropTypes.bool,\n\n  mobile: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n  }),\n  tablet: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n    only: PropTypes.bool,\n  }),\n  desktop: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n    only: PropTypes.bool,\n  }),\n  widescreen: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n    only: PropTypes.bool,\n  }),\n  fullhd: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n  }),\n  touch: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n  }),\n  untilWidrscreen: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['center', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n  }),\n  untilFullhd: PropTypes.shape({\n    textSize: PropTypes.oneOfType([\n      PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7]),\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    textAlign: PropTypes.oneOf(['centered', 'justify', 'left', 'right']),\n    display: PropTypes.oneOf([\n      'block',\n      'flex',\n      'inline',\n      'inline-block',\n      'inline-flex',\n      'hidden',\n    ]),\n  }),\n};\n\nElement.defaultProps = {\n  renderAs: 'div',\n};\n\nexport default Element;\n", "import Element from './element';\n\nexport default Element;\n", "import React, { useContext } from 'react';\n\nexport const FieldContext = React.createContext({\n  size: undefined,\n});\n\nconst useFieldContext = () => {\n  return useContext(FieldContext);\n};\n\nexport default useFieldContext;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../../element';\nimport useFieldContext from './context';\n\nconst FieldLabel = ({ className, size, ...props }) => {\n  const context = useFieldContext();\n  return (\n    <Element\n      {...props}\n      className={classnames('field-label', className, {\n        [`is-${size}`]: size || context.size,\n      })}\n    />\n  );\n};\n\nFieldLabel.propTypes = {\n  size: PropTypes.oneOf(['small', 'normal', 'medium', 'large']),\n};\n\nFieldLabel.defaultProps = {};\n\nexport default FieldLabel;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../../element';\n\nconst FieldBody = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('field-body', className, {})}>\n      {children}\n    </Element>\n  );\n};\n\nFieldBody.propTypes = {};\n\nFieldBody.defaultProps = {};\n\nexport default FieldBody;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport FieldLabel from './field-label';\nimport FieldBody from './field-body';\n\nimport Element from '../../../element';\nimport { normalizeAlign } from '../../../../services/normalizer';\nimport useFieldContext, { FieldContext } from './context';\n\nconst Field = ({\n  className,\n  align,\n  multiline,\n  horizontal,\n  kind,\n  size,\n  ...props\n}) => {\n  const context = useFieldContext();\n  let k = null;\n\n  if (kind === 'addons') {\n    k = 'has-addons';\n  } else if (kind === 'group') {\n    k = 'is-grouped';\n  }\n\n  return (\n    <FieldContext.Provider value={{ size: size || context.size }}>\n      <Element\n        {...props}\n        className={classnames('field', className, {\n          [`${k}`]: k,\n          [`${k}-${normalizeAlign(align)}`]: k === 'is-grouped' && align,\n          [`${k}-multiline`]: k === 'is-grouped' && multiline,\n          'is-horizontal': horizontal,\n        })}\n      />\n    </FieldContext.Provider>\n  );\n};\n\nField.Label = FieldLabel;\n\nField.Body = FieldBody;\n\nField.propTypes = {\n  /**\n   * When this prop is set this value will be used as size for `Form.Label` `Form.Input`, `Form.Textarea`, `Form.Select`, `Button` and `Icon` inside the field\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * `addon`: Will group together the controls without gap between\n   * `group`: Will group together the controls with evenly seperation between\n   */\n  kind: PropTypes.oneOf(['addons', 'group']),\n  /**\n   * Working together with `kind=\"group\"` to align all controls\n   */\n  align: PropTypes.oneOf(['center', 'right']),\n  /**\n   * When `kind=\"group\"` will wrap to next line if the control do not fit on the current line\n   */\n  multiline: PropTypes.bool,\n  /**\n   * To create a 2 columns form, See `Form.Field.Label` and `Form.Field.Body` for more details\n   */\n  horizontal: PropTypes.bool,\n};\n\nField.defaultProps = {};\n\nexport default Field;\n", "export { default } from './field';\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Element from '../../../element';\n\nconst Text = ({ className, ...props }) => {\n  return <Element className={classNames('icon-text', className)} {...props} />;\n};\n\nText.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nText.defaultProps = {\n  renderAs: 'span',\n};\n\nexport default Text;\n", "import Text from './text';\n\nexport default Text;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Text from './components/text';\n\nimport Element from '../element';\n\nconst Icon = ({ size, color, className, align, text, ...props }) => {\n  if (text !== undefined) {\n    console.warn(\n      '[Deprecation] Text prop for Icon Component its deprecated, please use Icon.Text Component instead',\n    );\n  }\n  return (\n    <Element\n      {...props}\n      className={classnames(className, {\n        icon: !text,\n        [`is-${size}`]: size,\n        [`is-${align}`]: align,\n        [`has-text-${color}`]: color,\n        'icon-text': text,\n      })}\n    />\n  );\n};\n\nIcon.propTypes = {\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * Used when the icon is inside a `Form.Control`\n   */\n  align: PropTypes.oneOf(['left', 'right']),\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nIcon.defaultProps = {\n  renderAs: 'span',\n};\n\nIcon.Text = Text;\n\nexport default Icon;\n", "import Icon from './icon';\n\nexport default Icon;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../../element';\nimport { normalizeAlign } from '../../../services/normalizer';\n\nconst ButtonGroup = ({ className, hasAddons, align, size, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('buttons', className, {\n        'has-addons': hasAddons,\n        [`is-${[normalizeAlign(align)]}`]: align,\n        [`are-${size}`]: size,\n      })}\n    />\n  );\n};\n\nButtonGroup.propTypes = {\n  hasAddons: PropTypes.bool,\n  /**\n   * The size of *all* the buttons in the group.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  /**\n   * Align of the group. By default, it is left-aligned.\n   */\n  align: PropTypes.oneOf(['center', 'right']),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nButtonGroup.defaultProps = {\n  renderAs: 'div',\n};\n\nexport default ButtonGroup;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ButtonGroup from './components/button-group';\nimport Element from '../element';\nimport { normalizeStatus } from '../../services/normalizer';\n\nconst Button = ({\n  children,\n  className,\n  renderAs,\n  color,\n  size,\n  outlined,\n  inverted,\n  submit,\n  reset,\n  fullwidth,\n  status,\n  loading,\n  disabled,\n  remove,\n  isSelected,\n  isStatic,\n  rounded,\n  onClick,\n  text,\n  ...props\n}) => {\n  let otherProps = {};\n  if (submit) {\n    otherProps = {\n      type: 'submit',\n      renderAs: 'button',\n    };\n  }\n  if (reset) {\n    otherProps = {\n      type: 'reset',\n      renderAs: 'button',\n    };\n  }\n\n  if (isStatic) {\n    otherProps = {\n      renderAs: 'span',\n    };\n  }\n\n  return (\n    <Element\n      tabIndex={disabled ? -1 : 0}\n      renderAs={renderAs}\n      {...props}\n      {...otherProps}\n      disabled={disabled}\n      onClick={disabled ? undefined : onClick}\n      className={classnames(className, {\n        [`is-${color}`]: color,\n        [`is-${size}`]: size,\n        'is-selected': isSelected,\n        'is-static': isStatic,\n        'is-rounded': rounded,\n        'is-outlined': outlined,\n        'is-inverted': inverted,\n        'is-fullwidth': fullwidth,\n        [`is-${normalizeStatus(status)}`]: status,\n        'is-loading': loading,\n        'is-text': text,\n        delete: remove,\n        button: !remove,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nButton.Group = ButtonGroup;\n\nButton.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n      'black-bis',\n      'black-ter',\n      'white-bis',\n      'white-ter',\n      'grey-darker',\n      'grey-dark',\n      'grey-light',\n      'grey-lighter',\n    ]),\n    PropTypes.string,\n  ]),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * Whether Button should have an outline.\n   */\n  outlined: PropTypes.bool,\n  /**\n   * Whether Button should have an inverted color scheme. Useful when button is used on colored background\n   */\n  inverted: PropTypes.bool,\n  submit: PropTypes.bool,\n  reset: PropTypes.bool,\n  status: PropTypes.oneOf(['focus', 'hover', 'active']),\n  loading: PropTypes.bool,\n  /**\n   * Whether Button should occupy the full width of parent\n   */\n  fullwidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  remove: PropTypes.bool,\n  /**\n   * Whether Button is selected. Useful in a Button.Group.\n   */\n  isSelected: PropTypes.bool,\n  /**\n   * Whether Button is non-interactive/static.\n   */\n  isStatic: PropTypes.bool,\n  /**\n   * Whether Button should have fully-rounded corners\n   */\n  rounded: PropTypes.bool,\n  /**\n   * Whether Button is a text button.\n   */\n  text: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nButton.defaultProps = {\n  renderAs: 'button',\n};\n\nexport default Button;\n", "import Button from './button';\n\nexport default Button;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\nimport Icon from '../../icon';\nimport useFieldContext from './field/context';\nimport Button from '../../button';\n\nconst Control = ({\n  children,\n  className,\n  fullwidth,\n  loading,\n  iconType,\n  ...props\n}) => {\n  const context = useFieldContext();\n\n  const isIcon = (child) => {\n    return (\n      child.type === (iconType || Icon) &&\n      (child.props.align === 'left' || child.props.align === 'right')\n    );\n  };\n\n  const updatedChildren = React.Children.map(children, (child) => {\n    if (!child || (!isIcon(child) && child.type !== Button)) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      size: child.props.size || context.size,\n    });\n  });\n\n  const icons = React.Children.toArray(updatedChildren)\n    .filter(isIcon)\n    .reduce(\n      (acc, icon) => {\n        return {\n          iconLeft: acc.iconLeft || icon.props.align === 'left',\n          iconRight: acc.iconRight || icon.props.align === 'right',\n        };\n      },\n      { iconLeft: false, iconRight: false },\n    );\n  return (\n    <Element\n      {...props}\n      className={classnames('control', className, {\n        'is-expanded': fullwidth,\n        'has-icons-left': icons.iconLeft,\n        'has-icons-right': icons.iconRight,\n        'is-loading': loading,\n      })}\n    >\n      {updatedChildren}\n    </Element>\n  );\n};\n\nControl.propTypes = {\n  loading: PropTypes.bool,\n  iconType: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n  /**\n   * When true and the `Field` container has the `kind` props set the Control\n   * will use all available space instead of adjusting to the element inside\n   */\n  fullwidth: PropTypes.bool,\n};\n\nControl.defaultProps = {};\n\nexport default Control;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\nimport useFieldContext from './field/context';\nimport { normalizeStatus } from '../../../services/normalizer';\n\nconst Input = ({\n  className,\n  size,\n  color,\n  readOnly,\n  isStatic,\n  status,\n  rounded,\n  ...props\n}) => {\n  const context = useFieldContext();\n  const calculatedSize = size || context.size;\n  return (\n    <Element\n      {...props}\n      readOnly={readOnly || isStatic}\n      className={classnames('input', className, {\n        'is-static': isStatic,\n        [`is-${normalizeStatus(status)}`]: status,\n        'is-rounded': rounded,\n        [`is-${calculatedSize}`]: calculatedSize,\n        [`is-${color}`]: color,\n      })}\n    />\n  );\n};\n\nInput.propTypes = {\n  /**\n   * Adjusts the size of this input.\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * The color of this input.\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  /**\n   * Whether this input should be read-only.\n   * Equivalent to the readonly attribute of the `<input>` element.\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * Whether this input should be static.\n   * If true, this input will be readonly, and all the input decorations\n   * are removed.\n   */\n  isStatic: PropTypes.bool,\n  status: PropTypes.oneOf(['focus', 'hover']),\n  /**\n   * Whether this input is rounded. The input will have a 50% border-radius,\n   * making the left and right side fully rounded.\n   */\n  rounded: PropTypes.bool,\n  disabled: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nInput.defaultProps = {\n  renderAs: 'input',\n};\n\nexport default Input;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\nimport useFieldContext from './field/context';\n\nconst Label = ({ children, className, size, ...props }) => {\n  const context = useFieldContext();\n  const calculatedSize = size || context.size;\n  return (\n    <Element\n      {...props}\n      className={classnames('label', className, {\n        [`is-${calculatedSize}`]: calculatedSize,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nLabel.propTypes = {\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nLabel.defaultProps = {\n  renderAs: 'label',\n};\n\nexport default Label;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../../element';\nimport useFieldContext from './field/context';\nimport { normalizeStatus } from '../../../services/normalizer';\n\nconst Textarea = ({ className, size, color, status, fixedSize, ...props }) => {\n  const context = useFieldContext();\n  const calculatedSize = size || context.size;\n  return (\n    <Element\n      {...props}\n      className={classnames('textarea', className, {\n        [`is-${normalizeStatus(status)}`]: status,\n        'has-fixed-size': fixedSize,\n        [`is-${calculatedSize}`]: calculatedSize,\n        [`is-${color}`]: color,\n      })}\n    />\n  );\n};\n\nTextarea.propTypes = {\n  /**\n   * Adjusts the size of the textarea input\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * The color of this input.\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  status: PropTypes.oneOf(['focus', 'hover']),\n  /**\n   * Whether the size of this textarea should be fixed regardless of its content.\n   */\n  fixedSize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nTextarea.defaultProps = {\n  renderAs: 'textarea',\n};\n\nexport default Textarea;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\nimport useFieldContext from './field/context';\nimport { normalizeStatus } from '../../../services/normalizer';\n\nconst Select = ({\n  className,\n  rounded,\n  style,\n  size,\n  color,\n  loading,\n  status,\n  disabled,\n  value,\n  multiple,\n  children,\n  name,\n  domRef,\n  fullwidth,\n  ...props\n}) => {\n  const context = useFieldContext();\n  const calculatedSize = size || context.size;\n\n  return (\n    <Element\n      domRef={domRef}\n      className={classnames('select', className, {\n        [`is-${calculatedSize}`]: calculatedSize,\n        [`is-${color}`]: color,\n        'is-fullwidth': fullwidth,\n        'is-loading': loading,\n        'is-multiple': multiple,\n        'is-rounded': rounded,\n      })}\n      style={style}\n    >\n      <Element\n        {...props}\n        className={classnames({\n          [`is-${normalizeStatus(status)}`]: status,\n        })}\n        multiple={multiple}\n        value={value}\n        disabled={disabled}\n        name={name}\n      >\n        {children}\n      </Element>\n    </Element>\n  );\n};\n\nSelect.propTypes = {\n  /**\n   * Adjusts the size of this component.\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * Adjusts the color of this component.\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  /**\n   * Whether the dropdown button should have fully rounded corners.\n   */\n  rounded: PropTypes.bool,\n  disabled: PropTypes.bool,\n  /**\n   * Whether the `<select>` element should accept multiple values.\n   * If true, then the `value` prop can only accept an array.\n   */\n  multiple: PropTypes.bool,\n  /**\n   * Whether a loading spinner should be shown in place of the dropdown arrow\n   */\n  loading: PropTypes.bool,\n  /**\n   * Whether this component is hovered.\n   */\n  status: PropTypes.oneOf(['hover', 'focus']),\n  /**\n   * The value that is held by the `<select>` element.\n   * Must be an array if `multiple` prop is true.\n   *\n   * If this prop is undefined, an empty string will be the default value\n   * of `<select>`, or an empty array if `multiple` is true.\n   */\n  value: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  /**\n   * The name of the input field.\n   * Commonly used for [multi-input handling](https://reactjs.org/docs/forms.html#handling-multiple-inputs)\n   */\n  name: PropTypes.string,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nSelect.defaultProps = {\n  renderAs: 'select',\n};\n\nexport default Select;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst Checkbox = ({\n  className,\n  style,\n  disabled,\n  children,\n  domRef,\n  ...props\n}) => {\n  return (\n    <Element\n      renderAs=\"label\"\n      domRef={domRef}\n      disabled={disabled}\n      className={classnames('checkbox', className)}\n      style={style}\n    >\n      <Element type=\"checkbox\" disabled={disabled} {...props} /> {children}\n    </Element>\n  );\n};\n\nCheckbox.propTypes = {\n  disabled: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nCheckbox.defaultProps = {\n  renderAs: 'input',\n};\n\nexport default Checkbox;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst Radio = ({\n  className,\n  style,\n  disabled,\n  checked,\n  value,\n  name,\n  children,\n  domRef,\n  ...props\n}) => {\n  return (\n    <Element\n      renderAs=\"label\"\n      domRef={domRef}\n      disabled={disabled}\n      className={classnames('radio', className)}\n      style={style}\n    >\n      <Element\n        {...props}\n        name={name}\n        checked={checked}\n        type=\"radio\"\n        value={value}\n        disabled={disabled}\n      />{' '}\n      {children}\n    </Element>\n  );\n};\n\nRadio.propTypes = {\n  /**\n   * The name of the input field.\n   * Commonly used for [multi-input handling](https://reactjs.org/docs/forms.html#handling-multiple-inputs)\n   */\n  name: PropTypes.string,\n  /**\n   * React style object for `Form.Radio`\n   */\n  style: PropTypes.shape({}),\n  /**\n   * Whether this radio button is disabled.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Whether this radio button is checked,\n   */\n  checked: PropTypes.bool,\n  /**\n   * The associated value of this radio button.\n   * You can retrieve this value in the onChange handler of this component.\n   */\n  value: PropTypes.string,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nRadio.defaultProps = {\n  renderAs: 'input',\n};\n\nexport default Radio;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst Help = ({ className, children, color, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('help', className, {\n        [`is-${color}`]: color,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nHelp.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nHelp.defaultProps = {\n  renderAs: 'p',\n};\n\nexport default Help;\n", "import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../../element';\n\nimport useFieldContext from './field/context';\nimport { normalizeAlign } from '../../../services/normalizer';\n\nconst InputFile = ({\n  className,\n  style,\n  onChange,\n  color,\n  size,\n  fullwidth,\n  align,\n  boxed,\n  name,\n  label,\n  icon,\n  inputProps,\n  filename,\n  value,\n  ...props\n}) => {\n  const ref = useRef();\n  const context = useFieldContext();\n  const calculatedSize = size || context.size;\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (value) {\n      ref.current.files = value;\n    } else {\n      ref.current.value = '';\n    }\n  }, [value]);\n\n  return (\n    <Element\n      style={style}\n      {...props}\n      className={classnames('file', className, {\n        [`is-${calculatedSize}`]: calculatedSize,\n        [`is-${color}`]: color,\n        [`is-${normalizeAlign(align)}`]: align,\n        'has-name': !!filename,\n        'is-boxed': boxed,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <label className=\"file-label\">\n        <input\n          {...inputProps}\n          name={name}\n          type=\"file\"\n          className=\"file-input\"\n          onChange={onChange}\n          ref={ref}\n        />\n        <span className=\"file-cta\">\n          {icon && <span className=\"file-icon\">{icon}</span>}\n          <span className=\"file-label\">{label}</span>\n        </span>\n        {filename && <span className=\"file-name\">{filename}</span>}\n      </label>\n    </Element>\n  );\n};\n\nInputFile.propTypes = {\n  /**\n   * The color of `InputFile`\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  /**\n   * The size of `InputFile`\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * The name of the selected file. It will be shown as the file label\n   * of this component, next/under the upload button.\n   */\n  filename: PropTypes.string,\n  /**\n   * The selected file(s) object.\n   */\n  value: PropTypes.any,\n  /**\n   * Whether `InputFile` should take up all available width.\n   */\n  fullwidth: PropTypes.bool,\n  align: PropTypes.oneOf(['center', 'right']),\n  /**\n   * Whether `InputFile` should be rendered in a box shape.\n   */\n  boxed: PropTypes.bool,\n  /**\n   * The name of the input field Commonly used for [multi-input handling](https://reactjs.org/docs/forms.html#handling-multiple-inputs)\n   */\n  name: PropTypes.string,\n  /**\n   * Label for the upload button.\n   */\n  label: PropTypes.string,\n  /**\n   * An optional icon to be drawn in the button next to/on top of the button label.\n   *\n   * `icon={<i className=\"fas ...\" />}`\n   */\n  icon: PropTypes.element,\n  /**\n   * Additional props to be passed to the underlying `<input>` element.\n   * Other props passed to `InputFile` itself will be passed to the element\n   * that wraps around the `<input>` element.\n   */\n  inputProps: PropTypes.shape({}),\n};\n\nInputFile.defaultProps = {\n  label: 'Choose a file...',\n  inputProps: {},\n};\n\nexport default InputFile;\n", "import Field from './components/field';\nimport Control from './components/control';\nimport Input from './components/input';\nimport Label from './components/label';\nimport Textarea from './components/textarea';\nimport Select from './components/select';\nimport Checkbox from './components/checkbox';\nimport Radio from './components/radio';\nimport Help from './components/help';\nimport InputFile from './components/input-file';\n\nexport {\n  Field,\n  Control,\n  Input,\n  Label,\n  Textarea,\n  Select,\n  Checkbox,\n  Radio,\n  Help,\n  InputFile,\n};\n", "import React from 'react';\nimport classnames from 'classnames';\nimport Element from '../element';\n\nconst Box = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('box', className)}>\n      {children}\n    </Element>\n  );\n};\n\nBox.propTypes = {};\n\nBox.defaultProps = {};\n\nexport default Box;\n", "import Box from './box';\n\nexport default Box;\n", "import React from 'react';\nimport classnames from 'classnames';\nimport Element from '../element';\n\nconst Block = ({ className, ...props }) => {\n  return <Element {...props} className={classnames('block', className)} />;\n};\n\nBlock.propTypes = {};\n\nBlock.defaultProps = {};\n\nexport default Block;\n", "import Block from './block';\n\nexport default Block;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport Element from '../../element';\n\nconst BreadcrumbItem = ({ className, active, children, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classNames(className, {\n        'is-active': active,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nBreadcrumbItem.propTypes = {\n  active: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nBreadcrumbItem.defaultProps = {\n  renderAs: 'li',\n};\n\nexport default BreadcrumbItem;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../element';\nimport BreadcrumbItem from './components/item';\n\nconst Breadcrumb = ({\n  className,\n  separator,\n  size,\n  align,\n  children,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('breadcrumb', className, {\n        [`has-${separator}-separator`]: separator,\n        [`is-${size}`]: size,\n        [`is-${align}`]: align,\n      })}\n    >\n      <ul>{children}</ul>\n    </Element>\n  );\n};\n\nBreadcrumb.Item = BreadcrumbItem;\n\nBreadcrumb.propTypes = {\n  separator: PropTypes.oneOf(['arrow', 'bullet', 'dot', 'succeeds']),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  align: PropTypes.oneOf(['right', 'center']),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nBreadcrumb.defaultProps = {\n  separator: undefined,\n  renderAs: 'nav',\n  size: undefined,\n  align: undefined,\n};\n\nexport default Breadcrumb;\n", "import Breadcrumb from './breadcrumb';\n\nexport default Breadcrumb;\n", "import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Image = ({\n  className,\n  alt,\n  size,\n  fallback,\n  rounded,\n  src,\n  fullwidth,\n  ...props\n}) => {\n  const [state, setState] = useState({ src });\n  useEffect(() => {\n    setState({ src });\n  }, [src]);\n  let s = size;\n\n  if (typeof size === 'number') {\n    s = `${s}x${s}`;\n  }\n  return (\n    <Element\n      {...props}\n      className={classnames('image', className, {\n        [`is-${s}`]: s,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <img\n        className={classnames({\n          'is-rounded': rounded,\n        })}\n        onError={() => {\n          return state.src !== fallback && setState({ src: fallback });\n        }}\n        src={state.src}\n        alt={alt}\n      />\n    </Element>\n  );\n};\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      16,\n      24,\n      32,\n      48,\n      64,\n      96,\n      128,\n      'square',\n      '1by1',\n      '4by3',\n      '3by2',\n      '16by9',\n      '2by1',\n      '5by4',\n      '5by3',\n      '3by1',\n      '4by5',\n      '3by4',\n      '2by3',\n      '3by5',\n      '9by16',\n      '1by2',\n      '1by3',\n    ]),\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nImage.defaultProps = {\n  renderAs: 'figure',\n};\n\nexport default Image;\n", "import Image from './image';\n\nexport default Image;\n", "import React from 'react';\nimport classnames from 'classnames';\nimport Image from '../../image';\n\nimport Element from '../../element';\n\nconst CardImage = ({ className, domRef, ...props }) => {\n  return (\n    <Element domRef={domRef} className={classnames('card-image', className)}>\n      <Image {...props} />\n    </Element>\n  );\n};\n\nCardImage.propTypes = {};\n\nCardImage.defaultProps = {};\n\nexport default CardImage;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst CardContent = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('card-content', className)} />\n  );\n};\n\nCardContent.propTypes = {};\n\nCardContent.defaultProps = {};\n\nexport default CardContent;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../../../element';\n\nconst CardHeaderTitle = ({ className, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('card-header-title', className)}\n    />\n  );\n};\n\nCardHeaderTitle.propTypes = {};\n\nCardHeaderTitle.defaultProps = {};\n\nexport default CardHeaderTitle;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../../../element';\n\nconst CardHeaderIcon = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('card-header-icon', className)} />\n  );\n};\n\nCardHeaderIcon.propTypes = {};\n\nCardHeaderIcon.defaultProps = {};\n\nexport default CardHeaderIcon;\n", "import React from 'react';\nimport classnames from 'classnames';\nimport CardHeaderTitle from './components/header-title';\nimport CardHeaderIcon from './components/header-icon';\n\nimport Element from '../../../element';\n\nconst CardHeader = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('card-header', className)} />\n  );\n};\n\nCardHeader.Title = CardHeaderTitle;\n\nCardHeader.Icon = CardHeaderIcon;\n\nCardHeader.propTypes = {};\n\nCardHeader.defaultProps = {};\n\nexport default CardHeader;\n", "export { default } from './header';\n", "import React from 'react';\nimport classnames from 'classnames';\nimport Element from '../../../../element';\n\nconst CardFooterItem = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('card-footer-item', className)} />\n  );\n};\n\nCardFooterItem.propTypes = {};\n\nCardFooterItem.defaultProps = {};\n\nexport default CardFooterItem;\n", "import React from 'react';\nimport classnames from 'classnames';\nimport CardFooterItem from './components/footer-item';\n\nimport Element from '../../../element';\n\nconst CardFooter = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('card-footer', className)} />\n  );\n};\n\nCardFooter.Item = CardFooterItem;\n\nCardFooter.propTypes = {};\n\nCardFooter.defaultProps = {};\n\nexport default CardFooter;\n", "export { default } from './footer';\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport CardImage from './components/image';\nimport CardContent from './components/content';\nimport CardHeader from './components/header';\nimport CardFooter from './components/footer';\n\nimport Element from '../element';\n\nconst Card = ({ className, children, ...props }) => {\n  return (\n    <Element className={classnames('card', className)} {...props}>\n      {children}\n    </Element>\n  );\n};\n\nCard.Image = CardImage;\n\nCard.Content = CardContent;\n\nCard.Header = CardHeader;\n\nCard.Footer = CardFooter;\n\nCard.propTypes = {};\n\nCard.defaultProps = {};\n\nexport default Card;\n", "import Card from './card';\n\nexport default Card;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport Element from '../../element';\n\nconst Column = ({\n  children,\n  className,\n  size,\n  offset,\n  narrow,\n  mobile = {},\n  tablet = {},\n  desktop = {},\n  widescreen = {},\n  fullhd = {},\n  touch = {},\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      {...{ mobile, tablet, desktop, widescreen, fullhd, touch }}\n      className={classNames(className, 'column', {\n        [`is-${size}`]: size,\n        [`is-${touch.size}-mobile`]: touch.size,\n        [`is-${mobile.size}-mobile`]: mobile.size,\n        [`is-${tablet.size}-tablet`]: tablet.size,\n        [`is-${desktop.size}-desktop`]: desktop.size,\n        [`is-${widescreen.size}-widescreen`]: widescreen.size,\n        [`is-${fullhd.size}-fullhd`]: fullhd.size,\n        [`is-offset-${touch.offset}-mobile`]: touch.offset,\n        [`is-offset-${mobile.offset}-mobile`]: mobile.offset,\n        [`is-offset-${tablet.offset}-tablet`]: tablet.offset,\n        [`is-offset-${desktop.offset}-desktop`]: desktop.offset,\n        [`is-offset-${widescreen.offset}-widescreen`]: widescreen.offset,\n        [`is-offset-${fullhd.offset}-fullhd`]: fullhd.offset,\n        [`is-offset-${offset}`]: offset,\n        'is-narrow': narrow,\n        'is-narrow-touch': touch.narrow,\n        'is-narrow-mobile': mobile.narrow,\n        'is-narrow-tablet': tablet.narrow,\n        'is-narrow-desktop': desktop.narrow,\n        'is-narrow-widescreen': widescreen.narrow,\n        'is-narrow-fullhd': fullhd.narrow,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nColumn.propTypes = {\n  /**\n   * The size the column should take. Possible values depends on the sizing method used.\n   * See [below](#sizes) for more details.\n   */\n  size: PropTypes.oneOf([\n    'three-quarters',\n    'two-thirds',\n    'half',\n    'one-third',\n    'one-quarter',\n    'one-fifth',\n    'two-fifths',\n    'three-fifths',\n    'four-fifths',\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n  ]),\n  /**\n   * The amount of offset from the left side of `<Columns />`.\n   * Possible values depends on the sizing method used.\n   * See [below](#offset) for more details.\n   */\n  offset: PropTypes.oneOf([\n    'three-quarters',\n    'two-thirds',\n    'half',\n    'one-third',\n    'one-quarter',\n    'one-fifth',\n    'two-fifths',\n    'three-fifths',\n    'four-fifths',\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n  ]),\n  /**\n   * If you want a column to only take the space it needs, use the narrow modifier. The other column(s) will fill up the remaining space.\n   */\n  narrow: PropTypes.bool,\n  /**\n   * Size, Offset and Narrow props for touch devices (This props are merge with the default responsive props)\n   */\n  touch: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n  /**\n   * Size, Offset and Narrow props for Mobile devices (This props are merge with the default responsive props)\n   */\n  mobile: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n  /**\n   * Size, Offset and Narrow props for Tablet devices (This props are merge with the default responsive props)\n   */\n  tablet: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n  /**\n   * Size, Offset and Narrow props for Desktop devices (This props are merge with the default responsive props)\n   */\n  desktop: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n  /**\n   * Size, Offset and Narrow props for WideScreen devices (This props are merge with the default responsive props)\n   */\n  widescreen: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n  /**\n   * Size, Offset and Narrow props for FullHD devices (This props are merge with the default responsive props)\n   */\n  fullhd: PropTypes.shape({\n    size: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    offset: PropTypes.oneOf([\n      'three-quarters',\n      'two-thirds',\n      'half',\n      'one-third',\n      'one-quarter',\n      'one-fifth',\n      'two-fifths',\n      'three-fifths',\n      'four-fifths',\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n    ]),\n    narrow: PropTypes.bool,\n  }),\n};\n\nColumn.defaultProps = {};\n\nexport default Column;\n", "export default {\n  SIZES: {\n    THREEQUARTERS: 'three-quarters',\n    TWOTHIRDS: 'two-thirds',\n    HALF: 'half',\n    ONETHIRD: 'one-third',\n    ONEQUARTER: 'one-quarter',\n    ONEFIFTH: 'one-fifth',\n    TWOFIFTHS: 'two-fifths',\n    THREEFIFTHS: 'three-fifths',\n    FOURFIFTHS: 'four-fifths',\n  },\n};\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Column from './components/column';\nimport COLUMN_CONSTANTS from './constants';\n\nimport Element from '../element';\n\nconst Columns = ({\n  className,\n  breakpoint,\n  gap,\n  multiline,\n  centered,\n  vCentered,\n  variableGap,\n  mobile = {},\n  tablet = {},\n  desktop = {},\n  widescreen = {},\n  fullhd = {},\n  touch = {},\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      {...{ mobile, tablet, desktop, widescreen, fullhd, touch }}\n      className={classNames(className, 'columns', {\n        [`is-${breakpoint}`]: breakpoint,\n        [`is-${gap}`]: gap !== undefined,\n        'is-multiline': multiline,\n        'is-centered': centered,\n        'is-vcentered': vCentered,\n        'is-variable':\n          gap !== undefined ||\n          [touch, mobile, tablet, desktop, widescreen, fullhd].find((b) => {\n            return b.gap !== undefined;\n          }),\n        [`is-${touch.gap}-touch`]: touch.gap !== undefined,\n        [`is-${mobile.gap}-mobile`]: mobile.gap !== undefined,\n        [`is-${tablet.gap}-tablet`]: tablet.gap !== undefined,\n        [`is-${desktop.gap}-desktop`]: desktop.gap !== undefined,\n        [`is-${widescreen.gap}-widescreen`]: widescreen.gap !== undefined,\n        [`is-${fullhd.gap}-fullhd`]: fullhd.gap !== undefined,\n      })}\n    />\n  );\n};\n\nColumns.Column = Column;\n\nColumns.CONSTANTS = COLUMN_CONSTANTS;\n\nColumns.propTypes = {\n  touch: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Size, Offset and Narrow props for Mobile devices (This props are merge with the default responsive props)\n   */\n  mobile: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Size, Offset and Narrow props for Tablet devices (This props are merge with the default responsive props)\n   */\n  tablet: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Size, Offset and Narrow props for Desktop devices (This props are merge with the default responsive props)\n   */\n  desktop: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Size, Offset and Narrow props for WideScreen devices (This props are merge with the default responsive props)\n   */\n  widescreen: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Size, Offset and Narrow props for FullHD devices (This props are merge with the default responsive props)\n   */\n  fullhd: PropTypes.shape({\n    gap: PropTypes.oneOfType([\n      PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8]),\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  /**\n   * Defines at what breakpoint upwards the column layout should be activated. Any viewport smaller\n   * than the specified breakpoint will cause `<Columns.Column>` to stack on top of each other.\n   */\n  breakpoint: PropTypes.oneOf([\n    'touch',\n    'mobile',\n    'tablet',\n    'desktop',\n    'widescreen',\n    'fullhd',\n  ]),\n  /**\n   * Whether you want to add more column elements than would fit in a single row.\n   * [Official documentation](https://bulma.io/documentation/columns/options/#multiline).\n   */\n  multiline: PropTypes.bool,\n  /**\n   * Whether columns should be **horizontally centered** inside `<Columns />`\n   */\n  centered: PropTypes.bool,\n  /**\n   * Whether columns should be **vertically centered** inside `<Columns />`\n   */\n  vCentered: PropTypes.bool,\n};\n\nColumns.defaultProps = {\n  multiline: true,\n};\n\nexport default Columns;\n", "import Columns from './columns';\n\nexport default Columns;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Container = ({ children, max, breakpoint, className, ...props }) => {\n  const canSetMax = ['desktop', 'widescreen'].includes(breakpoint);\n  return (\n    <Element\n      {...props}\n      className={classnames('container', className, {\n        [`is-${canSetMax && max ? 'max-' : ''}${breakpoint}`]: breakpoint,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nContainer.propTypes = {\n  /**\n   * Specifies the breakpoint at which the container will stop being fullwidth.\n   */\n  breakpoint: PropTypes.oneOf([\n    'mobile',\n    'tablet',\n    'desktop',\n    'widescreen',\n    'fullhd',\n    'fluid',\n  ]),\n  /**\n   * Only work for `desktop`  and `widescreen` breakpoints, Check the [bulma documentation](https://bulma.io/documentation/layout/container/#overview)\n   */\n  max: PropTypes.bool,\n};\n\nContainer.defaultProps = {};\n\nexport default Container;\n", "import Container from './container';\n\nexport default Container;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Content = ({ children, className, size, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('content', className, {\n        [`is-${size}`]: size,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nContent.propTypes = {\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n};\n\nContent.defaultProps = {};\n\nexport default Content;\n", "import Content from './content';\n\nexport default Content;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Footer = ({ className, ...props }) => {\n  return <Element {...props} className={classnames('footer', className)} />;\n};\n\nFooter.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nFooter.defaultProps = {\n  renderAs: 'footer',\n};\n\nexport default Footer;\n", "import Footer from './footer';\n\nexport default Footer;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Heading = ({\n  children,\n  className,\n  size,\n  subtitle,\n  weight,\n  spaced,\n  heading,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames(className, {\n        title: !subtitle && !heading,\n        subtitle,\n        heading,\n        [`is-${size}`]: size,\n        [`has-text-weight-${weight}`]: weight,\n        'is-spaced': spaced && !subtitle,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nHeading.propTypes = {\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  weight: PropTypes.oneOf(['light', 'normal', 'semibold', 'bold']),\n  subtitle: PropTypes.bool,\n  heading: PropTypes.bool,\n  spaced: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nHeading.defaultProps = {\n  renderAs: 'h1',\n};\n\nexport default Heading;\n", "import Heading from './heading';\n\nexport default Heading;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst HeroHeader = ({ className, ...props }) => {\n  return <Element {...props} className={classnames(className, 'hero-head')} />;\n};\n\nHeroHeader.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nHeroHeader.defaultProps = {\n  renderAs: 'header',\n};\n\nexport default HeroHeader;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst HeroBody = ({ className, ...props }) => {\n  return <Element {...props} className={classnames(className, 'hero-body')} />;\n};\n\nHeroBody.defaultProps = {\n  renderAs: 'div',\n};\n\nHeroBody.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nexport default HeroBody;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst HeroFooter = ({ className, ...props }) => {\n  return <Element {...props} className={classnames(className, 'hero-foot')} />;\n};\n\nHeroFooter.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nHeroFooter.defaultProps = {\n  renderAs: 'footer',\n};\n\nexport default HeroFooter;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport HeroHeader from './components/hero-header';\nimport HeroBody from './components/hero-body';\nimport HeroFooter from './components/hero-footer';\n\nimport Element from '../element';\n\nconst Hero = ({\n  children,\n  className,\n  color,\n  gradient,\n  size,\n  hasNavbar,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('hero', className, {\n        [`is-${color}`]: color,\n        [`is-${size}`]: size && !hasNavbar,\n        'is-bold': gradient,\n        'is-fullheight-with-navbar': hasNavbar,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nHero.Header = HeroHeader;\n\nHero.Body = HeroBody;\n\nHero.Footer = HeroFooter;\n\nHero.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  gradient: PropTypes.bool,\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large', 'halfheight', 'fullheight']),\n    PropTypes.string,\n  ]),\n  hasNavbar: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nHero.defaultProps = {\n  renderAs: 'section',\n};\n\nexport default Hero;\n", "import Hero from './hero';\n\nexport default Hero;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst LevelSide = ({ className, align, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames(className, {\n        [`level-${align}`]: align,\n      })}\n    />\n  );\n};\n\nLevelSide.propTypes = {\n  align: PropTypes.oneOf(['left', 'right']),\n};\n\nLevelSide.defaultProps = {\n  align: 'left',\n};\n\nexport default LevelSide;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst LevelItem = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('level-item', className, {})}>\n      {children}\n    </Element>\n  );\n};\n\nLevelItem.propTypes = {};\n\nexport default LevelItem;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport LevelSide from './components/level-side';\nimport LevelItem from './components/level-item';\n\nimport Element from '../element';\n\nconst Level = ({ children, className, breakpoint, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('level', className, {\n        [`is-${breakpoint}`]: breakpoint,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nLevel.Side = LevelSide;\n\nLevel.Item = LevelItem;\n\nLevel.propTypes = {\n  breakpoint: PropTypes.oneOf(['mobile']),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nLevel.defaultProps = {\n  renderAs: 'nav',\n};\n\nexport default Level;\n", "import Level from './level';\n\nexport default Level;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst MediaItem = ({ children, className, align, ...props }) => {\n  const p = align === 'center' ? 'content' : align;\n  return (\n    <Element\n      {...props}\n      className={classnames(className, {\n        [`media-${p}`]: p,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nMediaItem.propTypes = {\n  align: PropTypes.oneOf(['center', 'right', 'left']),\n};\n\nMediaItem.defaultProps = {\n  align: 'center',\n};\n\nexport default MediaItem;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport MediaItem from './components/media-item';\n\nimport Element from '../element';\n\nconst Media = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('media', className, {})}>\n      {children}\n    </Element>\n  );\n};\n\nMedia.Item = MediaItem;\n\nMedia.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nMedia.defaultProps = {\n  renderAs: 'article',\n};\n\nexport default Media;\n", "import Media from './media';\n\nexport default Media;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Notification = ({ className, color, light, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames(\n        'notification',\n        {\n          [`is-${color}`]: color,\n          'is-light': light,\n        },\n        className,\n      )}\n    />\n  );\n};\n\nNotification.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  light: PropTypes.bool,\n};\n\nexport default Notification;\n", "import Notification from './notification';\n\nexport default Notification;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Progress = ({ className, value, max, color, size, ...props }) => {\n  return (\n    <Element\n      {...props}\n      value={value}\n      max={max}\n      className={classnames('progress', className, {\n        [`is-${color}`]: color,\n        [`is-${size}`]: size,\n      })}\n    />\n  );\n};\n\nProgress.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  value: PropTypes.number,\n  max: PropTypes.number,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nProgress.defaultProps = {\n  renderAs: 'progress',\n};\n\nexport default Progress;\n", "import Progress from './progress';\n\nexport default Progress;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Section = ({ children, className, size, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('section', className, {\n        [`is-${size}`]: size,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nSection.propTypes = {\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nSection.defaultProps = {\n  renderAs: 'section',\n};\n\nexport default Section;\n", "import Section from './section';\n\nexport default Section;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst Tab = ({ children, className, style, active, domRef, ...props }) => {\n  return (\n    <li\n      ref={domRef}\n      style={style}\n      className={classnames(className, {\n        'is-active': active,\n      })}\n    >\n      <Element {...props}>{children}</Element>\n    </li>\n  );\n};\n\nTab.propTypes = {\n  active: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nTab.defaultProps = {\n  renderAs: 'a',\n};\n\nexport default Tab;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Tab from './components/tab';\n\nimport Element from '../element';\nimport { normalizeAlign } from '../../services/normalizer';\n\nconst Tabs = ({\n  children,\n  className,\n  align,\n  size,\n  type,\n  fullwidth,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('tabs', className, {\n        [`is-${normalizeAlign(align)}`]: align,\n        [`is-${size}`]: size,\n        // Bulma 0.6.2 is not releaset ATM\n        'is-toggle': type === 'toggle-rounded',\n        [`is-${type}`]: type,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <ul>{children}</ul>\n    </Element>\n  );\n};\n\nTabs.Tab = Tab;\n\nTabs.propTypes = {\n  align: PropTypes.oneOf(['center', 'right']),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /** This is called style on Bulma documentation */\n  type: PropTypes.oneOf(['toggle', 'boxed', 'toggle-rounded']),\n  fullwidth: PropTypes.bool,\n};\n\nexport default Tabs;\n", "import Tabs from './tabs';\n\nexport default Tabs;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst TableContainer = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('table-container', className)} />\n  );\n};\n\nTableContainer.propTypes = {};\n\nTableContainer.defaultProps = {};\n\nexport default TableContainer;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\nimport Container from './components/container';\n\nconst Table = ({\n  children,\n  className,\n  size,\n  striped,\n  bordered,\n  hoverable,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      renderAs=\"table\"\n      className={classnames('table', className, {\n        [`is-${size}`]: size,\n        'is-bordered': bordered,\n        'is-striped': striped,\n        'is-hoverable': hoverable,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nTable.propTypes = {\n  size: PropTypes.oneOf(['fullwidth', 'narrow']),\n  striped: PropTypes.bool,\n  bordered: PropTypes.bool,\n  hoverable: PropTypes.bool,\n};\n\nTable.defaultProps = {};\n\nTable.Container = Container;\n\nexport default Table;\n", "import Table from './table';\n\nexport default Table;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst TagGroup = ({ children, className, gapless, hasAddons, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('tags', className, {\n        'has-addons': gapless || hasAddons,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nTagGroup.propTypes = {\n  hasAddons: PropTypes.bool,\n  /**\n   * deprecated: use hasAddons\n   */\n  gapless: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nTagGroup.defaultProps = {\n  renderAs: 'span',\n};\n\nexport default TagGroup;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport TagGroup from './components/tag-group';\nimport Element from '../element';\n\nconst Tag = ({\n  children,\n  className,\n  color,\n  size,\n  rounded,\n  remove,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('tag', className, {\n        [`is-${size}`]: size,\n        [`is-${color}`]: color,\n        'is-rounded': rounded,\n        'is-delete': remove,\n      })}\n    >\n      {!remove && children}\n    </Element>\n  );\n};\n\nTag.Group = TagGroup;\n\nTag.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['medium', 'large']),\n    PropTypes.string,\n  ]),\n  rounded: PropTypes.bool,\n  remove: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nTag.defaultProps = {\n  renderAs: 'span',\n};\n\nexport default Tag;\n", "import Tag from './tag';\n\nexport default Tag;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Tile = ({\n  children,\n  className,\n  kind,\n  vertical,\n  size,\n  color,\n  ...props\n}) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('tile', className, {\n        [`is-${kind}`]: kind,\n        [`is-${size}`]: size,\n        [`is-${color}`]: color,\n        'is-vertical': vertical,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nTile.propTypes = {\n  kind: PropTypes.oneOf(['ancestor', 'parent', 'child']),\n  vertical: PropTypes.bool,\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nexport default Tile;\n", "import Tile from './tile';\n\nexport default Tile;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst ModalContent = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('modal-content', className)}>\n      {children}\n    </Element>\n  );\n};\n\nModalContent.propTypes = {};\n\nexport default ModalContent;\n", "import React, { useContext } from 'react';\n\nexport const ModalContext = React.createContext({\n  onClose: () => {},\n});\n\nconst useModalContext = () => {\n  return useContext(ModalContext);\n};\n\nexport default useModalContext;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Button from '../../../button';\n\nimport Element from '../../../element';\nimport useModalContext from '../../context';\n\nconst ModalCardHead = ({ children, className, showClose, ...props }) => {\n  const { onClose } = useModalContext();\n  return (\n    <Element {...props} className={classnames('modal-card-head', className)}>\n      {children}\n      {showClose && <Button remove onClick={onClose} />}\n    </Element>\n  );\n};\n\nModalCardHead.propTypes = {\n  /**\n   * True if the card should display the close button on the header of the modal card\n   */\n  showClose: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nModalCardHead.defaultProps = {\n  showClose: true,\n  renderAs: 'header',\n};\n\nexport default ModalCardHead;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../../../element';\n\nconst ModalCardBody = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('modal-card-body', className)}>\n      {children}\n    </Element>\n  );\n};\n\nModalCardBody.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nModalCardBody.defaultProps = {\n  renderAs: 'section',\n};\n\nexport default ModalCardBody;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../../element';\n\nconst ModalCardFoot = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('modal-card-foot', className)}>\n      {children}\n    </Element>\n  );\n};\n\nModalCardFoot.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nModalCardFoot.defaultProps = {\n  renderAs: 'footer',\n};\n\nexport default ModalCardFoot;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../../element';\n\nconst ModalCardTitle = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('modal-card-title', className)}>\n      {children}\n    </Element>\n  );\n};\n\nModalCardTitle.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nModalCardTitle.defaultProps = {\n  renderAs: 'p',\n};\n\nexport default ModalCardTitle;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport ModalCardHeader from './header';\nimport ModalCardBody from './body';\nimport ModalCardFooter from './footer';\nimport ModalCardTitle from './title';\n\nimport Element from '../../../element';\n\nconst ModalCard = ({ className, onClose, children, ...props }) => {\n  return (\n    <Element {...props} className={classnames('modal-card', className)}>\n      {children}\n    </Element>\n  );\n};\n\nModalCard.Header = ModalCardHeader;\n\nModalCard.Body = ModalCardBody;\n\nModalCard.Footer = ModalCardFooter;\n\nModalCard.Title = ModalCardTitle;\n\nModalCard.propTypes = {};\n\nModalCard.defaultProps = {};\n\nexport default ModalCard;\n", "import Card from './card';\n\nexport default Card;\n", "import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport ModalContent from './components/content';\nimport ModalCard from './components/card';\n\nimport { ModalContext } from './context';\nimport Element from '../element';\n\nconst KEYCODES = {\n  ESCAPE: 27,\n};\n\nconst Modal = ({\n  domRef,\n  children,\n  className,\n  show,\n  closeOnBlur,\n  showClose,\n  onClose,\n  closeOnEsc,\n  ...props\n}) => {\n  const ref = useRef(domRef);\n  const [portalContainer, setPortalContainer] = useState();\n\n  useEffect(() => {\n    if (!show) {\n      return undefined;\n    }\n    const doc = props.document || document;\n    const container = doc.createElement('div');\n    container.setAttribute('class', 'modal-container');\n    doc.body.appendChild(container);\n    setPortalContainer(container);\n\n    const handleKeydown = (evt) => {\n      if (evt.keyCode === KEYCODES.ESCAPE && show) {\n        onClose();\n      }\n    };\n\n    if (closeOnEsc) {\n      doc.addEventListener('keydown', handleKeydown);\n    }\n    return () => {\n      doc.removeEventListener('keydown', handleKeydown);\n      container.parentNode.removeChild(container);\n    };\n  }, [show]);\n\n  if (!portalContainer) {\n    return null;\n  }\n\n  return ReactDOM.createPortal(\n    <ModalContext.Provider value={{ onClose }}>\n      <Element\n        domRef={ref}\n        className={classnames('modal', className, {\n          'is-active': show,\n        })}\n      >\n        <div\n          role=\"presentation\"\n          className=\"modal-background\"\n          onClick={closeOnBlur ? onClose : undefined}\n        />\n        {children}\n        {showClose && (\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"modal-close is-large\"\n            aria-label=\"close\"\n          />\n        )}\n      </Element>\n    </ModalContext.Provider>,\n    portalContainer,\n  );\n};\n\nModal.Content = ModalContent;\nModal.Card = ModalCard;\n\nModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  closeOnEsc: PropTypes.bool,\n  closeOnBlur: PropTypes.bool,\n  showClose: PropTypes.bool,\n  document: PropTypes.object,\n  className: PropTypes.string,\n};\n\nModal.defaultProps = {\n  closeOnEsc: true,\n  showClose: true,\n  // Expose mount point for testing\n  document: undefined,\n};\n\nexport default Modal;\n", "import Modal from './modal';\n\nexport default Modal;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst DropdownItem = ({ active, children, value, className, ...props }) => {\n  return (\n    <Element\n      title={value}\n      {...props}\n      role=\"presentation\"\n      className={classnames(className, 'dropdown-item', {\n        'is-active': active,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nDropdownItem.propTypes = {\n  /**\n   * Whether this dropdown item is currently selected.\n   * Shows a highlighted effect if true.\n   * Note that the effect only works when this item is rendered as an anchor\n   * (`<a>`).\n   */\n  active: PropTypes.bool,\n  /**\n   * The value this dropdown item holds. When this item is clicked,\n   * this value is passed to the onChange callback of `<Dropdown />`.\n   * The value is used to determine if this item is active or not.\n   */\n  value: PropTypes.any.isRequired,\n};\n\nDropdownItem.defaultProps = {};\n\nexport default DropdownItem;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst DropdownDivider = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('dropdown-divider', className)} />\n  );\n};\n\nDropdownDivider.propTypes = {};\n\nDropdownDivider.defaultProps = {\n  renderAs: 'hr',\n};\n\nexport default DropdownDivider;\n", "import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport DropdownItem from './components/item';\nimport DropdownDivider from './components/divider';\nimport Button from '../button';\n\nimport Element from '../element';\n\nconst Dropdown = ({\n  className,\n  children,\n  value,\n  color,\n  align,\n  right,\n  up,\n  hoverable,\n  label,\n  onChange,\n  closeOnSelect,\n  icon,\n  domRef,\n  disabled,\n  ...props\n}) => {\n  const ref = useRef(domRef);\n  const [isOpen, setIsOpen] = useState(false);\n  const close = (evt) => {\n    // IDK yet how to test using the ref in enzime\n    // istanbul ignore if\n    if (\n      hoverable ||\n      (evt && ref && ref.current && ref.current.contains(evt.target))\n    ) {\n      return;\n    }\n    if (ref.current) {\n      setIsOpen(false);\n    }\n  };\n\n  const onSelect = (selectedValue) => {\n    return () => {\n      if (onChange) {\n        onChange(selectedValue);\n      }\n      if (closeOnSelect) {\n        close();\n      }\n    };\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', close);\n    return () => {\n      window.removeEventListener('click', close);\n    };\n  }, []);\n\n  let current = label;\n\n  const childrenArray = React.Children.map(children, (child, i) => {\n    if (\n      child.type === DropdownItem &&\n      ((i === 0 && !label) || child.props.value === value)\n    ) {\n      current = child.props.children;\n    }\n    return React.cloneElement(\n      child,\n      child.type === DropdownItem\n        ? {\n            active: child.props.value === value,\n            onClick: onSelect(child.props.value),\n          }\n        : {},\n    );\n  });\n\n  return (\n    <Element\n      {...props}\n      domRef={ref}\n      className={classnames('dropdown', className, {\n        'is-active': isOpen,\n        'is-up': up,\n        'is-right': right || align === 'right',\n        'is-hoverable': hoverable,\n      })}\n    >\n      <div\n        className=\"dropdown-trigger\"\n        role=\"presentation\"\n        onClick={() => {\n          if (disabled) {\n            return;\n          }\n          setIsOpen((open) => {\n            return !open;\n          });\n        }}\n      >\n        <Button disabled={disabled} color={color}>\n          <span>{current}</span>\n          {icon}\n        </Button>\n      </div>\n      <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n        <div className=\"dropdown-content\">{childrenArray}</div>\n      </div>\n    </Element>\n  );\n};\n\nDropdown.Item = DropdownItem;\n\nDropdown.Divider = DropdownDivider;\n\nDropdown.propTypes = {\n  /**\n   * The value of the currently selected dropdown item. If this value match\n   * with the value passed to a Dropdown.item it will be used as label if the label prop its empty\n   */\n  value: PropTypes.any,\n  /**\n   * Called when a dropdown item is selected.\n   */\n  onChange: PropTypes.func,\n  /**\n   * The color of the dropdown button.\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  disabled: PropTypes.bool,\n  /**\n   * Whether the dropdown should align to the right side.\n   */\n  right: PropTypes.bool,\n  /**\n   * Whether the dropdown menu should appear above the dropdown button\n   * instead of below.\n   */\n  up: PropTypes.bool,\n  /**\n   * Whether the dropdown menu can be activated when the cursor\n   * hovers above the button without clicking.\n   */\n  hoverable: PropTypes.bool,\n  /**\n   * A string, or a react component that displays the label of the dropdown\n   * button. if not set it will be use the selected Dropdown.Item or the first one\n   * if there is no selected\n   */\n  label: PropTypes.node,\n  /**\n   * Whether the dropdown menu should be closed when a dropdown item is selected.\n   */\n  closeOnSelect: PropTypes.bool,\n  /**\n   * A react component that draws the icon of the dropdown button.\n   * Usually it is an arrow (or a chevron) pointing downwards (or upwards).\n   */\n  icon: PropTypes.node,\n  /**\n   * Additional CSS classes to pass to `<Dropdown />`.\n   * They will sit alongside pre-applied bulma classes.\n   */\n};\n\nDropdown.defaultProps = {\n  closeOnSelect: true,\n};\n\nexport default Dropdown;\n", "import Dropdown from './dropdown';\n\nexport default Dropdown;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Loader = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('loader', className)}>\n      {children}\n    </Element>\n  );\n};\n\nLoader.propTypes = {};\n\nexport default Loader;\n", "import Loader from './loader';\n\nexport default Loader;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst NavbarBrand = ({ className, children, ...props }) => {\n  return (\n    <Element {...props} className={classnames('navbar-brand', className)}>\n      {children}\n    </Element>\n  );\n};\n\nNavbarBrand.propTypes = {};\n\nNavbarBrand.defaultProps = {};\n\nexport default NavbarBrand;\n", "import React from 'react';\n\nexport const ShowContext = React.createContext(false);\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport { ShowContext } from '../context';\n\nimport Element from '../../element';\n\nconst NavbarBurger = ({ style, className, ...props }) => {\n  return (\n    <ShowContext.Consumer>\n      {(active) => {\n        return (\n          <Element\n            role=\"button\"\n            tabIndex=\"0\"\n            style={{ outline: 'none', ...style }}\n            className={classnames('navbar-burger', className, {\n              'is-active': active,\n            })}\n            {...props}\n          >\n            <span />\n            <span />\n            <span />\n          </Element>\n        );\n      }}\n    </ShowContext.Consumer>\n  );\n};\n\nNavbarBurger.propTypes = {};\n\nNavbarBurger.defaultProps = {};\n\nexport default NavbarBurger;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport { ShowContext } from '../context';\n\nimport Element from '../../element';\n\nconst NavbarMenu = ({ className, children, ...props }) => {\n  return (\n    <ShowContext.Consumer>\n      {(active) => {\n        return (\n          <Element\n            {...props}\n            className={classnames('navbar-menu', className, {\n              'is-active': active,\n            })}\n          >\n            {children}\n          </Element>\n        );\n      }}\n    </ShowContext.Consumer>\n  );\n};\n\nNavbarMenu.propTypes = {};\n\nNavbarMenu.defaultProps = {};\n\nexport default NavbarMenu;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst NavbarDropdown = ({ className, boxed, right, children, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('navbar-dropdown', className, {\n        'is-boxed': boxed,\n        'is-right': right,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nNavbarDropdown.propTypes = {\n  boxed: PropTypes.bool,\n  /**\n   * If your parent `Navbar.Container` is on the right side, you can align the dropdown to start from the right setting this to true.\n   */\n  right: PropTypes.bool,\n  /**\n   * Open the dropdown upward instead of downward (default behaviour)\n   */\n  up: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nNavbarDropdown.defaultProps = {\n  renderAs: 'div',\n};\n\nexport default NavbarDropdown;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport NavbarDropdown from './dropdown';\n\nimport Element from '../../element';\n\nconst NavbarItem = ({\n  className,\n  active,\n  children,\n  hoverable,\n  renderAs,\n  arrowless,\n  ...props\n}) => {\n  let as = renderAs;\n\n  const dropdown = React.Children.toArray(children).find((child) => {\n    return child.type === NavbarDropdown;\n  });\n\n  if (dropdown && renderAs === 'a') {\n    as = 'div';\n  }\n  return (\n    <Element\n      {...props}\n      renderAs={as}\n      className={classnames('navbar-item', className, {\n        'is-active': active,\n        'has-dropdown': dropdown,\n        'is-hoverable': hoverable,\n        'has-dropdown-up': dropdown && dropdown.props?.up,\n        'is-arrowless': arrowless,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nNavbarItem.propTypes = {\n  /**\n   * If the item has a dropdown, control if the dropdown is displayed\n   */\n  active: PropTypes.bool,\n  /**\n   * Control if the dropdown should be displayed on mouse over\n   * This prop will be ignored if `active=true`\n   */\n  hoverable: PropTypes.bool,\n  arrowless: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nNavbarItem.defaultProps = {\n  renderAs: 'a',\n};\n\nexport default NavbarItem;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst NavbarDivider = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('navbar-divider', className)} />\n  );\n};\n\nNavbarDivider.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nNavbarDivider.defaultProps = {\n  renderAs: 'hr',\n};\n\nexport default NavbarDivider;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst NavbarLink = ({ className, children, arrowless, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('navbar-link', className, {\n        'is-arrowless': arrowless,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nNavbarLink.propTypes = {\n  arrowless: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nNavbarLink.defaultProps = {\n  renderAs: 'span',\n};\n\nexport default NavbarLink;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst alignMapper = {\n  left: 'start',\n  right: 'end',\n};\n\nconst NavbarContainer = ({ className, children, align, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames(\n        {\n          [`navbar-${alignMapper[align]}`]: alignMapper[align],\n        },\n        className,\n      )}\n    >\n      {children}\n    </Element>\n  );\n};\n\nNavbarContainer.propTypes = {\n  align: PropTypes.oneOf(['left', 'right']),\n};\n\nNavbarContainer.defaultProps = {\n  align: 'left',\n};\n\nexport default NavbarContainer;\n", "import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Brand from './components/brand';\nimport Burger from './components/burger';\nimport Menu from './components/menu';\nimport Item from './components/item';\nimport Dropdown from './components/dropdown';\nimport Divider from './components/divider';\nimport Link from './components/link';\nimport Container from './components/container';\nimport { ShowContext } from './context';\nimport Element from '../element';\n\nconst Navbar = ({\n  children,\n  className,\n  fixed,\n  transparent,\n  color,\n  active,\n  size,\n  ...props\n}) => {\n  useEffect(() => {\n    const html = window.document.querySelector('html');\n    if (!html.classList.contains(`has-navbar-fixed-${fixed}`)) {\n      html.classList.remove('has-navbar-fixed-top');\n      html.classList.remove('has-navbar-fixed-bottom');\n    }\n    if (fixed) {\n      html.classList.add(`has-navbar-fixed-${fixed}`);\n    }\n    return () => {\n      return window.document\n        .querySelector('html')\n        .classList.remove(`has-navbar-fixed-${fixed}`);\n    };\n  }, [fixed]);\n  return (\n    <ShowContext.Provider value={active}>\n      <Element\n        {...props}\n        role=\"navigation\"\n        className={classnames('navbar', className, {\n          'is-transparent': transparent,\n          [`is-fixed-${fixed}`]: fixed,\n          [`is-${color}`]: color,\n          [`is-spaced`]: size === 'large',\n        })}\n      >\n        {children}\n      </Element>\n    </ShowContext.Provider>\n  );\n};\n\nNavbar.propTypes = {\n  transparent: PropTypes.bool,\n  fixed: PropTypes.oneOf(['top', 'bottom']),\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  size: PropTypes.oneOfType([PropTypes.oneOf(['large']), PropTypes.string]),\n  active: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nNavbar.defaultProps = {\n  renderAs: 'nav',\n};\n\nNavbar.Brand = Brand;\nNavbar.Burger = Burger;\nNavbar.Menu = Menu;\nNavbar.Item = Item;\nNavbar.Dropdown = Dropdown;\nNavbar.Link = Link;\nNavbar.Divider = Divider;\nNavbar.Container = Container;\n\nexport default Navbar;\n", "import Navbar from './navbar';\n\nexport default Navbar;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { normalizeAlign } from '../../services/normalizer';\n\nimport Element from '../element';\n\nconst getFirstPage = (current, last, delta) => {\n  if (current === 1) {\n    return 1;\n  }\n\n  const minPage = last - delta * 2;\n  const page = Math.min(current - delta, minPage);\n\n  return page <= 0 ? 1 : page;\n};\n\nconst getLastPage = (current, total, delta) => {\n  if (current === total) {\n    return total;\n  }\n\n  const maxPage = delta * 2 + 1;\n  const page = Math.max(current + delta, maxPage);\n  return page > total ? total : page;\n};\n\nconst Pagination = ({\n  current,\n  disabled,\n  total,\n  next,\n  previous,\n  showPrevNext,\n  showFirstLast,\n  delta,\n  autoHide,\n  className,\n  size,\n  align,\n  rounded,\n  onChange,\n  ...props\n}) => {\n  if ((total <= 1 && autoHide) || current > total) {\n    return null;\n  }\n\n  const lastPage = getLastPage(current, total, delta);\n  const firstPage = getFirstPage(current, lastPage, delta);\n  const prevDisabled = current === 1 || disabled;\n  const nextDisabled = current === total || disabled;\n\n  return (\n    <Element\n      {...props}\n      className={classnames('pagination', className, {\n        [`is-${size}`]: size,\n        [`is-${normalizeAlign(align)}`]: align,\n        'is-rounded': rounded,\n      })}\n      aria-label=\"pagination\"\n    >\n      {showPrevNext && (\n        <>\n          <a\n            role=\"button\"\n            tabIndex={0}\n            onClick={\n              prevDisabled\n                ? undefined\n                : () => {\n                    return onChange(current - 1);\n                  }\n            }\n            className=\"pagination-previous\"\n            title=\"This is the first page\"\n            disabled={prevDisabled}\n          >\n            {previous}\n          </a>\n          <a\n            role=\"button\"\n            tabIndex={0}\n            onClick={\n              nextDisabled\n                ? undefined\n                : () => {\n                    return onChange(current + 1);\n                  }\n            }\n            className=\"pagination-next\"\n            disabled={nextDisabled}\n          >\n            {next}\n          </a>\n        </>\n      )}\n      {delta > 0 && (\n        <>\n          <ul className=\"pagination-list\">\n            {showFirstLast && current !== 1 && firstPage !== 1 && (\n              <>\n                <li key={1}>\n                  <a\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"pagination-link\"\n                    onClick={() => {\n                      return onChange(1);\n                    }}\n                    aria-label=\"Page 1\"\n                    aria-current=\"page\"\n                    disabled={disabled}\n                  >\n                    1\n                  </a>\n                </li>\n                <li>\n                  <span className=\"pagination-ellipsis\">&hellip;</span>\n                </li>\n              </>\n            )}\n            {Array(lastPage - firstPage + 1)\n              .fill(0)\n              .map((_, i) => {\n                return (\n                  // eslint-disable-next-line react/no-array-index-key\n                  <li key={i + firstPage}>\n                    <a\n                      role=\"button\"\n                      tabIndex={0}\n                      className={classnames('pagination-link', {\n                        'is-current': current === i + firstPage,\n                      })}\n                      onClick={\n                        current === firstPage + i\n                          ? undefined\n                          : () => {\n                              return onChange(firstPage + i);\n                            }\n                      }\n                      aria-label={`Page ${i + firstPage}`}\n                      aria-current=\"page\"\n                      disabled={disabled}\n                    >\n                      {i + firstPage}\n                    </a>\n                  </li>\n                );\n              })}\n            {showFirstLast && current !== lastPage && total !== lastPage && (\n              <>\n                <li key={total}>\n                  <span className=\"pagination-ellipsis\">&hellip;</span>\n                </li>\n                <li>\n                  <a\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"pagination-link\"\n                    onClick={() => {\n                      return onChange(total);\n                    }}\n                    aria-label={`Page ${total}`}\n                    aria-current=\"page\"\n                    disabled={disabled}\n                  >\n                    {total}\n                  </a>\n                </li>\n              </>\n            )}\n          </ul>\n        </>\n      )}\n    </Element>\n  );\n};\n\nPagination.propTypes = {\n  /**\n   * This function its called when the user click on ano button that trigger a page change\n   * the parameter of the function is the new page number\n   */\n  onChange: PropTypes.func.isRequired,\n  /** Current page */\n  current: PropTypes.number,\n  /** whether to disable the buttons */\n  disabled: PropTypes.bool,\n  /** Total pages in total */\n  total: PropTypes.number,\n  /** Amount og pages to display at the left and right of the current (if delta 2 and current page is 3, the paginator will display pages from 1 to 5) */\n  delta: PropTypes.number,\n  /** Text of the Next button */\n  next: PropTypes.node,\n  /** Text of the Previous button */\n  previous: PropTypes.node,\n  showPrevNext: PropTypes.bool,\n  showFirstLast: PropTypes.bool,\n  /**\n   * If true will hide the pagination if `total == 1`\n   */\n  autoHide: PropTypes.bool,\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  align: PropTypes.oneOf(['center', 'right']),\n  rounded: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nPagination.defaultProps = {\n  total: 1,\n  current: 1,\n  delta: 1,\n  next: 'Next',\n  previous: 'Previous',\n  renderAs: 'nav',\n  showPrevNext: true,\n  autoHide: true,\n};\n\nexport default Pagination;\n", "import Pagination from './pagination';\n\nexport default Pagination;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n/* eslint-disable-next-line import/no-cycle */\nimport List from '../list';\n\nimport Element from '../../../../element';\n\nconst MenuListItem = ({\n  children,\n  active,\n  className,\n  domRef: ref,\n  ...props\n}) => {\n  if (\n    typeof children !== 'string' &&\n    React.Children.toArray(children).length === 1 &&\n    React.Children.only(children).type === List\n  ) {\n    const child = React.Children.only(children);\n    return (\n      <li ref={ref}>\n        <Element\n          className={classnames(className, { 'is-active': active })}\n          {...props}\n        >\n          {child.props.title}\n        </Element>\n        {React.cloneElement(child, { title: undefined })}\n      </li>\n    );\n  }\n\n  return (\n    <li ref={ref}>\n      <Element\n        className={classnames(className, { 'is-active': active })}\n        {...props}\n      >\n        {children}\n      </Element>\n    </li>\n  );\n};\n\nMenuListItem.propTypes = {\n  active: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nMenuListItem.defaultProps = {\n  renderAs: 'a',\n};\n\nexport default MenuListItem;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n/* eslint-disable-next-line import/no-cycle */\nimport MenuListItem from './components/item';\n\nimport Element from '../../../element';\n\nconst MenuList = ({ className, title, ...props }) => {\n  return (\n    <>\n      {title && <p className=\"menu-label\">{title}</p>}\n      <Element className={classnames('menu-list', className)} {...props} />\n    </>\n  );\n};\n\nMenuList.Item = MenuListItem;\n\nMenuList.propTypes = {\n  /**\n   * The title of this list in the menu.\n   */\n  title: PropTypes.node,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nMenuList.defaultProps = {\n  renderAs: 'ul',\n};\n\nexport default MenuList;\n", "export { default } from './list';\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport MenuList from './components/list';\n\nimport Element from '../element';\n\nconst Menu = ({ className, ...props }) => {\n  return <Element {...props} className={classnames('menu', className)} />;\n};\n\nMenu.List = MenuList;\n\nMenu.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nMenu.defaultProps = {\n  renderAs: 'aside',\n};\n\nexport default Menu;\n", "import Menu from './menu';\n\nexport default Menu;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst MessageBody = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('message-body', className)}>\n      {children}\n    </Element>\n  );\n};\n\nMessageBody.propTypes = {};\n\nexport default MessageBody;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst MessageHeader = ({ children, className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('message-header', className)}>\n      {children}\n    </Element>\n  );\n};\n\nMessageHeader.propTypes = {};\n\nexport default MessageHeader;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport MessageBody from './components/body';\nimport MessageHeader from './components/header';\n\nimport Element from '../element';\n\nconst Message = ({ children, className, color, size, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('message', className, {\n        [`is-${color}`]: color,\n        [`is-${size}`]: size,\n      })}\n    >\n      {children}\n    </Element>\n  );\n};\n\nMessage.Body = MessageBody;\n\nMessage.Header = MessageHeader;\n\nMessage.propTypes = {\n  /**\n   * Adjusts the size of the message block.\n   */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['small', 'medium', 'large']),\n    PropTypes.string,\n  ]),\n  /**\n   * Adjusts the color of the message block. Can be any Bulma color values.\n   */\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nMessage.defaultProps = {\n  renderAs: 'article',\n};\n\nexport default Message;\n", "import Message from './message';\n\nexport default Message;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst PanelBlock = ({ className, active, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('panel-block', className, {\n        'is-active': active,\n      })}\n    />\n  );\n};\n\nPanelBlock.propTypes = {\n  active: PropTypes.bool,\n};\n\nexport default PanelBlock;\n", "import React from 'react';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst PanelHeader = ({ className, ...props }) => {\n  return (\n    <Element {...props} className={classnames('panel-heading', className)} />\n  );\n};\n\nPanelHeader.propTypes = {};\n\nexport default PanelHeader;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\n\nconst PanelIcon = ({ className, ...props }) => {\n  return <Element {...props} className={classnames('panel-icon', className)} />;\n};\n\nPanelIcon.propTypes = {\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nPanelIcon.defaultProps = {\n  renderAs: 'span',\n};\n\nexport default PanelIcon;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../../../element';\n\nconst PanelTabsTab = ({ className, active, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames(className, {\n        'is-active': active,\n      })}\n    />\n  );\n};\n\nPanelTabsTab.propTypes = {\n  active: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nPanelTabsTab.defaultProps = {\n  renderAs: 'a',\n};\n\nexport default PanelTabsTab;\n", "import React from 'react';\nimport classnames from 'classnames';\nimport Tab from './components/tab';\n\nimport Element from '../../../element';\n\nconst PanelTabs = ({ className, ...props }) => {\n  return <Element {...props} className={classnames('panel-tabs', className)} />;\n};\n\nPanelTabs.Tab = Tab;\n\nPanelTabs.propTypes = {};\n\nexport default PanelTabs;\n", "export { default } from './tabs';\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Block from './components/block';\nimport Header from './components/header';\nimport Icon from './components/icon';\nimport Tabs from './components/tabs';\n\nimport Element from '../element';\n\nconst Panel = ({ color, className, ...props }) => {\n  return (\n    <Element\n      {...props}\n      className={classnames('panel', className, {\n        [`is-${color}`]: color,\n      })}\n    />\n  );\n};\n\nPanel.Header = Header;\n\nPanel.Tabs = Tabs;\n\nPanel.Block = Block;\n\nPanel.Icon = Icon;\n\nPanel.propTypes = {\n  color: PropTypes.oneOfType([\n    PropTypes.oneOf([\n      'primary',\n      'link',\n      'info',\n      'success',\n      'warning',\n      'danger',\n      'dark',\n      'text',\n    ]),\n    PropTypes.string,\n  ]),\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nPanel.defaultProps = {\n  renderAs: 'nav',\n};\n\nexport default Panel;\n", "import Panel from './panel';\n\nexport default Panel;\n", "import * as Form from './components/form';\n\nexport { default as Box } from './components/box';\nexport { default as Block } from './components/block';\nexport { default as Button } from './components/button';\nexport { default as Breadcrumb } from './components/breadcrumb';\nexport { default as Card } from './components/card';\nexport { default as Columns } from './components/columns';\nexport { default as Container } from './components/container';\nexport { default as Content } from './components/content';\nexport { default as Footer } from './components/footer';\nexport { Form };\nexport { default as Heading } from './components/heading';\nexport { default as Hero } from './components/hero';\nexport { default as Image } from './components/image';\nexport { default as Level } from './components/level';\nexport { default as Media } from './components/media';\nexport { default as Notification } from './components/notification';\nexport { default as Progress } from './components/progress';\nexport { default as Section } from './components/section';\nexport { default as Tabs } from './components/tabs';\nexport { default as Table } from './components/table';\nexport { default as Tag } from './components/tag';\nexport { default as Tile } from './components/tile';\nexport { default as Modal } from './components/modal';\nexport { default as Dropdown } from './components/dropdown';\nexport { default as Icon } from './components/icon';\nexport { default as Loader } from './components/loader';\nexport { default as Navbar } from './components/navbar';\nexport { default as Pagination } from './components/pagination';\nexport { default as Menu } from './components/menu';\nexport { default as Message } from './components/message';\nexport { default as Panel } from './components/panel';\nexport { default as Element } from './components/element';\n", "export * from 'preact';\nexport * from 'htm/preact';\nexport * from 'preact/hooks';\nexport * from 'oidc-client-ts';\n\nimport 'bulma/css/bulma.min.css';\n\nexport {\n    Box,\n    Block,\n    Button,\n    Content,\n    Form,\n    Icon,\n    Image,\n    Media,\n    Menu,\n    Message,\n    Modal,\n    Navbar,\n    Notification,\n    Panel,\n    Progress,\n    Table,\n    Tabs,\n    Tag,\n    Tile,\n    Breadcrumb,\n    Card,\n    Columns,\n    Container,\n    Dropdown,\n    Hero,\n    Heading,\n    Level,\n    List,\n    Section,\n    Input,\n    Control,\n    Field,\n    Label,\n    Select,\n    Textarea,\n    Radio,\n    Checkbox,\n    Help,\n    Pagination,\n    TabsItem,\n    TableContainer,\n    NavbarItem,\n    NavbarBrand,\n    NavbarMenu,\n    NavbarContainer,\n    NavbarLink,\n    NavbarDropdown,\n    NavbarDivider,\n    CardHeader,\n    CardContent,\n    CardFooter,\n    CardFooterItem,\n    CardImage,\n    CardHeaderTitle,\n    CardHeaderIcon,\n    PaginationList,\n    PaginationLink,\n    PaginationEllipsis,\n    PanelBlock,\n    PanelHeader,\n    PanelTabs,\n    PanelTab,\n    PanelIcon\n} from 'react-bulma-components';", "import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n", "var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n", "export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Native interface\n *\n * @public\n */\nexport interface ILogger {\n    debug(...args: unknown[]): void;\n    info(...args: unknown[]): void;\n    warn(...args: unknown[]): void;\n    error(...args: unknown[]): void;\n}\n\nconst nopLogger: ILogger = {\n    debug: () => undefined,\n    info: () => undefined,\n    warn: () => undefined,\n    error: () => undefined,\n};\n\nlet level: number;\nlet logger: ILogger;\n\n/**\n * Log levels\n *\n * @public\n */\nexport enum Log {\n    NONE,\n    ERROR,\n    WARN,\n    INFO,\n    DEBUG\n}\n\n/**\n * Log manager\n *\n * @public\n */\nexport namespace Log { // eslint-disable-line @typescript-eslint/no-namespace\n    export function reset(): void {\n        level = Log.INFO;\n        logger = nopLogger;\n    }\n\n    export function setLevel(value: Log): void {\n        if (!(Log.NONE <= value && value <= Log.DEBUG)) {\n            throw new Error(\"Invalid log level\");\n        }\n        level = value;\n    }\n\n    export function setLogger(value: ILogger): void {\n        logger = value;\n    }\n}\n\n/**\n * Internal logger instance\n *\n * @public\n */\nexport class Logger {\n    private _method?: string;\n    public constructor(private _name: string) {}\n\n    /* eslint-disable @typescript-eslint/no-unsafe-enum-comparison */\n    public debug(...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public info(...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public warn(...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public error(...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    /* eslint-enable @typescript-eslint/no-unsafe-enum-comparison */\n\n    public throw(err: Error): never {\n        this.error(err);\n        throw err;\n    }\n\n    public create(method: string): Logger {\n        const methodLogger: Logger = Object.create(this);\n        methodLogger._method = method;\n        methodLogger.debug(\"begin\");\n        return methodLogger;\n    }\n\n    public static createStatic(name: string, staticMethod: string): Logger {\n        const staticLogger = new Logger(`${name}.${staticMethod}`);\n        staticLogger.debug(\"begin\");\n        return staticLogger;\n    }\n\n    private static _format(name: string, method?: string) {\n        const prefix = `[${name}]`;\n        return method ? `${prefix} ${method}:` : prefix;\n    }\n\n    /* eslint-disable @typescript-eslint/no-unsafe-enum-comparison */\n    // helpers for static class methods\n    public static debug(name: string, ...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(name), ...args);\n        }\n    }\n    public static info(name: string, ...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(name), ...args);\n        }\n    }\n    public static warn(name: string, ...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(name), ...args);\n        }\n    }\n    public static error(name: string, ...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(name), ...args);\n        }\n    }\n    /* eslint-enable @typescript-eslint/no-unsafe-enum-comparison */\n}\n\nLog.reset();\n", "import { jwtDecode } from \"jwt-decode\";\n\nimport { Logger } from \"./Logger\";\nimport type { JwtClaims } from \"../Claims\";\nimport { CryptoUtils } from \"./CryptoUtils\";\n\n/**\n * @internal\n */\nexport class JwtUtils {\n    // IMPORTANT: doesn't validate the token\n    public static decode(token: string): JwtClaims {\n        try {\n            return jwtDecode<JwtClaims>(token);\n        }\n        catch (err) {\n            Logger.error(\"JwtUtils.decode\", err);\n            throw err;\n        }\n    }\n\n    public static async generateSignedJwt(header: object, payload: object, privateKey: CryptoKey) : Promise<string> {\n        const encodedHeader = CryptoUtils.encodeBase64Url(new TextEncoder().encode(JSON.stringify(header)));\n        const encodedPayload = CryptoUtils.encodeBase64Url(new TextEncoder().encode(JSON.stringify(payload)));\n        const encodedToken = `${encodedHeader}.${encodedPayload}`;\n\n        const signature = await window.crypto.subtle.sign(\n            {\n                name: \"ECDSA\",\n                hash: { name: \"SHA-256\" },\n            },\n            privateKey,\n            new TextEncoder().encode(encodedToken),\n        );\n\n        const encodedSignature = CryptoUtils.encodeBase64Url(new Uint8Array(signature));\n        return `${encodedToken}.${encodedSignature}`;\n    }\n}\n", "import { Logger } from \"./Logger\";\nimport { JwtUtils } from \"./JwtUtils\";\n\nexport interface GenerateDPoPProofOpts {\n    url: string;\n    accessToken?: string;\n    httpMethod?: string;\n    keyPair: CryptoKeyPair;\n    nonce?: string;\n}\n\nconst UUID_V4_TEMPLATE = \"10000000-1000-4000-8000-100000000000\";\n\nconst toBase64 = (val: ArrayBuffer): string =>\n    btoa([...new Uint8Array(val)]\n        .map((chr) => String.fromCharCode(chr))\n        .join(\"\"));\n\n/**\n * @internal\n */\nexport class CryptoUtils {\n    private static _randomWord(): number {\n        const arr = new Uint32Array(1);\n        crypto.getRandomValues(arr);\n        return arr[0];\n    }\n\n    /**\n     * Generates RFC4122 version 4 guid\n     */\n    public static generateUUIDv4(): string {\n        const uuid = UUID_V4_TEMPLATE.replace(/[018]/g, c =>\n            (+c ^ CryptoUtils._randomWord() & 15 >> +c / 4).toString(16),\n        );\n        return uuid.replace(/-/g, \"\");\n    }\n\n    /**\n     * PKCE: Generate a code verifier\n     */\n    public static generateCodeVerifier(): string {\n        return CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4();\n    }\n\n    /**\n     * PKCE: Generate a code challenge\n     */\n    public static async generateCodeChallenge(code_verifier: string): Promise<string> {\n        if (!crypto.subtle) {\n            throw new Error(\"Crypto.subtle is available only in secure contexts (HTTPS).\");\n        }\n\n        try {\n            const encoder = new TextEncoder();\n            const data = encoder.encode(code_verifier);\n            const hashed = await crypto.subtle.digest(\"SHA-256\", data);\n            return toBase64(hashed).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n        }\n        catch (err) {\n            Logger.error(\"CryptoUtils.generateCodeChallenge\", err);\n            throw err;\n        }\n    }\n\n    /**\n     * Generates a base64-encoded string for a basic auth header\n     */\n    public static generateBasicAuth(client_id: string, client_secret: string): string {\n        const encoder = new TextEncoder();\n        const data = encoder.encode([client_id, client_secret].join(\":\"));\n        return toBase64(data);\n    }\n\n    /**\n     * Generates a hash of a string using a given algorithm\n     * @param alg\n     * @param message\n     */\n    public static async hash(alg: string, message: string) : Promise<Uint8Array> {\n        const msgUint8 = new TextEncoder().encode(message);\n        const hashBuffer = await crypto.subtle.digest(alg, msgUint8);\n        return new Uint8Array(hashBuffer);\n    }\n\n    /**\n     * Generates a base64url encoded string\n     */\n    public static encodeBase64Url = (input: Uint8Array) => {\n        return toBase64(input).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n    };\n\n    /**\n     * Generates a rfc7638 compliant jwk thumbprint\n     * @param jwk\n     */\n    public static async customCalculateJwkThumbprint(jwk: JsonWebKey): Promise<string> {\n        let jsonObject: object;\n        switch (jwk.kty) {\n            case \"RSA\":\n                jsonObject = {\n                    \"e\": jwk.e,\n                    \"kty\": jwk.kty,\n                    \"n\": jwk.n,\n                };\n                break;\n            case \"EC\":\n                jsonObject = {\n                    \"crv\": jwk.crv,\n                    \"kty\": jwk.kty,\n                    \"x\": jwk.x,\n                    \"y\": jwk.y,\n                };\n                break;\n            case \"OKP\":\n                jsonObject = {\n                    \"crv\": jwk.crv,\n                    \"kty\": jwk.kty,\n                    \"x\": jwk.x,\n                };\n                break;\n            case \"oct\":\n                jsonObject = {\n                    \"crv\": jwk.k,\n                    \"kty\": jwk.kty,\n                };\n                break;\n            default:\n                throw new Error(\"Unknown jwk type\");\n        }\n        const utf8encodedAndHashed = await CryptoUtils.hash(\"SHA-256\", JSON.stringify(jsonObject));\n        return CryptoUtils.encodeBase64Url(utf8encodedAndHashed);\n    }\n\n    public static async generateDPoPProof({\n        url,\n        accessToken,\n        httpMethod,\n        keyPair,\n        nonce,\n    }: GenerateDPoPProofOpts): Promise<string> {\n        let hashedToken: Uint8Array;\n        let encodedHash: string;\n\n        const payload: Record<string, string | number> = {\n            \"jti\": window.crypto.randomUUID(),\n            \"htm\": httpMethod ?? \"GET\",\n            \"htu\": url,\n            \"iat\": Math.floor(Date.now() / 1000),\n        };\n\n        if (accessToken) {\n            hashedToken = await CryptoUtils.hash(\"SHA-256\", accessToken);\n            encodedHash = CryptoUtils.encodeBase64Url(hashedToken);\n            payload.ath = encodedHash;\n        }\n\n        if (nonce) {\n            payload.nonce = nonce;\n        }\n\n        try {\n            const publicJwk = await crypto.subtle.exportKey(\"jwk\", keyPair.publicKey);\n            const header = {\n                \"alg\": \"ES256\",\n                \"typ\": \"dpop+jwt\",\n                \"jwk\": {\n                    \"crv\": publicJwk.crv,\n                    \"kty\": publicJwk.kty,\n                    \"x\": publicJwk.x,\n                    \"y\": publicJwk.y,\n                },\n            };\n            return await JwtUtils.generateSignedJwt(header, payload, keyPair.privateKey);\n        } catch (err) {\n            if (err instanceof TypeError) {\n                throw new Error(`Error exporting dpop public key: ${err.message}`);\n            } else {\n                throw err;\n            }\n        }\n    }\n\n    public static async generateDPoPJkt(keyPair: CryptoKeyPair) : Promise<string> {\n        try {\n            const publicJwk = await crypto.subtle.exportKey(\"jwk\", keyPair.publicKey);\n            return await CryptoUtils.customCalculateJwkThumbprint(publicJwk);\n        } catch (err) {\n            if (err instanceof TypeError) {\n                throw new Error(`Could not retrieve dpop keys from storage: ${err.message}`);\n            } else {\n                throw err;\n            }\n        }\n    }\n\n    public static async generateDPoPKeys() : Promise<CryptoKeyPair> {\n        return await window.crypto.subtle.generateKey(\n            {\n                name: \"ECDSA\",\n                namedCurve: \"P-256\",\n            },\n            false,\n            [\"sign\", \"verify\"],\n        );\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./Logger\";\n\n/**\n * @internal\n */\nexport type Callback<EventType extends unknown[]> = (...ev: EventType) => (Promise<void> | void);\n\n/**\n * @internal\n */\nexport class Event<EventType extends unknown[]> {\n    protected readonly _logger: Logger;\n\n    private readonly _callbacks: Array<Callback<EventType>> = [];\n\n    public constructor(protected readonly _name: string) {\n        this._logger = new Logger(`Event('${this._name}')`);\n    }\n\n    public addHandler(cb: Callback<EventType>): () => void {\n        this._callbacks.push(cb);\n        return () => this.removeHandler(cb);\n    }\n\n    public removeHandler(cb: Callback<EventType>): void {\n        const idx = this._callbacks.lastIndexOf(cb);\n        if (idx >= 0) {\n            this._callbacks.splice(idx, 1);\n        }\n    }\n\n    public async raise(...ev: EventType): Promise<void> {\n        this._logger.debug(\"raise:\", ...ev);\n        for (const cb of this._callbacks) {\n            await cb(...ev);\n        }\n    }\n}\n", "/**\n *\n * @public\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open#window_features\n */\nexport interface PopupWindowFeatures {\n    left?: number;\n    top?: number;\n    width?: number;\n    height?: number;\n    menubar?: boolean | string;\n    toolbar?: boolean | string;\n    location?: boolean | string;\n    status?: boolean | string;\n    resizable?: boolean | string;\n    scrollbars?: boolean | string;\n    /** Close popup window after time in seconds, by default it is -1. To enable this feature, set value greater than 0. */\n    closePopupWindowAfterInSeconds?: number;\n\n    [k: string]: boolean | string | number | undefined;\n}\n\nexport class PopupUtils {\n    /**\n     * Populates a map of window features with a placement centered in front of\n     * the current window. If no explicit width is given, a default value is\n     * binned into [800, 720, 600, 480, 360] based on the current window's width.\n     */\n    static center({ ...features }: PopupWindowFeatures): PopupWindowFeatures {\n        if (features.width == null)\n            features.width = [800, 720, 600, 480].find(width => width <= window.outerWidth / 1.618) ?? 360;\n        features.left ??= Math.max(0, Math.round(window.screenX + (window.outerWidth - features.width) / 2));\n        if (features.height != null)\n            features.top ??= Math.max(0, Math.round(window.screenY + (window.outerHeight - features.height) / 2));\n        return features;\n    }\n\n    static serialize(features: PopupWindowFeatures): string {\n        return Object.entries(features)\n            .filter(([, value]) => value != null)\n            .map(([key, value]) => `${key}=${typeof value !== \"boolean\" ? value as string : value ? \"yes\" : \"no\"}`)\n            .join(\",\");\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event } from \"./Event\";\nimport { Logger } from \"./Logger\";\n\n/**\n * @internal\n */\nexport class Timer extends Event<[void]> {\n    protected readonly _logger = new Logger(`Timer('${this._name}')`);\n    private _timerHandle: ReturnType<typeof setInterval> | null = null;\n    private _expiration = 0;\n\n    // get the time\n    public static getEpochTime(): number {\n        return Math.floor(Date.now() / 1000);\n    }\n\n    public init(durationInSeconds: number): void {\n        const logger = this._logger.create(\"init\");\n        durationInSeconds = Math.max(Math.floor(durationInSeconds), 1);\n        const expiration = Timer.getEpochTime() + durationInSeconds;\n        if (this.expiration === expiration && this._timerHandle) {\n            // no need to reinitialize to same expiration, so bail out\n            logger.debug(\"skipping since already initialized for expiration at\", this.expiration);\n            return;\n        }\n\n        this.cancel();\n\n        logger.debug(\"using duration\", durationInSeconds);\n        this._expiration = expiration;\n\n        // we're using a fairly short timer and then checking the expiration in the\n        // callback to handle scenarios where the browser device sleeps, and then\n        // the timers end up getting delayed.\n        const timerDurationInSeconds = Math.min(durationInSeconds, 5);\n        this._timerHandle = setInterval(this._callback, timerDurationInSeconds * 1000);\n    }\n\n    public get expiration(): number {\n        return this._expiration;\n    }\n\n    public cancel(): void {\n        this._logger.create(\"cancel\");\n        if (this._timerHandle) {\n            clearInterval(this._timerHandle);\n            this._timerHandle = null;\n        }\n    }\n\n    protected _callback = (): void => {\n        const diff = this._expiration - Timer.getEpochTime();\n        this._logger.debug(\"timer completes in\", diff);\n\n        if (this._expiration <= Timer.getEpochTime()) {\n            this.cancel();\n            void super.raise();\n        }\n    };\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * @internal\n */\nexport class UrlUtils {\n    public static readParams(url: string, responseMode: \"query\" | \"fragment\" = \"query\"): URLSearchParams {\n        if (!url) throw new TypeError(\"Invalid URL\");\n        // the base URL is irrelevant, it's just here to support relative url arguments\n        const parsedUrl = new URL(url, \"http://127.0.0.1\");\n        const params = parsedUrl[responseMode === \"fragment\" ? \"hash\" : \"search\"];\n        return new URLSearchParams(params.slice(1));\n    }\n}\n\n/**\n * @internal\n */\nexport const URL_STATE_DELIMITER = \";\";", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\n\n/**\n * Error class thrown in case of an authentication error.\n *\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n */\nexport class ErrorResponse extends Error {\n    /** Marker to detect class: \"ErrorResponse\" */\n    public readonly name: string = \"ErrorResponse\";\n\n    /** An error code string that can be used to classify the types of errors that occur and to respond to errors. */\n    public readonly error: string | null;\n    /** additional information that can help a developer identify the cause of the error.*/\n    public readonly error_description: string | null;\n    /**\n     * URI identifying a human-readable web page with information about the error, used to provide the client\n       developer with additional information about the error.\n    */\n    public readonly error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public state?: unknown;\n\n    public readonly session_state: string | null;\n\n    public url_state?: string;\n\n    public constructor(\n        args: {\n            error?: string | null; error_description?: string | null; error_uri?: string | null;\n            userState?: unknown; session_state?: string | null; url_state?: string;\n        },\n        /** The x-www-form-urlencoded request body sent to the authority server */\n        public readonly form?: URLSearchParams,\n    ) {\n        super(args.error_description || args.error || \"\");\n\n        if (!args.error) {\n            Logger.error(\"ErrorResponse\", \"No error passed\");\n            throw new Error(\"No error passed\");\n        }\n\n        this.error = args.error;\n        this.error_description = args.error_description ?? null;\n        this.error_uri = args.error_uri ?? null;\n\n        this.state = args.userState;\n        this.session_state = args.session_state ?? null;\n        this.url_state = args.url_state;\n    }\n}\n", "// Copyright (C) 2021 AuthTS Contributors\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Error class thrown in case of network timeouts (e.g IFrame time out).\n *\n * @public\n */\nexport class ErrorTimeout extends Error {\n    /** Marker to detect class: \"ErrorTimeout\" */\n    public readonly name: string = \"ErrorTimeout\";\n\n    public constructor(message?: string) {\n        super(message);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type AccessTokenCallback = (...ev: unknown[]) => (Promise<void> | void);\n\n/**\n * @public\n */\nexport class AccessTokenEvents {\n    protected readonly _logger = new Logger(\"AccessTokenEvents\");\n\n    private readonly _expiringTimer = new Timer(\"Access token expiring\");\n    private readonly _expiredTimer = new Timer(\"Access token expired\");\n    private readonly _expiringNotificationTimeInSeconds: number;\n\n    public constructor(args: { expiringNotificationTimeInSeconds: number }) {\n        this._expiringNotificationTimeInSeconds = args.expiringNotificationTimeInSeconds;\n    }\n\n    public async load(container: User): Promise<void> {\n        const logger = this._logger.create(\"load\");\n        // only register events if there's an access token and it has an expiration\n        if (container.access_token && container.expires_in !== undefined) {\n            const duration = container.expires_in;\n            logger.debug(\"access token present, remaining duration:\", duration);\n\n            if (duration > 0) {\n                // only register expiring if we still have time\n                let expiring = duration - this._expiringNotificationTimeInSeconds;\n                if (expiring <= 0) {\n                    expiring = 1;\n                }\n\n                logger.debug(\"registering expiring timer, raising in\", expiring, \"seconds\");\n                this._expiringTimer.init(expiring);\n            }\n            else {\n                logger.debug(\"canceling existing expiring timer because we're past expiration.\");\n                this._expiringTimer.cancel();\n            }\n\n            // if it's negative, it will still fire\n            const expired = duration + 1;\n            logger.debug(\"registering expired timer, raising in\", expired, \"seconds\");\n            this._expiredTimer.init(expired);\n        }\n        else {\n            this._expiringTimer.cancel();\n            this._expiredTimer.cancel();\n        }\n    }\n\n    public async unload(): Promise<void> {\n        this._logger.debug(\"unload: canceling existing access token timers\");\n        this._expiringTimer.cancel();\n        this._expiredTimer.cancel();\n    }\n\n    /**\n     * Add callback: Raised prior to the access token expiring.\n     */\n    public addAccessTokenExpiring(cb: AccessTokenCallback): () => void {\n        return this._expiringTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised prior to the access token expiring.\n     */\n    public removeAccessTokenExpiring(cb: AccessTokenCallback): void {\n        this._expiringTimer.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised after the access token has expired.\n     */\n    public addAccessTokenExpired(cb: AccessTokenCallback): () => void {\n        return this._expiredTimer.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised after the access token has expired.\n     */\n    public removeAccessTokenExpired(cb: AccessTokenCallback): void {\n        this._expiredTimer.removeHandler(cb);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @internal\n */\nexport class CheckSessionIFrame {\n    private readonly _logger = new Logger(\"CheckSessionIFrame\");\n    private _frame_origin: string;\n    private _frame: HTMLIFrameElement;\n    private _timer: ReturnType<typeof setInterval> | null = null;\n    private _session_state: string | null = null;\n\n    public constructor(\n        private _callback: () => Promise<void>,\n        private _client_id: string,\n        url: string,\n        private _intervalInSeconds: number,\n        private _stopOnError: boolean,\n    ) {\n        const parsedUrl = new URL(url);\n        this._frame_origin = parsedUrl.origin;\n\n        this._frame = window.document.createElement(\"iframe\");\n\n        // shotgun approach\n        this._frame.style.visibility = \"hidden\";\n        this._frame.style.position = \"fixed\";\n        this._frame.style.left = \"-1000px\";\n        this._frame.style.top = \"0\";\n        this._frame.width = \"0\";\n        this._frame.height = \"0\";\n        this._frame.src = parsedUrl.href;\n    }\n\n    public load(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            this._frame.onload = () => {\n                resolve();\n            };\n\n            window.document.body.appendChild(this._frame);\n            window.addEventListener(\"message\", this._message, false);\n        });\n    }\n\n    private _message = (e: MessageEvent<string>): void => {\n        if (e.origin === this._frame_origin &&\n            e.source === this._frame.contentWindow\n        ) {\n            if (e.data === \"error\") {\n                this._logger.error(\"error message from check session op iframe\");\n                if (this._stopOnError) {\n                    this.stop();\n                }\n            }\n            else if (e.data === \"changed\") {\n                this._logger.debug(\"changed message from check session op iframe\");\n                this.stop();\n                void this._callback();\n            }\n            else {\n                this._logger.debug(e.data + \" message from check session op iframe\");\n            }\n        }\n    };\n\n    public start(session_state: string): void {\n        if (this._session_state === session_state) {\n            return;\n        }\n\n        this._logger.create(\"start\");\n\n        this.stop();\n\n        this._session_state = session_state;\n\n        const send = () => {\n            if (!this._frame.contentWindow || !this._session_state) {\n                return;\n            }\n\n            this._frame.contentWindow.postMessage(this._client_id + \" \" + this._session_state, this._frame_origin);\n        };\n\n        // trigger now\n        send();\n\n        // and setup timer\n        this._timer = setInterval(send, this._intervalInSeconds * 1000);\n    }\n\n    public stop(): void {\n        this._logger.create(\"stop\");\n        this._session_state = null;\n\n        if (this._timer) {\n\n            clearInterval(this._timer);\n            this._timer = null;\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\n\n/**\n * @public\n */\nexport class InMemoryWebStorage implements Storage {\n    private readonly _logger = new Logger(\"InMemoryWebStorage\");\n    private _data: Record<string, string> = {};\n\n    public clear(): void {\n        this._logger.create(\"clear\");\n        this._data = {};\n    }\n\n    public getItem(key: string): string {\n        this._logger.create(`getItem('${key}')`);\n        return this._data[key];\n    }\n\n    public setItem(key: string, value: string): void {\n        this._logger.create(`setItem('${key}')`);\n        this._data[key] = value;\n    }\n\n    public removeItem(key: string): void {\n        this._logger.create(`removeItem('${key}')`);\n        delete this._data[key];\n    }\n\n    public get length(): number {\n        return Object.getOwnPropertyNames(this._data).length;\n    }\n\n    public key(index: number): string {\n        return Object.getOwnPropertyNames(this._data)[index];\n    }\n}\n", "export class ErrorDPoPNonce extends Error {\n    /** Marker to detect class: \"ErrorDPoPNonce\" */\n    public readonly name: string = \"ErrorDPoPNonce\";\n    public readonly nonce: string;\n\n    public constructor(nonce: string, message?: string) {\n        super(message);\n        this.nonce = nonce;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { ErrorResponse, ErrorTimeout } from \"./errors\";\nimport type { ExtraHeader } from \"./OidcClientSettings\";\nimport { Logger } from \"./utils\";\nimport { ErrorDPoPNonce } from \"./errors/ErrorDPoPNonce\";\n\n/**\n * @internal\n */\nexport type JwtHandler = (text: string) => Promise<Record<string, unknown>>;\n\n/**\n * @internal\n */\nexport interface GetJsonOpts {\n    token?: string;\n    credentials?: RequestCredentials;\n    timeoutInSeconds?: number;\n}\n\n/**\n * @internal\n */\nexport interface PostFormOpts {\n    body: URLSearchParams;\n    basicAuth?: string;\n    timeoutInSeconds?: number;\n    initCredentials?: \"same-origin\" | \"include\" | \"omit\";\n    extraHeaders?: Record<string, ExtraHeader>;\n}\n\n/**\n * @internal\n */\nexport class JsonService {\n    private readonly _logger = new Logger(\"JsonService\");\n\n    private _contentTypes: string[] = [];\n\n    public constructor(\n        additionalContentTypes: string[] = [],\n        private _jwtHandler: JwtHandler | null = null,\n        private _extraHeaders: Record<string, ExtraHeader> = {},\n    ) {\n        this._contentTypes.push(...additionalContentTypes, \"application/json\");\n        if (_jwtHandler) {\n            this._contentTypes.push(\"application/jwt\");\n        }\n    }\n\n    protected async fetchWithTimeout(input: RequestInfo, init: RequestInit & { timeoutInSeconds?: number } = {}) {\n        const { timeoutInSeconds, ...initFetch } = init;\n        if (!timeoutInSeconds) {\n            return await fetch(input, initFetch);\n        }\n\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeoutInSeconds * 1000);\n\n        try {\n            const response = await fetch(input, {\n                ...init,\n                signal: controller.signal,\n            });\n            return response;\n        }\n        catch (err) {\n            if (err instanceof DOMException && err.name === \"AbortError\") {\n                throw new ErrorTimeout(\"Network timed out\");\n            }\n            throw err;\n        }\n        finally {\n            clearTimeout(timeoutId);\n        }\n    }\n\n    public async getJson(url: string, {\n        token,\n        credentials,\n        timeoutInSeconds,\n    }: GetJsonOpts = {}): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"getJson\");\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n        };\n        if (token) {\n            logger.debug(\"token passed, setting Authorization header\");\n            headers[\"Authorization\"] = \"Bearer \" + token;\n        }\n\n        this._appendExtraHeaders(headers);\n\n        let response: Response;\n        try {\n            logger.debug(\"url:\", url);\n            response = await this.fetchWithTimeout(url, { method: \"GET\", headers, timeoutInSeconds, credentials });\n        }\n        catch (err) {\n            logger.error(\"Network Error\");\n            throw err;\n        }\n\n        logger.debug(\"HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            logger.throw(new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`));\n        }\n        if (response.ok && this._jwtHandler && contentType?.startsWith(\"application/jwt\")) {\n            return await this._jwtHandler(await response.text());\n        }\n        let json: Record<string, unknown>;\n        try {\n            json = await response.json();\n        }\n        catch (err) {\n            logger.error(\"Error parsing JSON response\", err);\n            if (response.ok) throw err;\n            throw new Error(`${response.statusText} (${response.status})`);\n        }\n        if (!response.ok) {\n            logger.error(\"Error from server:\", json);\n            if (json.error) {\n                throw new ErrorResponse(json);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n        return json;\n    }\n\n    public async postForm(url: string, {\n        body,\n        basicAuth,\n        timeoutInSeconds,\n        initCredentials,\n        extraHeaders,\n    }: PostFormOpts): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"postForm\");\n        const headers: HeadersInit = {\n            \"Accept\": this._contentTypes.join(\", \"),\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...extraHeaders,\n        };\n        if (basicAuth !== undefined) {\n            headers[\"Authorization\"] = \"Basic \" + basicAuth;\n        }\n\n        this._appendExtraHeaders(headers);\n\n        let response: Response;\n        try {\n            logger.debug(\"url:\", url);\n            response = await this.fetchWithTimeout(url, { method: \"POST\", headers, body, timeoutInSeconds, credentials: initCredentials });\n        }\n        catch (err) {\n            logger.error(\"Network error\");\n            throw err;\n        }\n\n        logger.debug(\"HTTP response received, status\", response.status);\n        const contentType = response.headers.get(\"Content-Type\");\n        if (contentType && !this._contentTypes.find(item => contentType.startsWith(item))) {\n            throw new Error(`Invalid response Content-Type: ${(contentType ?? \"undefined\")}, from URL: ${url}`);\n        }\n\n        const responseText = await response.text();\n\n        let json: Record<string, unknown> = {};\n        if (responseText) {\n            try {\n                json = JSON.parse(responseText);\n            }\n            catch (err) {\n                logger.error(\"Error parsing JSON response\", err);\n                if (response.ok) throw err;\n                throw new Error(`${response.statusText} (${response.status})`);\n            }\n        }\n\n        if (!response.ok) {\n            logger.error(\"Error from server:\", json);\n            if (response.headers.has(\"dpop-nonce\")) {\n                const nonce = response.headers.get(\"dpop-nonce\") as string;\n                throw new ErrorDPoPNonce(nonce, `${JSON.stringify(json)}`);\n            }\n            if (json.error) {\n                throw new ErrorResponse(json, body);\n            }\n            throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n        }\n\n        return json;\n    }\n\n    private _appendExtraHeaders(\n        headers: Record<string, string>,\n    ): void {\n        const logger = this._logger.create(\"appendExtraHeaders\");\n        const customKeys = Object.keys(this._extraHeaders);\n        const protectedHeaders = [\n            \"accept\",\n            \"content-type\",\n        ];\n        const preventOverride = [\n            \"authorization\",\n        ];\n        if (customKeys.length === 0) {\n            return;\n        }\n        customKeys.forEach((headerName) => {\n            if (protectedHeaders.includes(headerName.toLocaleLowerCase())) {\n                logger.warn(\"Protected header could not be set\", headerName, protectedHeaders);\n                return;\n            }\n            if (preventOverride.includes(headerName.toLocaleLowerCase()) &&\n                Object.keys(headers).includes(headerName)) {\n                logger.warn(\"Header could not be overridden\", headerName, preventOverride);\n                return;\n            }\n            const content = (typeof this._extraHeaders[headerName] === \"function\") ?\n                (this._extraHeaders[headerName] as ()=>string)() :\n                this._extraHeaders[headerName];\n            if (content && content !== \"\") {\n                headers[headerName] = content;\n            }\n        });\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { OidcClientSettingsStore, SigningKey } from \"./OidcClientSettings\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata\n */\nexport class MetadataService {\n    private readonly _logger = new Logger(\"MetadataService\");\n    private readonly _jsonService;\n\n    // cache\n    private _metadataUrl: string;\n    private _signingKeys: SigningKey[] | null = null;\n    private _metadata: Partial<OidcMetadata> | null = null;\n    private _fetchRequestCredentials: RequestCredentials | undefined;\n\n    public constructor(private readonly _settings: OidcClientSettingsStore) {\n        this._metadataUrl = this._settings.metadataUrl;\n        this._jsonService = new JsonService(\n            [\"application/jwk-set+json\"],\n            null,\n            this._settings.extraHeaders,\n        );\n        if (this._settings.signingKeys) {\n            this._logger.debug(\"using signingKeys from settings\");\n            this._signingKeys = this._settings.signingKeys;\n        }\n\n        if (this._settings.metadata) {\n            this._logger.debug(\"using metadata from settings\");\n            this._metadata = this._settings.metadata;\n        }\n\n        if (this._settings.fetchRequestCredentials) {\n            this._logger.debug(\"using fetchRequestCredentials from settings\");\n            this._fetchRequestCredentials = this._settings.fetchRequestCredentials;\n        }\n    }\n\n    public resetSigningKeys(): void {\n        this._signingKeys = null;\n    }\n\n    public async getMetadata(): Promise<Partial<OidcMetadata>> {\n        const logger = this._logger.create(\"getMetadata\");\n        if (this._metadata) {\n            logger.debug(\"using cached values\");\n            return this._metadata;\n        }\n\n        if (!this._metadataUrl) {\n            logger.throw(new Error(\"No authority or metadataUrl configured on settings\"));\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        logger.debug(\"getting metadata from\", this._metadataUrl);\n        const metadata = await this._jsonService.getJson(this._metadataUrl, { credentials: this._fetchRequestCredentials, timeoutInSeconds: this._settings.requestTimeoutInSeconds });\n\n        logger.debug(\"merging remote JSON with seed metadata\");\n        this._metadata = Object.assign({}, metadata, this._settings.metadataSeed);\n        return this._metadata;\n    }\n\n    public getIssuer(): Promise<string> {\n        return this._getMetadataProperty(\"issuer\") as Promise<string>;\n    }\n\n    public getAuthorizationEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"authorization_endpoint\") as Promise<string>;\n    }\n\n    public getUserInfoEndpoint(): Promise<string> {\n        return this._getMetadataProperty(\"userinfo_endpoint\") as Promise<string>;\n    }\n\n    public getTokenEndpoint(optional: false): Promise<string>;\n    public getTokenEndpoint(optional?: true): Promise<string | undefined>;\n    public getTokenEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"token_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getCheckSessionIframe(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"check_session_iframe\", true) as Promise<string | undefined>;\n    }\n\n    public getEndSessionEndpoint(): Promise<string | undefined> {\n        return this._getMetadataProperty(\"end_session_endpoint\", true) as Promise<string | undefined>;\n    }\n\n    public getRevocationEndpoint(optional: false): Promise<string>;\n    public getRevocationEndpoint(optional?: true): Promise<string | undefined>;\n    public getRevocationEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"revocation_endpoint\", optional) as Promise<string | undefined>;\n    }\n\n    public getKeysEndpoint(optional: false): Promise<string>;\n    public getKeysEndpoint(optional?: true): Promise<string | undefined>;\n    public getKeysEndpoint(optional = true): Promise<string | undefined> {\n        return this._getMetadataProperty(\"jwks_uri\", optional) as Promise<string | undefined>;\n    }\n\n    protected async _getMetadataProperty(name: keyof OidcMetadata, optional=false): Promise<string | boolean | string[] | undefined> {\n        const logger = this._logger.create(`_getMetadataProperty('${name}')`);\n\n        const metadata = await this.getMetadata();\n        logger.debug(\"resolved\");\n\n        if (metadata[name] === undefined) {\n            if (optional === true) {\n                logger.warn(\"Metadata does not contain optional property\");\n                return undefined;\n            }\n\n            logger.throw(new Error(\"Metadata does not contain property \" + name));\n        }\n\n        return metadata[name];\n    }\n\n    public async getSigningKeys(): Promise<SigningKey[] | null> {\n        const logger = this._logger.create(\"getSigningKeys\");\n        if (this._signingKeys) {\n            logger.debug(\"returning signingKeys from cache\");\n            return this._signingKeys;\n        }\n\n        const jwks_uri = await this.getKeysEndpoint(false);\n        logger.debug(\"got jwks_uri\", jwks_uri);\n\n        const keySet = await this._jsonService.getJson(jwks_uri, { timeoutInSeconds: this._settings.requestTimeoutInSeconds });\n        logger.debug(\"got key set\", keySet);\n\n        if (!Array.isArray(keySet.keys)) {\n            logger.throw(new Error(\"Missing keys on keyset\"));\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        this._signingKeys = keySet.keys;\n        return this._signingKeys;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\nimport type { AsyncStorage } from \"./AsyncStorage\";\n\n/**\n * @public\n */\nexport class WebStorageStateStore implements StateStore {\n    private readonly _logger = new Logger(\"WebStorageStateStore\");\n\n    private readonly _store: AsyncStorage | Storage;\n    private readonly _prefix: string;\n\n    public constructor({\n        prefix = \"oidc.\",\n        store = localStorage,\n    }: { prefix?: string; store?: AsyncStorage | Storage } = {}) {\n        this._store = store;\n        this._prefix = prefix;\n    }\n\n    public async set(key: string, value: string): Promise<void> {\n        this._logger.create(`set('${key}')`);\n\n        key = this._prefix + key;\n        await this._store.setItem(key, value);\n    }\n\n    public async get(key: string): Promise<string | null> {\n        this._logger.create(`get('${key}')`);\n\n        key = this._prefix + key;\n        const item = await this._store.getItem(key);\n        return item;\n    }\n\n    public async remove(key: string): Promise<string | null> {\n        this._logger.create(`remove('${key}')`);\n\n        key = this._prefix + key;\n        const item = await this._store.getItem(key);\n        await this._store.removeItem(key);\n        return item;\n    }\n\n    public async getAllKeys(): Promise<string[]> {\n        this._logger.create(\"getAllKeys\");\n        const len = await this._store.length;\n\n        const keys = [];\n        for (let index = 0; index < len; index++) {\n            const key = await this._store.key(index);\n            if (key && key.indexOf(this._prefix) === 0) {\n                keys.push(key.substr(this._prefix.length));\n            }\n        }\n        return keys;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport type { OidcMetadata } from \"./OidcMetadata\";\nimport type { StateStore } from \"./StateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\nimport type { DPoPStore } from \"./DPoPStore\";\n\nconst DefaultResponseType = \"code\";\nconst DefaultScope = \"openid\";\nconst DefaultClientAuthentication = \"client_secret_post\";\nconst DefaultStaleStateAgeInSeconds = 60 * 15;\n\n/**\n * @public\n */\nexport type SigningKey = Record<string, string | string[]>;\n\n/**\n * @public\n */\nexport type ExtraHeader = string | (() => string);\n\n/**\n * Optional DPoP settings\n * @public\n */\nexport interface DPoPSettings {\n    bind_authorization_code?: boolean;\n    store: DPoPStore;\n}\n\n/**\n * The settings used to configure the {@link OidcClient}.\n *\n * @public\n */\nexport interface OidcClientSettings {\n    /** The URL of the OIDC/OAuth2 provider */\n    authority: string;\n    metadataUrl?: string;\n    /** Provide metadata when authority server does not allow CORS on the metadata endpoint */\n    metadata?: Partial<OidcMetadata>;\n    /** Can be used to seed or add additional values to the results of the discovery request */\n    metadataSeed?: Partial<OidcMetadata>;\n    /** Provide signingKeys when authority server does not allow CORS on the jwks uri */\n    signingKeys?: SigningKey[];\n\n    /** Your client application's identifier as registered with the OIDC/OAuth2 */\n    client_id: string;\n    client_secret?: string;\n    /** The type of response desired from the OIDC/OAuth2 provider (default: \"code\") */\n    response_type?: string;\n    /** The scope being requested from the OIDC/OAuth2 provider (default: \"openid\") */\n    scope?: string;\n    /** The redirect URI of your client application to receive a response from the OIDC/OAuth2 provider */\n    redirect_uri: string;\n    /** The OIDC/OAuth2 post-logout redirect URI */\n    post_logout_redirect_uri?: string;\n\n    /**\n     * Client authentication method that is used to authenticate when using the token endpoint (default: \"client_secret_post\")\n     * - \"client_secret_basic\": using the HTTP Basic authentication scheme\n     * - \"client_secret_post\": including the client credentials in the request body\n     *\n     * See https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication\n     */\n    client_authentication?: \"client_secret_basic\" | \"client_secret_post\";\n\n    /** optional protocol param */\n    prompt?: string;\n    /** optional protocol param */\n    display?: string;\n    /** optional protocol param */\n    max_age?: number;\n    /** optional protocol param */\n    ui_locales?: string;\n    /** optional protocol param */\n    acr_values?: string;\n    /** optional protocol param */\n    resource?: string | string[];\n\n    /**\n     * Optional protocol param\n     * The response mode used by the authority server is defined by the response_type unless explicitly specified:\n     * - Response mode for the OAuth 2.0 response type \"code\" is the \"query\" encoding\n     * - Response mode for the OAuth 2.0 response type \"token\" is the \"fragment\" encoding\n     *\n     * @see https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes\n     */\n    response_mode?: \"query\" | \"fragment\";\n\n    /**\n     * Should optional OIDC protocol claims be removed from profile or specify the ones to be removed (default: true)\n     * When true, the following claims are removed by default: [\"nbf\", \"jti\", \"auth_time\", \"nonce\", \"acr\", \"amr\", \"azp\", \"at_hash\"]\n     * When specifying claims, the following claims are not allowed: [\"sub\", \"iss\", \"aud\", \"exp\", \"iat\"]\n    */\n    filterProtocolClaims?: boolean | string[];\n    /** Flag to control if additional identity data is loaded from the user info endpoint in order to populate the user's profile (default: false) */\n    loadUserInfo?: boolean;\n    /** Number (in seconds) indicating the age of state entries in storage for authorize requests that are considered abandoned and thus can be cleaned up (default: 900) */\n    staleStateAgeInSeconds?: number;\n\n    /**\n     * Indicates how objects returned from the user info endpoint as claims (e.g. `address`) are merged into the claims from the\n     * id token as a single object.  (default: `{ array: \"replace\" }`)\n     * - array: \"replace\": natives (string, int, float) and arrays are replaced, objects are merged as distinct objects\n     * - array: \"merge\": natives (string, int, float) are replaced, arrays and objects are merged as distinct objects\n     */\n    mergeClaimsStrategy?: { array: \"replace\" | \"merge\" };\n\n    /**\n     * Storage object used to persist interaction state (default: window.localStorage, InMemoryWebStorage iff no window).\n     * E.g. `stateStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    stateStore?: StateStore;\n\n    /**\n     * An object containing additional query string parameters to be including in the authorization request.\n     * E.g, when using Azure AD to obtain an access token an additional resource parameter is required. extraQueryParams: `{resource:\"some_identifier\"}`\n     */\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    extraTokenParams?: Record<string, unknown>;\n\n    /**\n     * An object containing additional header to be including in request.\n     */\n    extraHeaders?: Record<string, ExtraHeader>;\n\n    /**\n     * DPoP enabled or disabled\n     */\n    dpop?: DPoPSettings | undefined;\n\n    /**\n     * Will check the content type header of the response of the revocation endpoint to match these passed values (default: [])\n     */\n    revokeTokenAdditionalContentTypes?: string[];\n    /**\n     * Will disable PKCE validation, changing to true will not append to sign in request code_challenge and code_challenge_method. (default: false)\n     */\n    disablePKCE?: boolean;\n    /**\n     * Sets the credentials for fetch requests. (default: \"same-origin\")\n     * Use this if you need to send cookies to the OIDC/OAuth2 provider or if you are using a proxy that requires cookies\n     */\n    fetchRequestCredentials?: RequestCredentials;\n\n    /**\n     * Only scopes in this list will be passed in the token refresh request.\n     */\n    refreshTokenAllowedScope?: string | undefined;\n\n    /**\n     * Defines request timeouts globally across all requests made to the authorisation server\n     */\n    requestTimeoutInSeconds?: number | undefined;\n\n    /**\n     * https://datatracker.ietf.org/doc/html/rfc6749#section-3.3 describes behavior when omitting scopes from sign in requests\n     * If the IDP supports default scopes, this setting will ignore the scopes property passed to the config. (Default: false)\n     */\n    omitScopeWhenRequesting?: boolean;\n}\n\n/**\n * The settings with defaults applied of the {@link OidcClient}.\n *\n * @public\n * @see {@link OidcClientSettings}\n */\nexport class OidcClientSettingsStore {\n    // metadata\n    public readonly authority: string;\n    public readonly metadataUrl: string;\n    public readonly metadata: Partial<OidcMetadata> | undefined;\n    public readonly metadataSeed: Partial<OidcMetadata> | undefined;\n    public readonly signingKeys: SigningKey[] | undefined;\n\n    // client config\n    public readonly client_id: string;\n    public readonly client_secret: string | undefined;\n    public readonly response_type: string;\n    public readonly scope: string;\n    public readonly redirect_uri: string;\n    public readonly post_logout_redirect_uri: string | undefined;\n    public readonly client_authentication: \"client_secret_basic\" | \"client_secret_post\";\n\n    // optional protocol params\n    public readonly prompt: string | undefined;\n    public readonly display: string | undefined;\n    public readonly max_age: number | undefined;\n    public readonly ui_locales: string | undefined;\n    public readonly acr_values: string | undefined;\n    public readonly resource: string | string[] | undefined;\n    public readonly response_mode: \"query\" | \"fragment\" | undefined;\n\n    // behavior flags\n    public readonly filterProtocolClaims: boolean | string[];\n    public readonly loadUserInfo: boolean;\n    public readonly staleStateAgeInSeconds: number;\n    public readonly mergeClaimsStrategy: { array: \"replace\" | \"merge\" };\n    public readonly omitScopeWhenRequesting: boolean;\n\n    public readonly stateStore: StateStore;\n\n    // extra\n    public readonly extraQueryParams: Record<string, string | number | boolean>;\n    public readonly extraTokenParams: Record<string, unknown>;\n    public readonly dpop: DPoPSettings | undefined;\n    public readonly extraHeaders: Record<string, ExtraHeader>;\n\n    public readonly revokeTokenAdditionalContentTypes?: string[];\n    public readonly fetchRequestCredentials: RequestCredentials;\n    public readonly refreshTokenAllowedScope: string | undefined;\n    public readonly disablePKCE: boolean;\n    public readonly requestTimeoutInSeconds: number | undefined;\n\n    public constructor({\n        // metadata related\n        authority, metadataUrl, metadata, signingKeys, metadataSeed,\n        // client related\n        client_id, client_secret, response_type = DefaultResponseType, scope = DefaultScope,\n        redirect_uri, post_logout_redirect_uri,\n        client_authentication = DefaultClientAuthentication,\n        // optional protocol\n        prompt, display, max_age, ui_locales, acr_values, resource, response_mode,\n        // behavior flags\n        filterProtocolClaims = true,\n        loadUserInfo = false,\n        requestTimeoutInSeconds,\n        staleStateAgeInSeconds = DefaultStaleStateAgeInSeconds,\n        mergeClaimsStrategy = { array: \"replace\" },\n        disablePKCE = false,\n        // other behavior\n        stateStore,\n        revokeTokenAdditionalContentTypes,\n        fetchRequestCredentials,\n        refreshTokenAllowedScope,\n        // extra\n        extraQueryParams = {},\n        extraTokenParams = {},\n        extraHeaders = {},\n        dpop,\n        omitScopeWhenRequesting = false,\n    }: OidcClientSettings) {\n\n        this.authority = authority;\n\n        if (metadataUrl) {\n            this.metadataUrl = metadataUrl;\n        } else {\n            this.metadataUrl = authority;\n            if (authority) {\n                if (!this.metadataUrl.endsWith(\"/\")) {\n                    this.metadataUrl += \"/\";\n                }\n                this.metadataUrl += \".well-known/openid-configuration\";\n            }\n        }\n\n        this.metadata = metadata;\n        this.metadataSeed = metadataSeed;\n        this.signingKeys = signingKeys;\n\n        this.client_id = client_id;\n        this.client_secret = client_secret;\n        this.response_type = response_type;\n        this.scope = scope;\n        this.redirect_uri = redirect_uri;\n        this.post_logout_redirect_uri = post_logout_redirect_uri;\n        this.client_authentication = client_authentication;\n\n        this.prompt = prompt;\n        this.display = display;\n        this.max_age = max_age;\n        this.ui_locales = ui_locales;\n        this.acr_values = acr_values;\n        this.resource = resource;\n        this.response_mode = response_mode;\n\n        this.filterProtocolClaims = filterProtocolClaims ?? true;\n        this.loadUserInfo = !!loadUserInfo;\n        this.staleStateAgeInSeconds = staleStateAgeInSeconds;\n        this.mergeClaimsStrategy = mergeClaimsStrategy;\n        this.omitScopeWhenRequesting = omitScopeWhenRequesting;\n        this.disablePKCE = !!disablePKCE;\n        this.revokeTokenAdditionalContentTypes = revokeTokenAdditionalContentTypes;\n\n        this.fetchRequestCredentials = fetchRequestCredentials ? fetchRequestCredentials : \"same-origin\";\n        this.requestTimeoutInSeconds = requestTimeoutInSeconds;\n\n        if (stateStore) {\n            this.stateStore = stateStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.localStorage : new InMemoryWebStorage();\n            this.stateStore = new WebStorageStateStore({ store });\n        }\n\n        this.refreshTokenAllowedScope = refreshTokenAllowedScope;\n\n        this.extraQueryParams = extraQueryParams;\n        this.extraTokenParams = extraTokenParams;\n        this.extraHeaders = extraHeaders;\n\n        this.dpop = dpop;\n        if (this.dpop && !this.dpop?.store) {\n            throw new Error(\"A DPoPStore is required when dpop is enabled\");\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\nimport type { JwtClaims } from \"./Claims\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\n\n/**\n * @internal\n */\nexport class UserInfoService {\n    protected readonly _logger = new Logger(\"UserInfoService\");\n    private readonly _jsonService: JsonService;\n\n    public constructor(private readonly _settings: OidcClientSettingsStore,\n        private readonly _metadataService: MetadataService,\n    ) {\n        this._jsonService = new JsonService(\n            undefined,\n            this._getClaimsFromJwt,\n            this._settings.extraHeaders,\n        );\n    }\n\n    public async getClaims(token: string): Promise<JwtClaims> {\n        const logger = this._logger.create(\"getClaims\");\n        if (!token) {\n            this._logger.throw(new Error(\"No token passed\"));\n        }\n\n        const url = await this._metadataService.getUserInfoEndpoint();\n        logger.debug(\"got userinfo url\", url);\n\n        const claims = await this._jsonService.getJson(url, {\n            token,\n            credentials: this._settings.fetchRequestCredentials,\n            timeoutInSeconds: this._settings.requestTimeoutInSeconds,\n        });\n        logger.debug(\"got claims\", claims);\n\n        return claims;\n    }\n\n    protected _getClaimsFromJwt = async (responseText: string): Promise<JwtClaims> => {\n        const logger = this._logger.create(\"_getClaimsFromJwt\");\n        try {\n            const payload = JwtUtils.decode(responseText);\n            logger.debug(\"JWT decoding successful\");\n\n            return payload;\n        } catch (err) {\n            logger.error(\"Error parsing JWT response\");\n            throw err;\n        }\n    };\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { CryptoUtils, Logger } from \"./utils\";\nimport { JsonService } from \"./JsonService\";\nimport type { MetadataService } from \"./MetadataService\";\nimport type { ExtraHeader, OidcClientSettingsStore } from \"./OidcClientSettings\";\n\n/**\n * @internal\n */\nexport interface ExchangeCodeArgs {\n    client_id?: string;\n    client_secret?: string;\n    redirect_uri?: string;\n\n    grant_type?: string;\n    code: string;\n    code_verifier?: string;\n\n    extraHeaders?: Record<string, ExtraHeader>;\n}\n\n/**\n * @internal\n */\nexport interface ExchangeCredentialsArgs {\n    client_id?: string;\n    client_secret?: string;\n\n    grant_type?: string;\n    scope?: string;\n\n    username: string;\n    password: string;\n}\n\n/**\n * @internal\n */\nexport interface ExchangeRefreshTokenArgs {\n    client_id?: string;\n    client_secret?: string;\n    redirect_uri?: string;\n\n    grant_type?: string;\n    refresh_token: string;\n    scope?: string;\n    resource?: string | string[];\n\n    timeoutInSeconds?: number;\n\n    extraHeaders?: Record<string, ExtraHeader>;\n}\n\n/**\n * @internal\n */\nexport interface RevokeArgs {\n    token: string;\n    token_type_hint?: \"access_token\" | \"refresh_token\";\n}\n\n/**\n * @internal\n */\nexport class TokenClient {\n    private readonly _logger = new Logger(\"TokenClient\");\n    private readonly _jsonService;\n\n    public constructor(\n        private readonly _settings: OidcClientSettingsStore,\n        private readonly _metadataService: MetadataService,\n    ) {\n        this._jsonService = new JsonService(\n            this._settings.revokeTokenAdditionalContentTypes,\n            null,\n            this._settings.extraHeaders,\n        );\n    }\n\n    /**\n     * Exchange code.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n     */\n    public async exchangeCode({\n        grant_type = \"authorization_code\",\n        redirect_uri = this._settings.redirect_uri,\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        extraHeaders,\n        ...args\n    }: ExchangeCodeArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeCode\");\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n        if (!redirect_uri) {\n            logger.throw(new Error(\"A redirect_uri is required\"));\n        }\n        if (!args.code) {\n            logger.throw(new Error(\"A code is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type, redirect_uri });\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (client_secret === undefined || client_secret === null) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    // eslint-disable-next-line @typescript-eslint/only-throw-error\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, {\n            body: params,\n            basicAuth,\n            timeoutInSeconds: this._settings.requestTimeoutInSeconds,\n            initCredentials: this._settings.fetchRequestCredentials,\n            extraHeaders,\n        });\n\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Exchange credentials.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.3.2\n     */\n    public async exchangeCredentials({\n        grant_type = \"password\",\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        scope = this._settings.scope,\n        ...args\n    }: ExchangeCredentialsArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeCredentials\");\n\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type });\n        if (!this._settings.omitScopeWhenRequesting) {\n            params.set(\"scope\", scope);\n        }\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (client_secret === undefined || client_secret === null) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    // eslint-disable-next-line @typescript-eslint/only-throw-error\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, { body: params, basicAuth, timeoutInSeconds: this._settings.requestTimeoutInSeconds, initCredentials: this._settings.fetchRequestCredentials });\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Exchange a refresh token.\n     *\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-6\n     */\n    public async exchangeRefreshToken({\n        grant_type = \"refresh_token\",\n        client_id = this._settings.client_id,\n        client_secret = this._settings.client_secret,\n        timeoutInSeconds,\n        extraHeaders,\n        ...args\n    }: ExchangeRefreshTokenArgs): Promise<Record<string, unknown>> {\n        const logger = this._logger.create(\"exchangeRefreshToken\");\n        if (!client_id) {\n            logger.throw(new Error(\"A client_id is required\"));\n        }\n        if (!args.refresh_token) {\n            logger.throw(new Error(\"A refresh_token is required\"));\n        }\n\n        const params = new URLSearchParams({ grant_type });\n        for (const [key, value] of Object.entries(args)) {\n            if (Array.isArray(value)) {\n                value.forEach(param => params.append(key, param));\n            }\n            else if (value != null) {\n                params.set(key, value);\n            }\n        }\n        let basicAuth: string | undefined;\n        switch (this._settings.client_authentication) {\n            case \"client_secret_basic\":\n                if (client_secret === undefined || client_secret === null) {\n                    logger.throw(new Error(\"A client_secret is required\"));\n                    // eslint-disable-next-line @typescript-eslint/only-throw-error\n                    throw null; // https://github.com/microsoft/TypeScript/issues/46972\n                }\n                basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n                break;\n            case \"client_secret_post\":\n                params.append(\"client_id\", client_id);\n                if (client_secret) {\n                    params.append(\"client_secret\", client_secret);\n                }\n                break;\n        }\n\n        const url = await this._metadataService.getTokenEndpoint(false);\n        logger.debug(\"got token endpoint\");\n\n        const response = await this._jsonService.postForm(url, { body: params, basicAuth, timeoutInSeconds, initCredentials: this._settings.fetchRequestCredentials, extraHeaders });\n        logger.debug(\"got response\");\n\n        return response;\n    }\n\n    /**\n     * Revoke an access or refresh token.\n     *\n     * @see https://datatracker.ietf.org/doc/html/rfc7009#section-2.1\n     */\n    public async revoke(args: RevokeArgs): Promise<void> {\n        const logger = this._logger.create(\"revoke\");\n        if (!args.token) {\n            logger.throw(new Error(\"A token is required\"));\n        }\n\n        const url = await this._metadataService.getRevocationEndpoint(false);\n\n        logger.debug(`got revocation endpoint, revoking ${args.token_type_hint ?? \"default token type\"}`);\n\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(args)) {\n            if (value != null) {\n                params.set(key, value);\n            }\n        }\n        params.set(\"client_id\", this._settings.client_id);\n        if (this._settings.client_secret) {\n            params.set(\"client_secret\", this._settings.client_secret);\n        }\n\n        await this._jsonService.postForm(url, { body: params, timeoutInSeconds: this._settings.requestTimeoutInSeconds });\n        logger.debug(\"got response\");\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, JwtUtils } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { UserInfoService } from \"./UserInfoService\";\nimport { TokenClient } from \"./TokenClient\";\nimport type { ExtraHeader, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { SigninState } from \"./SigninState\";\nimport type { SigninResponse } from \"./SigninResponse\";\nimport type { State } from \"./State\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport type { UserProfile } from \"./User\";\nimport type { RefreshState } from \"./RefreshState\";\nimport type { IdTokenClaims } from \"./Claims\";\nimport type { ClaimsService } from \"./ClaimsService\";\n\n/**\n * @internal\n */\nexport class ResponseValidator {\n    protected readonly _logger = new Logger(\"ResponseValidator\");\n    protected readonly _userInfoService: UserInfoService;\n    protected readonly _tokenClient: TokenClient;\n\n    public constructor(\n        protected readonly _settings: OidcClientSettingsStore,\n        protected readonly _metadataService: MetadataService,\n        protected readonly _claimsService: ClaimsService,\n    ) {\n        this._userInfoService = new UserInfoService(this._settings, this._metadataService);\n        this._tokenClient = new TokenClient(this._settings, this._metadataService);\n    }\n\n    public async validateSigninResponse(response: SigninResponse, state: SigninState, extraHeaders?: Record<string, ExtraHeader>): Promise<void> {\n        const logger = this._logger.create(\"validateSigninResponse\");\n\n        this._processSigninState(response, state);\n        logger.debug(\"state processed\");\n\n        await this._processCode(response, state, extraHeaders);\n        logger.debug(\"code processed\");\n\n        if (response.isOpenId) {\n            this._validateIdTokenAttributes(response);\n        }\n        logger.debug(\"tokens validated\");\n\n        await this._processClaims(response, state?.skipUserInfo, response.isOpenId);\n        logger.debug(\"claims processed\");\n    }\n\n    public async validateCredentialsResponse(response: SigninResponse, skipUserInfo: boolean): Promise<void> {\n        const logger = this._logger.create(\"validateCredentialsResponse\");\n        const shouldValidateSubClaim = response.isOpenId && !!response.id_token;\n\n        if (shouldValidateSubClaim) {\n            this._validateIdTokenAttributes(response);\n        }\n        logger.debug(\"tokens validated\");\n\n        await this._processClaims(response, skipUserInfo, shouldValidateSubClaim);\n        logger.debug(\"claims processed\");\n    }\n\n    public async validateRefreshResponse(response: SigninResponse, state: RefreshState): Promise<void> {\n        const logger = this._logger.create(\"validateRefreshResponse\");\n\n        response.userState = state.data;\n        // if there's no session_state on the response, copy over session_state from original request\n        response.session_state ??= state.session_state;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        // OpenID Connect Core 1.0 says that id_token is optional in refresh response:\n        // https://openid.net/specs/openid-connect-core-1_0.html#RefreshTokenResponse\n        if (response.isOpenId && !!response.id_token) {\n            this._validateIdTokenAttributes(response, state.id_token);\n            logger.debug(\"ID Token validated\");\n        }\n\n        if (!response.id_token) {\n            // if there's no id_token on the response, copy over id_token from original request\n            response.id_token = state.id_token;\n            // and decoded part too\n            response.profile = state.profile;\n        }\n\n        const hasIdToken = response.isOpenId && !!response.id_token;\n        await this._processClaims(response, false, hasIdToken);\n        logger.debug(\"claims processed\");\n    }\n\n    public validateSignoutResponse(response: SignoutResponse, state: State): void {\n        const logger = this._logger.create(\"validateSignoutResponse\");\n        if (state.id !== response.state) {\n            logger.throw(new Error(\"State does not match\"));\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        logger.debug(\"state validated\");\n        response.userState = state.data;\n\n        if (response.error) {\n            logger.warn(\"Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n    }\n\n    protected _processSigninState(response: SigninResponse, state: SigninState): void {\n        const logger = this._logger.create(\"_processSigninState\");\n        if (state.id !== response.state) {\n            logger.throw(new Error(\"State does not match\"));\n        }\n\n        if (!state.client_id) {\n            logger.throw(new Error(\"No client_id on state\"));\n        }\n\n        if (!state.authority) {\n            logger.throw(new Error(\"No authority on state\"));\n        }\n\n        // ensure we're using the correct authority\n        if (this._settings.authority !== state.authority) {\n            logger.throw(new Error(\"authority mismatch on settings vs. signin state\"));\n        }\n        if (this._settings.client_id && this._settings.client_id !== state.client_id) {\n            logger.throw(new Error(\"client_id mismatch on settings vs. signin state\"));\n        }\n\n        // now that we know the state matches, take the stored data\n        // and set it into the response so callers can get their state\n        // this is important for both success & error outcomes\n        logger.debug(\"state validated\");\n        response.userState = state.data;\n        response.url_state = state.url_state;\n        // if there's no scope on the response, then assume all scopes granted (per-spec) and copy over scopes from original request\n        response.scope ??= state.scope;\n\n        if (response.error) {\n            logger.warn(\"Response was error\", response.error);\n            throw new ErrorResponse(response);\n        }\n\n        if (state.code_verifier && !response.code) {\n            logger.throw(new Error(\"Expected code in response\"));\n        }\n\n    }\n\n    protected async _processClaims(response: SigninResponse, skipUserInfo = false, validateSub = true): Promise<void> {\n        const logger = this._logger.create(\"_processClaims\");\n        response.profile = this._claimsService.filterProtocolClaims(response.profile);\n\n        if (skipUserInfo || !this._settings.loadUserInfo || !response.access_token) {\n            logger.debug(\"not loading user info\");\n            return;\n        }\n\n        logger.debug(\"loading user info\");\n        const claims = await this._userInfoService.getClaims(response.access_token);\n        logger.debug(\"user info claims received from user info endpoint\");\n\n        if (validateSub && claims.sub !== response.profile.sub) {\n            logger.throw(new Error(\"subject from UserInfo response does not match subject in ID Token\"));\n        }\n\n        response.profile = this._claimsService.mergeClaims(response.profile, this._claimsService.filterProtocolClaims(claims as IdTokenClaims));\n        logger.debug(\"user info claims received, updated profile:\", response.profile);\n    }\n\n    protected async _processCode(response: SigninResponse, state: SigninState, extraHeaders?: Record<string, ExtraHeader>): Promise<void> {\n        const logger = this._logger.create(\"_processCode\");\n        if (response.code) {\n            logger.debug(\"Validating code\");\n            const tokenResponse = await this._tokenClient.exchangeCode({\n                client_id: state.client_id,\n                client_secret: state.client_secret,\n                code: response.code,\n                redirect_uri: state.redirect_uri,\n                code_verifier: state.code_verifier,\n                extraHeaders: extraHeaders,\n                ...state.extraTokenParams,\n            });\n            Object.assign(response, tokenResponse);\n        } else {\n            logger.debug(\"No code to process\");\n        }\n    }\n\n    protected _validateIdTokenAttributes(response: SigninResponse, existingToken?: string): void {\n        const logger = this._logger.create(\"_validateIdTokenAttributes\");\n\n        logger.debug(\"decoding ID Token JWT\");\n        const incoming = JwtUtils.decode(response.id_token ?? \"\");\n\n        if (!incoming.sub) {\n            logger.throw(new Error(\"ID Token is missing a subject claim\"));\n        }\n\n        if (existingToken) {\n            const existing = JwtUtils.decode(existingToken);\n            if (incoming.sub !== existing.sub) {\n                logger.throw(new Error(\"sub in id_token does not match current sub\"));\n            }\n            if (incoming.auth_time && incoming.auth_time !== existing.auth_time) {\n                logger.throw(new Error(\"auth_time in id_token does not match original auth_time\"));\n            }\n            if (incoming.azp && incoming.azp !== existing.azp) {\n                logger.throw(new Error(\"azp in id_token does not match original azp\"));\n            }\n            if (!incoming.azp && existing.azp) {\n                logger.throw(new Error(\"azp not in id_token, but present in original id_token\"));\n            }\n        }\n\n        response.profile = incoming as UserProfile;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils, Timer } from \"./utils\";\nimport type { StateStore } from \"./StateStore\";\n\n/**\n * @public\n */\nexport class State {\n    public readonly id: string;\n    public readonly created: number;\n    public readonly request_type: string | undefined;\n    public readonly url_state: string | undefined;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    public readonly data?: unknown;\n\n    public constructor(args: {\n        id?: string;\n        data?: unknown;\n        created?: number;\n        request_type?: string;\n        url_state?: string;\n    }) {\n        this.id = args.id || CryptoUtils.generateUUIDv4();\n        this.data = args.data;\n\n        if (args.created && args.created > 0) {\n            this.created = args.created;\n        }\n        else {\n            this.created = Timer.getEpochTime();\n        }\n        this.request_type = args.request_type;\n        this.url_state = args.url_state;\n    }\n\n    public toStorageString(): string {\n        new Logger(\"State\").create(\"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n            url_state: this.url_state,\n        });\n    }\n\n    public static fromStorageString(storageString: string): Promise<State> {\n        Logger.createStatic(\"State\", \"fromStorageString\");\n        return Promise.resolve(new State(JSON.parse(storageString)));\n    }\n\n    public static async clearStaleState(storage: StateStore, age: number): Promise<void> {\n        const logger = Logger.createStatic(\"State\", \"clearStaleState\");\n        const cutoff = Timer.getEpochTime() - age;\n\n        const keys = await storage.getAllKeys();\n        logger.debug(\"got keys\", keys);\n\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            const item = await storage.get(key);\n            let remove = false;\n\n            if (item) {\n                try {\n                    const state = await State.fromStorageString(item);\n\n                    logger.debug(\"got item from key:\", key, state.created);\n                    if (state.created <= cutoff) {\n                        remove = true;\n                    }\n                }\n                catch (err) {\n                    logger.error(\"Error parsing state for key:\", key, err);\n                    remove = true;\n                }\n            }\n            else {\n                logger.debug(\"no item in storage for key:\", key);\n                remove = true;\n            }\n\n            if (remove) {\n                logger.debug(\"removed item for key:\", key);\n                void storage.remove(key);\n            }\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, CryptoUtils } from \"./utils\";\nimport { State } from \"./State\";\n\n/** @public */\nexport interface SigninStateArgs {\n    id?: string;\n    data?: unknown;\n    created?: number;\n    request_type?: string;\n\n    code_verifier?: string;\n    code_challenge?: string;\n    authority: string;\n    client_id: string;\n    redirect_uri: string;\n    scope: string;\n    client_secret?: string;\n    extraTokenParams?: Record<string, unknown>;\n    response_mode?: \"query\" | \"fragment\";\n    skipUserInfo?: boolean;\n    url_state?: string;\n}\n\n/** @public */\nexport type SigninStateCreateArgs = Omit<SigninStateArgs, \"code_verifier\"> & {\n    code_verifier?: string | boolean;\n};\n\n/**\n * @public\n */\nexport class SigninState extends State {\n    // isCode\n    /** The same code_verifier that was used to obtain the authorization_code via PKCE. */\n    public readonly code_verifier: string | undefined;\n    /** Used to secure authorization code grants via Proof Key for Code Exchange (PKCE). */\n    public readonly code_challenge: string | undefined;\n\n    // to ensure state still matches settings\n    /** @see {@link OidcClientSettings.authority} */\n    public readonly authority: string;\n    /** @see {@link OidcClientSettings.client_id} */\n    public readonly client_id: string;\n    /** @see {@link OidcClientSettings.redirect_uri} */\n    public readonly redirect_uri: string;\n    /** @see {@link OidcClientSettings.scope} */\n    public readonly scope: string;\n    /** @see {@link OidcClientSettings.client_secret} */\n    public readonly client_secret: string | undefined;\n    /** @see {@link OidcClientSettings.extraTokenParams} */\n    public readonly extraTokenParams: Record<string, unknown> | undefined;\n    /** @see {@link OidcClientSettings.response_mode} */\n    public readonly response_mode: \"query\" | \"fragment\" | undefined;\n\n    public readonly skipUserInfo: boolean | undefined;\n\n    private constructor(args: SigninStateArgs) {\n        super(args);\n\n        this.code_verifier = args.code_verifier;\n        this.code_challenge = args.code_challenge;\n        this.authority = args.authority;\n        this.client_id = args.client_id;\n        this.redirect_uri = args.redirect_uri;\n        this.scope = args.scope;\n        this.client_secret = args.client_secret;\n        this.extraTokenParams = args.extraTokenParams;\n\n        this.response_mode = args.response_mode;\n        this.skipUserInfo = args.skipUserInfo;\n    }\n\n    public static async create(args: SigninStateCreateArgs): Promise<SigninState> {\n        const code_verifier = args.code_verifier === true ? CryptoUtils.generateCodeVerifier() : (args.code_verifier || undefined);\n        const code_challenge = code_verifier ? (await CryptoUtils.generateCodeChallenge(code_verifier)) : undefined;\n\n        return new SigninState({\n            ...args,\n            code_verifier,\n            code_challenge,\n        });\n    }\n\n    public toStorageString(): string {\n        new Logger(\"SigninState\").create(\"toStorageString\");\n        return JSON.stringify({\n            id: this.id,\n            data: this.data,\n            created: this.created,\n            request_type: this.request_type,\n            url_state: this.url_state,\n\n            code_verifier: this.code_verifier,\n            authority: this.authority,\n            client_id: this.client_id,\n            redirect_uri: this.redirect_uri,\n            scope: this.scope,\n            client_secret: this.client_secret,\n            extraTokenParams : this.extraTokenParams,\n            response_mode: this.response_mode,\n            skipUserInfo: this.skipUserInfo,\n        });\n    }\n\n    public static fromStorageString(storageString: string): Promise<SigninState> {\n        Logger.createStatic(\"SigninState\", \"fromStorageString\");\n        const data = JSON.parse(storageString);\n        return SigninState.create(data);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, URL_STATE_DELIMITER } from \"./utils\";\nimport { SigninState } from \"./SigninState\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n */\nexport interface SigninRequestCreateArgs {\n    // mandatory\n    url: string;\n    authority: string;\n    client_id: string;\n    redirect_uri: string;\n    response_type: string;\n    scope: string;\n\n    // optional\n    response_mode?: \"query\" | \"fragment\";\n    nonce?: string;\n    display?: string;\n    dpopJkt?: string;\n    prompt?: string;\n    max_age?: number;\n    ui_locales?: string;\n    id_token_hint?: string;\n    login_hint?: string;\n    acr_values?: string;\n\n    // other\n    resource?: string | string[];\n    request?: string;\n    request_uri?: string;\n    request_type?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    // special\n    extraTokenParams?: Record<string, unknown>;\n    client_secret?: string;\n    skipUserInfo?: boolean;\n    disablePKCE?: boolean;\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state_data?: unknown;\n    url_state?: string;\n    omitScopeWhenRequesting?: boolean;\n}\n\n/**\n * @public\n */\nexport class SigninRequest {\n    private static readonly _logger = new Logger(\"SigninRequest\");\n\n    public readonly url: string;\n    public readonly state: SigninState;\n\n    private constructor(args: {\n        url: string;\n        state: SigninState;\n    }) {\n        this.url = args.url;\n        this.state = args.state;\n    }\n\n    public static async create({\n        // mandatory\n        url, authority, client_id, redirect_uri, response_type, scope,\n        // optional\n        state_data, response_mode, request_type, client_secret, nonce, url_state,\n        resource,\n        skipUserInfo,\n        extraQueryParams,\n        extraTokenParams,\n        disablePKCE,\n        dpopJkt,\n        omitScopeWhenRequesting,\n        ...optionalParams\n    }: SigninRequestCreateArgs): Promise<SigninRequest> {\n        if (!url) {\n            this._logger.error(\"create: No url passed\");\n            throw new Error(\"url\");\n        }\n        if (!client_id) {\n            this._logger.error(\"create: No client_id passed\");\n            throw new Error(\"client_id\");\n        }\n        if (!redirect_uri) {\n            this._logger.error(\"create: No redirect_uri passed\");\n            throw new Error(\"redirect_uri\");\n        }\n        if (!response_type) {\n            this._logger.error(\"create: No response_type passed\");\n            throw new Error(\"response_type\");\n        }\n        if (!scope) {\n            this._logger.error(\"create: No scope passed\");\n            throw new Error(\"scope\");\n        }\n        if (!authority) {\n            this._logger.error(\"create: No authority passed\");\n            throw new Error(\"authority\");\n        }\n\n        const state = await SigninState.create({\n            data: state_data,\n            request_type,\n            url_state,\n            code_verifier: !disablePKCE,\n            client_id, authority, redirect_uri,\n            response_mode,\n            client_secret, scope, extraTokenParams,\n            skipUserInfo,\n        });\n\n        const parsedUrl = new URL(url);\n        parsedUrl.searchParams.append(\"client_id\", client_id);\n        parsedUrl.searchParams.append(\"redirect_uri\", redirect_uri);\n        parsedUrl.searchParams.append(\"response_type\", response_type);\n        if (!omitScopeWhenRequesting) {\n            parsedUrl.searchParams.append(\"scope\", scope);\n        }\n        if (nonce) {\n            parsedUrl.searchParams.append(\"nonce\", nonce);\n        }\n\n        if (dpopJkt) {\n            parsedUrl.searchParams.append(\"dpop_jkt\", dpopJkt);\n        }\n\n        let stateParam = state.id;\n        if (url_state) {\n            stateParam = `${stateParam}${URL_STATE_DELIMITER}${url_state}`;\n        }\n        parsedUrl.searchParams.append(\"state\", stateParam);\n        if (state.code_challenge) {\n            parsedUrl.searchParams.append(\"code_challenge\", state.code_challenge);\n            parsedUrl.searchParams.append(\"code_challenge_method\", \"S256\");\n        }\n\n        if (resource) {\n            // https://datatracker.ietf.org/doc/html/rfc8707\n            const resources = Array.isArray(resource) ? resource : [resource];\n            resources\n                .forEach(r => parsedUrl.searchParams.append(\"resource\", r));\n        }\n\n        for (const [key, value] of Object.entries({ response_mode, ...optionalParams, ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        return new SigninRequest({\n            url: parsedUrl.href,\n            state,\n        });\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Timer, URL_STATE_DELIMITER } from \"./utils\";\nimport type { UserProfile } from \"./User\";\n\nconst OidcScope = \"openid\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthResponse\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n */\nexport class SigninResponse {\n    // props present in the initial callback response regardless of success\n    public readonly state: string | null;\n    /** @see {@link User.session_state} */\n    public session_state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public readonly error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public readonly error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public readonly error_uri: string | null;\n\n    // success props\n    public readonly code: string | null;\n\n    // props set after validation\n    /** @see {@link User.id_token} */\n    public id_token?: string;\n    /** @see {@link User.access_token} */\n    public access_token = \"\";\n    /** @see {@link User.token_type} */\n    public token_type = \"\";\n    /** @see {@link User.refresh_token} */\n    public refresh_token?: string;\n    /** @see {@link User.scope} */\n    public scope?: string;\n    /** @see {@link User.expires_at} */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n    public url_state?: string;\n\n    /** @see {@link User.profile} */\n    public profile: UserProfile = {} as UserProfile;\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n        this.session_state = params.get(\"session_state\");\n        if (this.state) {\n            const splitState = decodeURIComponent(this.state).split(URL_STATE_DELIMITER);\n            this.state = splitState[0];\n            if (splitState.length > 1) {\n                this.url_state = splitState.slice(1).join(URL_STATE_DELIMITER);\n            }\n        }\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n\n        this.code = params.get(\"code\");\n    }\n\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n    public set expires_in(value: number | undefined) {\n        // spec expects a number, but normalize here just in case\n        if (typeof value === \"string\") value = Number(value);\n        if (value !== undefined && value >= 0) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    public get isOpenId(): boolean {\n        return this.scope?.split(\" \").includes(OidcScope) || !!this.id_token;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, URL_STATE_DELIMITER } from \"./utils\";\nimport { State } from \"./State\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-rpinitiated-1_0.html#RPLogout\n */\nexport interface SignoutRequestArgs {\n    // mandatory\n    url: string;\n\n    // optional\n    id_token_hint?: string;\n    client_id?: string;\n    post_logout_redirect_uri?: string;\n    extraQueryParams?: Record<string, string | number | boolean>;\n\n    // special\n    request_type?: string;\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state_data?: unknown;\n    url_state?: string;\n}\n\n/**\n * @public\n */\nexport class SignoutRequest {\n    private readonly _logger = new Logger(\"SignoutRequest\");\n\n    public readonly url: string;\n    public readonly state?: State;\n\n    public constructor({\n        url,\n        state_data, id_token_hint, post_logout_redirect_uri, extraQueryParams, request_type, client_id, url_state,\n    }: SignoutRequestArgs) {\n        if (!url) {\n            this._logger.error(\"ctor: No url passed\");\n            throw new Error(\"url\");\n        }\n\n        const parsedUrl = new URL(url);\n        if (id_token_hint) {\n            parsedUrl.searchParams.append(\"id_token_hint\", id_token_hint);\n        }\n        if (client_id) {\n            parsedUrl.searchParams.append(\"client_id\", client_id);\n        }\n\n        if (post_logout_redirect_uri) {\n            parsedUrl.searchParams.append(\"post_logout_redirect_uri\", post_logout_redirect_uri);\n\n            // Add state if either data needs to be stored, or url_state set for an intermediate proxy\n            if (state_data || url_state) {\n                this.state = new State({ data: state_data, request_type, url_state });\n\n                let stateParam = this.state.id;\n                if (url_state) {\n                    stateParam = `${stateParam}${URL_STATE_DELIMITER}${url_state}`;\n                }\n                parsedUrl.searchParams.append(\"state\", stateParam);\n            }\n        }\n\n        for (const [key, value] of Object.entries({ ...extraQueryParams })) {\n            if (value != null) {\n                parsedUrl.searchParams.append(key, value.toString());\n            }\n        }\n\n        this.url = parsedUrl.href;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { URL_STATE_DELIMITER } from \"./utils\";\n\n/**\n * @public\n * @see https://openid.net/specs/openid-connect-core-1_0.html#AuthError\n */\nexport class SignoutResponse {\n    public readonly state: string | null;\n\n    // error props\n    /** @see {@link ErrorResponse.error} */\n    public error: string | null;\n    /** @see {@link ErrorResponse.error_description} */\n    public error_description: string | null;\n    /** @see {@link ErrorResponse.error_uri} */\n    public error_uri: string | null;\n\n    /** custom state data set during the initial signin request */\n    public userState: unknown;\n    public url_state?: string;\n\n    public constructor(params: URLSearchParams) {\n        this.state = params.get(\"state\");\n        if (this.state) {\n            const splitState = decodeURIComponent(this.state).split(URL_STATE_DELIMITER);\n            this.state = splitState[0];\n            if (splitState.length > 1) {\n                this.url_state = splitState.slice(1).join(URL_STATE_DELIMITER);\n            }\n        }\n\n        this.error = params.get(\"error\");\n        this.error_description = params.get(\"error_description\");\n        this.error_uri = params.get(\"error_uri\");\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport type { JwtClaims } from \"./Claims\";\nimport type { OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { UserProfile } from \"./User\";\nimport { Logger } from \"./utils\";\n\n/**\n * Protocol claims that could be removed by default from profile.\n * Derived from the following sets of claims:\n * - {@link https://datatracker.ietf.org/doc/html/rfc7519.html#section-4.1}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#IDToken}\n * - {@link https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken}\n *\n * @internal\n */\nconst DefaultProtocolClaims = [\n    \"nbf\",\n    \"jti\",\n    \"auth_time\",\n    \"nonce\",\n    \"acr\",\n    \"amr\",\n    \"azp\",\n    \"at_hash\", // https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken\n] as const;\n\n/**\n * Protocol claims that should never be removed from profile.\n * \"sub\" is needed internally and others should remain required as per the OIDC specs.\n *\n * @internal\n */\nconst InternalRequiredProtocolClaims = [\"sub\", \"iss\", \"aud\", \"exp\", \"iat\"];\n\n/**\n * @internal\n */\nexport class ClaimsService {\n    protected readonly _logger = new Logger(\"ClaimsService\");\n    public constructor(\n        protected readonly _settings: OidcClientSettingsStore,\n    ) {}\n\n    public filterProtocolClaims(claims: UserProfile): UserProfile {\n        const result = { ...claims };\n\n        if (this._settings.filterProtocolClaims) {\n            let protocolClaims;\n            if (Array.isArray(this._settings.filterProtocolClaims)) {\n                protocolClaims = this._settings.filterProtocolClaims;\n            } else {\n                protocolClaims = DefaultProtocolClaims;\n            }\n\n            for (const claim of protocolClaims) {\n                if (!InternalRequiredProtocolClaims.includes(claim)) {\n                    delete result[claim];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    public mergeClaims(claims1: JwtClaims, claims2: JwtClaims): UserProfile;\n    public mergeClaims(claims1: UserProfile, claims2: JwtClaims): UserProfile {\n        const result = { ...claims1 };\n        for (const [claim, values] of Object.entries(claims2)) {\n            if (result[claim] !== values) {\n                if (Array.isArray(result[claim]) || Array.isArray(values)) {\n                    if (this._settings.mergeClaimsStrategy.array == \"replace\") {\n                        result[claim] = values;\n                    } else {\n                        const mergedValues = Array.isArray(result[claim]) ? result[claim] as unknown[] : [result[claim]];\n                        for (const value of Array.isArray(values) ? values : [values]) {\n                            if (!mergedValues.includes(value)) {\n                                mergedValues.push(value);\n                            }\n                        }\n                        result[claim] = mergedValues;\n                    }\n                } else if (typeof result[claim] === \"object\" && typeof values === \"object\") {\n                    result[claim] = this.mergeClaims(result[claim] as JwtClaims, values as JwtClaims);\n                } else {\n                    result[claim] = values;\n                }\n            }\n        }\n\n        return result;\n    }\n}\n", "/**\n * @public\n */\nexport interface DPoPStore {\n    set(key: string, value: DPoPState): Promise<void>;\n    get(key: string): Promise<DPoPState>;\n    remove(key: string): Promise<DPoPState>;\n    getAllKeys(): Promise<string[]>;\n}\n\n/**\n * @public\n */\nexport class DPoPState {\n    public constructor(\n        public readonly keys: CryptoKeyPair,\n        public nonce?: string,\n    ) { }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { CryptoUtils, Logger, UrlUtils } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport { type ExtraHeader, type OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport { ResponseValidator } from \"./ResponseValidator\";\nimport { MetadataService } from \"./MetadataService\";\nimport type { RefreshState } from \"./RefreshState\";\nimport { SigninRequest, type SigninRequestCreateArgs } from \"./SigninRequest\";\nimport { SigninResponse } from \"./SigninResponse\";\nimport { SignoutRequest, type SignoutRequestArgs } from \"./SignoutRequest\";\nimport { SignoutResponse } from \"./SignoutResponse\";\nimport { SigninState } from \"./SigninState\";\nimport { State } from \"./State\";\nimport { TokenClient } from \"./TokenClient\";\nimport { ClaimsService } from \"./ClaimsService\";\nimport { DPoPState, type DPoPStore } from \"./DPoPStore\";\nimport { ErrorDPoPNonce } from \"./errors/ErrorDPoPNonce\";\n\n/**\n * @public\n */\nexport interface CreateSigninRequestArgs\n    extends Omit<SigninRequestCreateArgs, \"url\" | \"authority\" | \"client_id\" | \"redirect_uri\" | \"response_type\" | \"scope\" | \"state_data\"> {\n    redirect_uri?: string;\n    response_type?: string;\n    scope?: string;\n    dpopJkt?: string;\n\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state?: unknown;\n}\n\n/**\n * @public\n */\nexport interface UseRefreshTokenArgs {\n    redirect_uri?: string;\n    resource?: string | string[];\n    extraTokenParams?: Record<string, unknown>;\n    timeoutInSeconds?: number;\n\n    state: RefreshState;\n\n    extraHeaders?: Record<string, ExtraHeader>;\n}\n\n/**\n * @public\n */\nexport type CreateSignoutRequestArgs = Omit<SignoutRequestArgs, \"url\" | \"state_data\"> & {\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    state?: unknown;\n};\n\n/**\n * @public\n */\nexport type ProcessResourceOwnerPasswordCredentialsArgs = {\n    username: string;\n    password: string;\n    skipUserInfo?: boolean;\n    extraTokenParams?: Record<string, unknown>;\n};\n\n/**\n * Provides the raw OIDC/OAuth2 protocol support for the authorization endpoint and the end session endpoint in the\n * authorization server. It provides a bare-bones protocol implementation and is used by the UserManager class.\n * Only use this class if you simply want protocol support without the additional management features of the\n * UserManager class.\n *\n * @public\n */\nexport class OidcClient {\n    public readonly settings: OidcClientSettingsStore;\n    protected readonly _logger = new Logger(\"OidcClient\");\n\n    public readonly metadataService: MetadataService;\n    protected readonly _claimsService: ClaimsService;\n    protected readonly _validator: ResponseValidator;\n    protected readonly _tokenClient: TokenClient;\n\n    public constructor(settings: OidcClientSettings);\n    public constructor(settings: OidcClientSettingsStore, metadataService: MetadataService);\n    public constructor(settings: OidcClientSettings | OidcClientSettingsStore, metadataService?: MetadataService) {\n        this.settings = settings instanceof OidcClientSettingsStore ? settings : new OidcClientSettingsStore(settings);\n\n        this.metadataService = metadataService ?? new MetadataService(this.settings);\n        this._claimsService = new ClaimsService(this.settings);\n        this._validator = new ResponseValidator(this.settings, this.metadataService, this._claimsService);\n        this._tokenClient = new TokenClient(this.settings, this.metadataService);\n    }\n\n    public async createSigninRequest({\n        state,\n        request,\n        request_uri,\n        request_type,\n        id_token_hint,\n        login_hint,\n        skipUserInfo,\n        nonce,\n        url_state,\n        response_type = this.settings.response_type,\n        scope = this.settings.scope,\n        redirect_uri = this.settings.redirect_uri,\n        prompt = this.settings.prompt,\n        display = this.settings.display,\n        max_age = this.settings.max_age,\n        ui_locales = this.settings.ui_locales,\n        acr_values = this.settings.acr_values,\n        resource = this.settings.resource,\n        response_mode = this.settings.response_mode,\n        extraQueryParams = this.settings.extraQueryParams,\n        extraTokenParams = this.settings.extraTokenParams,\n        dpopJkt,\n        omitScopeWhenRequesting = this.settings.omitScopeWhenRequesting,\n    }: CreateSigninRequestArgs): Promise<SigninRequest> {\n        const logger = this._logger.create(\"createSigninRequest\");\n\n        if (response_type !== \"code\") {\n            throw new Error(\"Only the Authorization Code flow (with PKCE) is supported\");\n        }\n\n        const url = await this.metadataService.getAuthorizationEndpoint();\n        logger.debug(\"Received authorization endpoint\", url);\n\n        const signinRequest = await SigninRequest.create({\n            url,\n            authority: this.settings.authority,\n            client_id: this.settings.client_id,\n            redirect_uri,\n            response_type,\n            scope,\n            state_data: state,\n            url_state,\n            prompt, display, max_age, ui_locales, id_token_hint, login_hint, acr_values, dpopJkt,\n            resource, request, request_uri, extraQueryParams, extraTokenParams, request_type, response_mode,\n            client_secret: this.settings.client_secret,\n            skipUserInfo,\n            nonce,\n            disablePKCE: this.settings.disablePKCE,\n            omitScopeWhenRequesting,\n        });\n\n        // house cleaning\n        await this.clearStaleState();\n\n        const signinState = signinRequest.state;\n        await this.settings.stateStore.set(signinState.id, signinState.toStorageString());\n        return signinRequest;\n    }\n\n    public async readSigninResponseState(url: string, removeState = false): Promise<{ state: SigninState; response: SigninResponse }> {\n        const logger = this._logger.create(\"readSigninResponseState\");\n\n        const response = new SigninResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            logger.throw(new Error(\"No state in response\"));\n            // need to throw within this function's body for type narrowing to work\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            logger.throw(new Error(\"No matching state found in storage\"));\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const state = await SigninState.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSigninResponse(url: string, extraHeaders?: Record<string, ExtraHeader>, removeState = true): Promise<SigninResponse> {\n        const logger = this._logger.create(\"processSigninResponse\");\n\n        const { state, response } = await this.readSigninResponseState(url, removeState);\n        logger.debug(\"received state from storage; validating response\");\n\n        if (this.settings.dpop && this.settings.dpop.store) {\n            const dpopProof = await this.getDpopProof(this.settings.dpop.store);\n            extraHeaders = { ...extraHeaders, \"DPoP\": dpopProof };\n        }\n\n        /**\n         * The DPoP spec describes a method for Authorization Servers to supply a nonce value\n         * in order to limit the lifetime of a given DPoP proof.\n         * See https://datatracker.ietf.org/doc/html/rfc9449#name-authorization-server-provid\n         * This involves the AS returning a 400 bad request with a DPoP-Nonce header containing\n         * the nonce value. The client must then retry the request with a recomputed DPoP proof\n         * containing the supplied nonce value.\n         */\n        try {\n            await this._validator.validateSigninResponse(response, state, extraHeaders);\n        }\n        catch (err) {\n            if (err instanceof ErrorDPoPNonce && this.settings.dpop) {\n                const dpopProof = await this.getDpopProof(this.settings.dpop.store, err.nonce);\n                extraHeaders![\"DPoP\"] = dpopProof;\n                await this._validator.validateSigninResponse(response, state, extraHeaders);\n            } else {\n                throw err;\n            }\n        }\n\n        return response;\n    }\n\n    async getDpopProof(dpopStore: DPoPStore, nonce?: string): Promise<string> {\n        let keyPair: CryptoKeyPair;\n        let dpopState: DPoPState;\n\n        if (!(await dpopStore.getAllKeys()).includes(this.settings.client_id)) {\n            keyPair = await CryptoUtils.generateDPoPKeys();\n            dpopState = new DPoPState(keyPair, nonce);\n            await dpopStore.set(this.settings.client_id, dpopState);\n        } else {\n            dpopState = await dpopStore.get(this.settings.client_id);\n\n            // if the server supplied nonce has changed since the last request, update the nonce\n            if (dpopState.nonce !== nonce && nonce) {\n                dpopState.nonce = nonce;\n                await dpopStore.set(this.settings.client_id, dpopState);\n            }\n        }\n\n        return await CryptoUtils.generateDPoPProof({\n            url: await this.metadataService.getTokenEndpoint(false),\n            httpMethod: \"POST\",\n            keyPair: dpopState.keys,\n            nonce: dpopState.nonce,\n        });\n    }\n\n    public async processResourceOwnerPasswordCredentials({\n        username,\n        password,\n        skipUserInfo = false,\n        extraTokenParams = {},\n    }: ProcessResourceOwnerPasswordCredentialsArgs): Promise<SigninResponse> {\n        const tokenResponse: Record<string, unknown> = await this._tokenClient.exchangeCredentials({ username, password, ...extraTokenParams });\n        const signinResponse: SigninResponse = new SigninResponse(new URLSearchParams());\n        Object.assign(signinResponse, tokenResponse);\n        await this._validator.validateCredentialsResponse(signinResponse, skipUserInfo);\n        return signinResponse;\n    }\n\n    public async useRefreshToken({\n        state,\n        redirect_uri,\n        resource,\n        timeoutInSeconds,\n        extraHeaders,\n        extraTokenParams,\n    }: UseRefreshTokenArgs): Promise<SigninResponse> {\n        const logger = this._logger.create(\"useRefreshToken\");\n\n        // https://github.com/authts/oidc-client-ts/issues/695\n        // In some cases (e.g. AzureAD), not all granted scopes are allowed on token refresh requests.\n        // Therefore, we filter all granted scopes by a list of allowable scopes.\n        let scope;\n        if (this.settings.refreshTokenAllowedScope === undefined) {\n            scope = state.scope;\n        } else {\n            const allowableScopes = this.settings.refreshTokenAllowedScope.split(\" \");\n            const providedScopes = state.scope?.split(\" \") || [];\n\n            scope = providedScopes.filter(s => allowableScopes.includes(s)).join(\" \");\n        }\n\n        if (this.settings.dpop && this.settings.dpop.store) {\n            const dpopProof = await this.getDpopProof(this.settings.dpop.store);\n            extraHeaders = { ...extraHeaders, \"DPoP\": dpopProof };\n        }\n\n        /**\n         * The DPoP spec describes a method for Authorization Servers to supply a nonce value\n         * in order to limit the lifetime of a given DPoP proof.\n         * See https://datatracker.ietf.org/doc/html/rfc9449#name-authorization-server-provid\n         * This involves the AS returning a 400 bad request with a DPoP-Nonce header containing\n         * the nonce value. The client must then retry the request with a recomputed DPoP proof\n         * containing the supplied nonce value.\n         */\n        let result;\n        try {\n            result = await this._tokenClient.exchangeRefreshToken({\n                refresh_token: state.refresh_token,\n                // provide the (possible filtered) scope list\n                scope,\n                redirect_uri,\n                resource,\n                timeoutInSeconds,\n                extraHeaders,\n                ...extraTokenParams,\n            });\n        } catch (err) {\n            if (err instanceof ErrorDPoPNonce && this.settings.dpop) {\n                extraHeaders![\"DPoP\"] = await this.getDpopProof(this.settings.dpop.store, err.nonce);\n                result = await this._tokenClient.exchangeRefreshToken({\n                    refresh_token: state.refresh_token,\n                    // provide the (possible filtered) scope list\n                    scope,\n                    redirect_uri,\n                    resource,\n                    timeoutInSeconds,\n                    extraHeaders,\n                    ...extraTokenParams,\n                });\n            } else {\n                throw err;\n            }\n        }\n\n        const response = new SigninResponse(new URLSearchParams());\n        Object.assign(response, result);\n        logger.debug(\"validating response\", response);\n        await this._validator.validateRefreshResponse(response, {\n            ...state,\n            // override the scope in the state handed over to the validator\n            // so it can set the granted scope to the requested scope in case none is included in the response\n            scope,\n        });\n        return response;\n    }\n\n    public async createSignoutRequest({\n        state,\n        id_token_hint,\n        client_id,\n        request_type,\n        url_state,\n        post_logout_redirect_uri = this.settings.post_logout_redirect_uri,\n        extraQueryParams = this.settings.extraQueryParams,\n    }: CreateSignoutRequestArgs = {}): Promise<SignoutRequest> {\n        const logger = this._logger.create(\"createSignoutRequest\");\n\n        const url = await this.metadataService.getEndSessionEndpoint();\n        if (!url) {\n            logger.throw(new Error(\"No end session endpoint\"));\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        logger.debug(\"Received end session endpoint\", url);\n\n        // specify the client identifier when post_logout_redirect_uri is used but id_token_hint is not\n        if (!client_id && post_logout_redirect_uri && !id_token_hint) {\n            client_id = this.settings.client_id;\n        }\n\n        const request = new SignoutRequest({\n            url,\n            id_token_hint,\n            client_id,\n            post_logout_redirect_uri,\n            state_data: state,\n            extraQueryParams,\n            request_type,\n            url_state,\n        });\n\n        // house cleaning\n        await this.clearStaleState();\n\n        const signoutState = request.state;\n        if (signoutState) {\n            logger.debug(\"Signout request has state to persist\");\n            await this.settings.stateStore.set(signoutState.id, signoutState.toStorageString());\n        }\n\n        return request;\n    }\n\n    public async readSignoutResponseState(url: string, removeState = false): Promise<{ state: State | undefined; response: SignoutResponse }> {\n        const logger = this._logger.create(\"readSignoutResponseState\");\n\n        const response = new SignoutResponse(UrlUtils.readParams(url, this.settings.response_mode));\n        if (!response.state) {\n            logger.debug(\"No state in response\");\n\n            if (response.error) {\n                logger.warn(\"Response was error:\", response.error);\n                throw new ErrorResponse(response);\n            }\n\n            return { state: undefined, response };\n        }\n\n        const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n        if (!storedStateString) {\n            logger.throw(new Error(\"No matching state found in storage\"));\n            // eslint-disable-next-line @typescript-eslint/only-throw-error\n            throw null; // https://github.com/microsoft/TypeScript/issues/46972\n        }\n\n        const state = await State.fromStorageString(storedStateString);\n        return { state, response };\n    }\n\n    public async processSignoutResponse(url: string): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"processSignoutResponse\");\n\n        const { state, response } = await this.readSignoutResponseState(url, true);\n        if (state) {\n            logger.debug(\"Received state from storage; validating response\");\n            this._validator.validateSignoutResponse(response, state);\n        } else {\n            logger.debug(\"No state from storage; skipping response validation\");\n        }\n\n        return response;\n    }\n\n    public clearStaleState(): Promise<void> {\n        this._logger.create(\"clearStaleState\");\n        return State.clearStaleState(this.settings.stateStore, this.settings.staleStateAgeInSeconds);\n    }\n\n    public async revokeToken(token: string, type?: \"access_token\" | \"refresh_token\"): Promise<void> {\n        this._logger.create(\"revokeToken\");\n        return await this._tokenClient.revoke({\n            token,\n            token_type_hint: type,\n        });\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./utils\";\nimport { CheckSessionIFrame } from \"./CheckSessionIFrame\";\nimport type { UserManager } from \"./UserManager\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport class SessionMonitor {\n    private readonly _logger = new Logger(\"SessionMonitor\");\n\n    private _sub: string | undefined;\n    private _checkSessionIFrame?: CheckSessionIFrame;\n\n    public constructor(private readonly _userManager: UserManager) {\n        if (!_userManager) {\n            this._logger.throw(new Error(\"No user manager passed\"));\n        }\n\n        this._userManager.events.addUserLoaded(this._start);\n        this._userManager.events.addUserUnloaded(this._stop);\n\n        this._init().catch((err: unknown) => {\n            // catch to suppress errors since we're in a ctor\n            this._logger.error(err);\n        });\n    }\n\n    protected async _init(): Promise<void> {\n        this._logger.create(\"_init\");\n        const user = await this._userManager.getUser();\n        // doing this manually here since calling getUser\n        // doesn't trigger load event.\n        if (user) {\n            void this._start(user);\n        }\n        else if (this._userManager.settings.monitorAnonymousSession) {\n            const session = await this._userManager.querySessionStatus();\n            if (session) {\n                const tmpUser = {\n                    session_state: session.session_state,\n                    profile: session.sub ? {\n                        sub: session.sub,\n                    } : null,\n                };\n                void this._start(tmpUser);\n            }\n        }\n    }\n\n    protected _start = async (\n        user: User | {\n            session_state: string;\n            profile: { sub: string } | null;\n        },\n    ): Promise<void> => {\n        const session_state = user.session_state;\n        if (!session_state) {\n            return;\n        }\n        const logger = this._logger.create(\"_start\");\n\n        if (user.profile) {\n            this._sub = user.profile.sub;\n            logger.debug(\"session_state\", session_state, \", sub\", this._sub);\n        }\n        else {\n            this._sub = undefined;\n            logger.debug(\"session_state\", session_state, \", anonymous user\");\n        }\n\n        if (this._checkSessionIFrame) {\n            this._checkSessionIFrame.start(session_state);\n            return;\n        }\n\n        try {\n            const url = await this._userManager.metadataService.getCheckSessionIframe();\n            if (url) {\n                logger.debug(\"initializing check session iframe\");\n\n                const client_id = this._userManager.settings.client_id;\n                const intervalInSeconds = this._userManager.settings.checkSessionIntervalInSeconds;\n                const stopOnError = this._userManager.settings.stopCheckSessionOnError;\n\n                const checkSessionIFrame = new CheckSessionIFrame(this._callback, client_id, url, intervalInSeconds, stopOnError);\n                await checkSessionIFrame.load();\n                this._checkSessionIFrame = checkSessionIFrame;\n                checkSessionIFrame.start(session_state);\n            }\n            else {\n                logger.warn(\"no check session iframe found in the metadata\");\n            }\n        }\n        catch (err) {\n            // catch to suppress errors since we're in non-promise callback\n            logger.error(\"Error from getCheckSessionIframe:\", err instanceof Error ? err.message : err);\n        }\n    };\n\n    protected _stop = (): void => {\n        const logger = this._logger.create(\"_stop\");\n        this._sub = undefined;\n\n        if (this._checkSessionIFrame) {\n            this._checkSessionIFrame.stop();\n        }\n\n        if (this._userManager.settings.monitorAnonymousSession) {\n            // using a timer to delay re-initialization to avoid race conditions during signout\n            // TODO rewrite to use promise correctly\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\n            const timerHandle = setInterval(async () => {\n                clearInterval(timerHandle);\n\n                try {\n                    const session = await this._userManager.querySessionStatus();\n                    if (session) {\n                        const tmpUser = {\n                            session_state: session.session_state,\n                            profile: session.sub ? {\n                                sub: session.sub,\n                            } : null,\n                        };\n                        void this._start(tmpUser);\n                    }\n                }\n                catch (err) {\n                    // catch to suppress errors since we're in a callback\n                    logger.error(\"error from querySessionStatus\", err instanceof Error ? err.message : err);\n                }\n            }, 1000);\n        }\n    };\n\n    protected _callback = async (): Promise<void> => {\n        const logger = this._logger.create(\"_callback\");\n        try {\n            const session = await this._userManager.querySessionStatus();\n            let raiseEvent = true;\n\n            if (session && this._checkSessionIFrame) {\n                if (session.sub === this._sub) {\n                    raiseEvent = false;\n                    this._checkSessionIFrame.start(session.session_state);\n\n                    logger.debug(\"same sub still logged in at OP, session state has changed, restarting check session iframe; session_state\", session.session_state);\n                    await this._userManager.events._raiseUserSessionChanged();\n                }\n                else {\n                    logger.debug(\"different subject signed into OP\", session.sub);\n                }\n            }\n            else {\n                logger.debug(\"subject no longer signed into OP\");\n            }\n\n            if (raiseEvent) {\n                if (this._sub) {\n                    await this._userManager.events._raiseUserSignedOut();\n                }\n                else {\n                    await this._userManager.events._raiseUserSignedIn();\n                }\n            } else {\n                logger.debug(\"no change in session detected, no event to raise\");\n            }\n        }\n        catch (err) {\n            if (this._sub) {\n                logger.debug(\"Error calling queryCurrentSigninSession; raising signed out event\", err);\n                await this._userManager.events._raiseUserSignedOut();\n            }\n        }\n    };\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport type { IdTokenClaims } from \"./Claims\";\n\n/**\n * Holds claims represented by a combination of the `id_token` and the user info endpoint.\n *\n * @public\n */\nexport type UserProfile = IdTokenClaims;\n\n/**\n * @public\n */\nexport class User {\n    /**\n     * A JSON Web Token (JWT). Only provided if `openid` scope was requested.\n     * The application can access the data decoded by using the `profile` property.\n     */\n    public id_token?: string;\n\n    /** The session state value returned from the OIDC provider. */\n    public session_state: string | null;\n\n    /**\n     * The requested access token returned from the OIDC provider. The application can use this token to\n     * authenticate itself to the secured resource.\n     */\n    public access_token: string;\n\n    /**\n     * An OAuth 2.0 refresh token. The app can use this token to acquire additional access tokens after the\n     * current access token expires. Refresh tokens are long-lived and can be used to maintain access to resources\n     * for extended periods of time.\n     */\n    public refresh_token?: string;\n\n    /** Typically \"Bearer\" */\n    public token_type: string;\n\n    /** The scopes that the requested access token is valid for. */\n    public scope?: string;\n\n    /** The claims represented by a combination of the `id_token` and the user info endpoint. */\n    public profile: UserProfile;\n\n    /** The expires at returned from the OIDC provider. */\n    public expires_at?: number;\n\n    /** custom state data set during the initial signin request */\n    public readonly state: unknown;\n    public readonly url_state?: string;\n\n    public constructor(args: {\n        id_token?: string;\n        session_state?: string | null;\n        access_token: string;\n        refresh_token?: string;\n        token_type: string;\n        scope?: string;\n        profile: UserProfile;\n        expires_at?: number;\n        userState?: unknown;\n        url_state?: string;\n    }) {\n        this.id_token = args.id_token;\n        this.session_state = args.session_state ?? null;\n        this.access_token = args.access_token;\n        this.refresh_token = args.refresh_token;\n\n        this.token_type = args.token_type;\n        this.scope = args.scope;\n        this.profile = args.profile;\n        this.expires_at = args.expires_at;\n        this.state = args.userState;\n        this.url_state = args.url_state;\n    }\n\n    /** Computed number of seconds the access token has remaining. */\n    public get expires_in(): number | undefined {\n        if (this.expires_at === undefined) {\n            return undefined;\n        }\n        return this.expires_at - Timer.getEpochTime();\n    }\n\n    public set expires_in(value: number | undefined) {\n        if (value !== undefined) {\n            this.expires_at = Math.floor(value) + Timer.getEpochTime();\n        }\n    }\n\n    /** Computed value indicating if the access token is expired. */\n    public get expired(): boolean | undefined {\n        const expires_in = this.expires_in;\n        if (expires_in === undefined) {\n            return undefined;\n        }\n        return expires_in <= 0;\n    }\n\n    /** Array representing the parsed values from the `scope`. */\n    public get scopes(): string[] {\n        return this.scope?.split(\" \") ?? [];\n    }\n\n    public toStorageString(): string {\n        new Logger(\"User\").create(\"toStorageString\");\n        return JSON.stringify({\n            id_token: this.id_token,\n            session_state: this.session_state,\n            access_token: this.access_token,\n            refresh_token: this.refresh_token,\n            token_type: this.token_type,\n            scope: this.scope,\n            profile: this.profile,\n            expires_at: this.expires_at,\n        });\n    }\n\n    public static fromStorageString(storageString: string): User {\n        Logger.createStatic(\"User\", \"fromStorageString\");\n        return new User(JSON.parse(storageString));\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Event, Logger, UrlUtils } from \"../utils\";\nimport type { IWindow, NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst messageSource = \"oidc-client\";\n\ninterface MessageData {\n    source: string;\n    url: string;\n    keepOpen: boolean;\n}\n\n/**\n * Window implementation which resolves via communication from a child window\n * via the `Window.postMessage()` interface.\n *\n * @internal\n */\nexport abstract class AbstractChildWindow implements IWindow {\n    protected abstract readonly _logger: Logger;\n    protected readonly _abort = new Event<[reason: Error]>(\"Window navigation aborted\");\n    protected readonly _disposeHandlers = new Set<() => void>();\n\n    protected _window: WindowProxy | null = null;\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"navigate\");\n        if (!this._window) {\n            throw new Error(\"Attempted to navigate on a disposed window\");\n        }\n\n        logger.debug(\"setting URL in window\");\n        this._window.location.replace(params.url);\n\n        const { url, keepOpen } = await new Promise<MessageData>((resolve, reject) => {\n            const listener = (e: MessageEvent) => {\n                const data: MessageData | undefined = e.data;\n                const origin = params.scriptOrigin ?? window.location.origin;\n                if (e.origin !== origin || data?.source !== messageSource) {\n                    // silently discard events not intended for us\n                    return;\n                }\n                try {\n                    const state = UrlUtils.readParams(data.url, params.response_mode).get(\"state\");\n                    if (!state) {\n                        logger.warn(\"no state found in response url\");\n                    }\n                    if (e.source !== this._window && state !== params.state) {\n                        // MessageEvent source is a relatively modern feature, we can't rely on it\n                        // so we also inspect the payload for a matching state key as an alternative\n                        return;\n                    }\n                }\n                catch {\n                    this._dispose();\n                    reject(new Error(\"Invalid response from window\"));\n                }\n                resolve(data);\n            };\n            window.addEventListener(\"message\", listener, false);\n            this._disposeHandlers.add(() => window.removeEventListener(\"message\", listener, false));\n            const channel = new BroadcastChannel(`oidc-client-popup-${params.state}`);\n            channel.addEventListener(\"message\", listener, false);\n            this._disposeHandlers.add(() => channel.close());\n            this._disposeHandlers.add(this._abort.addHandler((reason) => {\n                this._dispose();\n                reject(reason);\n            }));\n        });\n        logger.debug(\"got response from window\");\n        this._dispose();\n\n        if (!keepOpen) {\n            this.close();\n        }\n\n        return { url };\n    }\n\n    public abstract close(): void;\n\n    private _dispose(): void {\n        this._logger.create(\"_dispose\");\n\n        for (const dispose of this._disposeHandlers) {\n            dispose();\n        }\n        this._disposeHandlers.clear();\n    }\n\n    protected static _notifyParent(parent: Window | null, url: string, keepOpen = false, targetOrigin = window.location.origin): void {\n        const msgData: MessageData = {\n            source: messageSource,\n            url,\n            keepOpen,\n        };\n        const logger = new Logger(\"_notifyParent\");\n        if (parent) {\n            logger.debug(\"With parent. Using parent.postMessage.\");\n            parent.postMessage(msgData, targetOrigin);\n        } else {\n            logger.debug(\"No parent. Using BroadcastChannel.\");\n            const state = new URL(url).searchParams.get(\"state\");\n            if (!state) {\n                throw new Error(\"No parent and no state in URL. Can't complete notification.\");\n            }\n            const channel = new BroadcastChannel(`oidc-client-popup-${state}`);\n            channel.postMessage(msgData);\n            channel.close();\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { type OidcClientSettings, OidcClientSettingsStore } from \"./OidcClientSettings\";\nimport type { PopupWindowFeatures } from \"./utils/PopupUtils\";\nimport { WebStorageStateStore } from \"./WebStorageStateStore\";\nimport { InMemoryWebStorage } from \"./InMemoryWebStorage\";\nimport type { StateStore } from \"./StateStore\";\n\nexport const DefaultPopupWindowFeatures: PopupWindowFeatures = {\n    location: false,\n    toolbar: false,\n    height: 640,\n    closePopupWindowAfterInSeconds: -1,\n};\nexport const DefaultPopupTarget = \"_blank\";\nconst DefaultAccessTokenExpiringNotificationTimeInSeconds = 60;\nconst DefaultCheckSessionIntervalInSeconds = 2;\nexport const DefaultSilentRequestTimeoutInSeconds = 10;\n\n/**\n * The settings used to configure the {@link UserManager}.\n *\n * @public\n */\nexport interface UserManagerSettings extends OidcClientSettings {\n    /** The URL for the page containing the call to signinPopupCallback to handle the callback from the OIDC/OAuth2 */\n    popup_redirect_uri?: string;\n    popup_post_logout_redirect_uri?: string;\n    /**\n     * The features parameter to window.open for the popup signin window. By default, the popup is\n     * placed centered in front of the window opener.\n     * (default: \\{ location: false, menubar: false, height: 640, closePopupWindowAfterInSeconds: -1 \\})\n     */\n    popupWindowFeatures?: PopupWindowFeatures;\n    /** The target parameter to window.open for the popup signin window (default: \"_blank\") */\n    popupWindowTarget?: string;\n    /** The methods window.location method used to redirect (default: \"assign\") */\n    redirectMethod?: \"replace\" | \"assign\";\n    /** The methods target window being redirected (default: \"self\") */\n    redirectTarget?: \"top\" | \"self\";\n\n    /** The target to pass while calling postMessage inside iframe for callback (default: window.location.origin) */\n    iframeNotifyParentOrigin?: string;\n\n    /** The script origin to check during 'message' callback execution while performing silent auth via iframe (default: window.location.origin) */\n    iframeScriptOrigin?: string;\n\n    /** The URL for the page containing the code handling the silent renew */\n    silent_redirect_uri?: string;\n    /** Number of seconds to wait for the silent renew to return before assuming it has failed or timed out (default: 10) */\n    silentRequestTimeoutInSeconds?: number;\n    /** Flag to indicate if there should be an automatic attempt to renew the access token prior to its expiration. The automatic renew attempt starts 1 minute before the access token expires (default: true) */\n    automaticSilentRenew?: boolean;\n    /** Flag to validate user.profile.sub in silent renew calls (default: true) */\n    validateSubOnSilentRenew?: boolean;\n    /** Flag to control if id_token is included as id_token_hint in silent renew calls (default: false) */\n    includeIdTokenInSilentRenew?: boolean;\n\n    /** Will raise events for when user has performed a signout at the OP (default: false) */\n    monitorSession?: boolean;\n    monitorAnonymousSession?: boolean;\n    /** Interval in seconds to check the user's session (default: 2) */\n    checkSessionIntervalInSeconds?: number;\n    query_status_response_type?: string;\n    stopCheckSessionOnError?: boolean;\n\n    /**\n     * The `token_type_hint`s to pass to the authority server by default (default: [\"access_token\", \"refresh_token\"])\n     *\n     * Token types will be revoked in the same order as they are given here.\n     */\n    revokeTokenTypes?: (\"access_token\" | \"refresh_token\")[];\n    /** Will invoke the revocation endpoint on signout if there is an access token for the user (default: false) */\n    revokeTokensOnSignout?: boolean;\n    /** Flag to control if id_token is included as id_token_hint in silent signout calls (default: false) */\n    includeIdTokenInSilentSignout?: boolean;\n\n    /** The number of seconds before an access token is to expire to raise the accessTokenExpiring event (default: 60) */\n    accessTokenExpiringNotificationTimeInSeconds?: number;\n\n    /**\n     * Storage object used to persist User for currently authenticated user (default: window.sessionStorage, InMemoryWebStorage iff no window).\n     *  E.g. `userStore: new WebStorageStateStore({ store: window.localStorage })`\n     */\n    userStore?: StateStore;\n}\n\n/**\n * The settings with defaults applied of the {@link UserManager}.\n * @see {@link UserManagerSettings}\n *\n * @public\n */\nexport class UserManagerSettingsStore extends OidcClientSettingsStore {\n    public readonly popup_redirect_uri: string;\n    public readonly popup_post_logout_redirect_uri: string | undefined;\n    public readonly popupWindowFeatures: PopupWindowFeatures;\n    public readonly popupWindowTarget: string;\n    public readonly redirectMethod: \"replace\" | \"assign\";\n    public readonly redirectTarget: \"top\" | \"self\";\n\n    public readonly iframeNotifyParentOrigin: string | undefined;\n    public readonly iframeScriptOrigin: string | undefined;\n\n    public readonly silent_redirect_uri: string;\n    public readonly silentRequestTimeoutInSeconds: number;\n    public readonly automaticSilentRenew: boolean;\n    public readonly validateSubOnSilentRenew: boolean;\n    public readonly includeIdTokenInSilentRenew: boolean;\n\n    public readonly monitorSession: boolean;\n    public readonly monitorAnonymousSession: boolean;\n    public readonly checkSessionIntervalInSeconds: number;\n    public readonly query_status_response_type: string;\n    public readonly stopCheckSessionOnError: boolean;\n\n    public readonly revokeTokenTypes: (\"access_token\" | \"refresh_token\")[];\n    public readonly revokeTokensOnSignout: boolean;\n    public readonly includeIdTokenInSilentSignout: boolean;\n\n    public readonly accessTokenExpiringNotificationTimeInSeconds: number;\n\n    public readonly userStore: StateStore;\n\n    public constructor(args: UserManagerSettings) {\n        const {\n            popup_redirect_uri = args.redirect_uri,\n            popup_post_logout_redirect_uri = args.post_logout_redirect_uri,\n            popupWindowFeatures = DefaultPopupWindowFeatures,\n            popupWindowTarget = DefaultPopupTarget,\n            redirectMethod = \"assign\",\n            redirectTarget = \"self\",\n\n            iframeNotifyParentOrigin = args.iframeNotifyParentOrigin,\n            iframeScriptOrigin = args.iframeScriptOrigin,\n\n            requestTimeoutInSeconds,\n            silent_redirect_uri = args.redirect_uri,\n            silentRequestTimeoutInSeconds,\n            automaticSilentRenew = true,\n            validateSubOnSilentRenew = true,\n            includeIdTokenInSilentRenew = false,\n\n            monitorSession = false,\n            monitorAnonymousSession = false,\n            checkSessionIntervalInSeconds = DefaultCheckSessionIntervalInSeconds,\n            query_status_response_type = \"code\",\n            stopCheckSessionOnError = true,\n\n            revokeTokenTypes = [\"access_token\", \"refresh_token\"],\n            revokeTokensOnSignout = false,\n            includeIdTokenInSilentSignout = false,\n\n            accessTokenExpiringNotificationTimeInSeconds = DefaultAccessTokenExpiringNotificationTimeInSeconds,\n\n            userStore,\n        } = args;\n\n        super(args);\n\n        this.popup_redirect_uri = popup_redirect_uri;\n        this.popup_post_logout_redirect_uri = popup_post_logout_redirect_uri;\n        this.popupWindowFeatures = popupWindowFeatures;\n        this.popupWindowTarget = popupWindowTarget;\n        this.redirectMethod = redirectMethod;\n        this.redirectTarget = redirectTarget;\n\n        this.iframeNotifyParentOrigin = iframeNotifyParentOrigin;\n        this.iframeScriptOrigin = iframeScriptOrigin;\n\n        this.silent_redirect_uri = silent_redirect_uri;\n        this.silentRequestTimeoutInSeconds = silentRequestTimeoutInSeconds || requestTimeoutInSeconds || DefaultSilentRequestTimeoutInSeconds;\n        this.automaticSilentRenew = automaticSilentRenew;\n        this.validateSubOnSilentRenew = validateSubOnSilentRenew;\n        this.includeIdTokenInSilentRenew = includeIdTokenInSilentRenew;\n\n        this.monitorSession = monitorSession;\n        this.monitorAnonymousSession = monitorAnonymousSession;\n        this.checkSessionIntervalInSeconds = checkSessionIntervalInSeconds;\n        this.stopCheckSessionOnError = stopCheckSessionOnError;\n        this.query_status_response_type = query_status_response_type;\n\n        this.revokeTokenTypes = revokeTokenTypes;\n        this.revokeTokensOnSignout = revokeTokensOnSignout;\n        this.includeIdTokenInSilentSignout = includeIdTokenInSilentSignout;\n\n        this.accessTokenExpiringNotificationTimeInSeconds = accessTokenExpiringNotificationTimeInSeconds;\n\n        if (userStore) {\n            this.userStore = userStore;\n        }\n        else {\n            const store = typeof window !== \"undefined\" ? window.sessionStorage : new InMemoryWebStorage();\n            this.userStore = new WebStorageStateStore({ store });\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport { ErrorTimeout } from \"../errors\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\nimport { DefaultSilentRequestTimeoutInSeconds } from \"../UserManagerSettings\";\n\n/**\n * @public\n */\nexport interface IFrameWindowParams {\n    silentRequestTimeoutInSeconds?: number;\n}\n\n/**\n * @internal\n */\nexport class IFrameWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"IFrameWindow\");\n    private _frame: HTMLIFrameElement | null;\n    private _timeoutInSeconds: number;\n\n    public constructor({\n        silentRequestTimeoutInSeconds = DefaultSilentRequestTimeoutInSeconds,\n    }: IFrameWindowParams) {\n        super();\n        this._timeoutInSeconds = silentRequestTimeoutInSeconds;\n\n        this._frame = IFrameWindow.createHiddenIframe();\n        this._window = this._frame.contentWindow;\n    }\n\n    private static createHiddenIframe(): HTMLIFrameElement {\n        const iframe = window.document.createElement(\"iframe\");\n\n        // shotgun approach\n        iframe.style.visibility = \"hidden\";\n        iframe.style.position = \"fixed\";\n        iframe.style.left = \"-1000px\";\n        iframe.style.top = \"0\";\n        iframe.width = \"0\";\n        iframe.height = \"0\";\n\n        window.document.body.appendChild(iframe);\n        return iframe;\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._logger.debug(\"navigate: Using timeout of:\", this._timeoutInSeconds);\n        const timer = setTimeout(() => void this._abort.raise(new ErrorTimeout(\"IFrame timed out without a response\")), this._timeoutInSeconds * 1000);\n        this._disposeHandlers.add(() => clearTimeout(timer));\n\n        return await super.navigate(params);\n    }\n\n    public close(): void {\n        if (this._frame) {\n            if (this._frame.parentNode) {\n                this._frame.addEventListener(\"load\", (ev) => {\n                    const frame = ev.target as HTMLIFrameElement;\n                    frame.parentNode?.removeChild(frame);\n                    void this._abort.raise(new Error(\"IFrame removed from DOM\"));\n                }, true);\n                this._frame.contentWindow?.location.replace(\"about:blank\");\n            }\n            this._frame = null;\n        }\n        this._window = null;\n    }\n\n    public static notifyParent(url: string, targetOrigin?: string): void {\n        return super._notifyParent(window.parent, url, false, targetOrigin);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport { IFrameWindow, type IFrameWindowParams } from \"./IFrameWindow\";\nimport type { INavigator } from \"./INavigator\";\n\n/**\n * @internal\n */\nexport class IFrameNavigator implements INavigator {\n    private readonly _logger = new Logger(\"IFrameNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        silentRequestTimeoutInSeconds = this._settings.silentRequestTimeoutInSeconds,\n    }: IFrameWindowParams): Promise<IFrameWindow> {\n        return new IFrameWindow({ silentRequestTimeoutInSeconds });\n    }\n\n    public async callback(url: string): Promise<void> {\n        this._logger.create(\"callback\");\n        IFrameWindow.notifyParent(url, this._settings.iframeNotifyParentOrigin);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, PopupUtils, type PopupWindowFeatures } from \"../utils\";\nimport { DefaultPopupWindowFeatures, DefaultPopupTarget } from \"../UserManagerSettings\";\nimport { AbstractChildWindow } from \"./AbstractChildWindow\";\nimport type { NavigateParams, NavigateResponse } from \"./IWindow\";\n\nconst checkForPopupClosedInterval = 500;\nconst second = 1000;\n\n/**\n * @public\n */\nexport interface PopupWindowParams {\n    popupWindowFeatures?: PopupWindowFeatures;\n    popupWindowTarget?: string;\n    /** An AbortSignal to set request's signal. */\n    popupSignal?: AbortSignal | null;\n}\n\n/**\n * @internal\n */\nexport class PopupWindow extends AbstractChildWindow {\n    protected readonly _logger = new Logger(\"PopupWindow\");\n\n    protected _window: WindowProxy | null;\n\n    public constructor({\n        popupWindowTarget = DefaultPopupTarget,\n        popupWindowFeatures = {},\n        popupSignal,\n    }: PopupWindowParams) {\n        super();\n        const centeredPopup = PopupUtils.center({ ...DefaultPopupWindowFeatures, ...popupWindowFeatures });\n        this._window = window.open(undefined, popupWindowTarget, PopupUtils.serialize(centeredPopup));\n\n        if (popupSignal) {\n            popupSignal.addEventListener(\"abort\", () => {\n                void this._abort.raise(new Error(popupSignal.reason ?? \"Popup aborted\"));\n            });\n        }\n\n        if (popupWindowFeatures.closePopupWindowAfterInSeconds && popupWindowFeatures.closePopupWindowAfterInSeconds > 0) {\n            setTimeout(() => {\n                if (!this._window || typeof this._window.closed !== \"boolean\" || this._window.closed) {\n                    void this._abort.raise(new Error(\"Popup blocked by user\"));\n                    return;\n                }\n\n                this.close();\n            }, popupWindowFeatures.closePopupWindowAfterInSeconds * second);\n        }\n    }\n\n    public async navigate(params: NavigateParams): Promise<NavigateResponse> {\n        this._window?.focus();\n\n        const popupClosedInterval = setInterval(() => {\n            if (!this._window || this._window.closed) {\n                this._logger.debug(\"Popup closed by user or isolated by redirect\");\n                clearPopupClosedInterval();\n                this._disposeHandlers.delete(clearPopupClosedInterval);\n            }\n        }, checkForPopupClosedInterval);\n        const clearPopupClosedInterval = () => clearInterval(popupClosedInterval);\n        this._disposeHandlers.add(clearPopupClosedInterval);\n\n        return await super.navigate(params);\n    }\n\n    public close(): void {\n        if (this._window) {\n            if (!this._window.closed) {\n                this._window.close();\n                void this._abort.raise(new Error(\"Popup closed\"));\n            }\n        }\n        this._window = null;\n    }\n\n    public static notifyOpener(url: string, keepOpen: boolean): void {\n        super._notifyParent(window.opener, url, keepOpen);\n        if (!keepOpen && !window.opener) {\n            window.close();\n        }\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport { PopupWindow, type PopupWindowParams } from \"./PopupWindow\";\nimport type { INavigator } from \"./INavigator\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\n\n/**\n * @internal\n */\nexport class PopupNavigator implements INavigator {\n    private readonly _logger = new Logger(\"PopupNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) { }\n\n    public async prepare({\n        popupWindowFeatures = this._settings.popupWindowFeatures,\n        popupWindowTarget = this._settings.popupWindowTarget,\n        popupSignal,\n    }: PopupWindowParams): Promise<PopupWindow> {\n        return new PopupWindow({ popupWindowFeatures, popupWindowTarget, popupSignal });\n    }\n\n    public async callback(url: string, { keepOpen = false }): Promise<void> {\n        this._logger.create(\"callback\");\n\n        PopupWindow.notifyOpener(url, keepOpen);\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"../utils\";\nimport type { UserManagerSettingsStore } from \"../UserManagerSettings\";\nimport type { INavigator } from \"./INavigator\";\nimport type { IWindow } from \"./IWindow\";\n\n/**\n * @public\n */\nexport interface RedirectParams {\n    redirectMethod?: \"replace\" | \"assign\";\n    redirectTarget?: \"top\" | \"self\";\n}\n\n/**\n * @internal\n */\nexport class RedirectNavigator implements INavigator {\n    private readonly _logger = new Logger(\"RedirectNavigator\");\n\n    constructor(private _settings: UserManagerSettingsStore) {}\n\n    public async prepare({\n        redirectMethod = this._settings.redirectMethod,\n        redirectTarget = this._settings.redirectTarget,\n    }: RedirectParams): Promise<IWindow> {\n        this._logger.create(\"prepare\");\n        let targetWindow = window.self as Window;\n\n        if (redirectTarget === \"top\") {\n            targetWindow = window.top ?? window.self;\n        }\n    \n        const redirect = targetWindow.location[redirectMethod].bind(targetWindow.location) as (url: string) => never;\n        let abort: (reason: Error) => void;\n        return {\n            navigate: async (params): Promise<never> => {\n                this._logger.create(\"navigate\");\n                // We use a promise that never resolves to block the caller\n                const promise = new Promise((resolve, reject) => {\n                    abort = reject;\n                });\n                redirect(params.url);\n                return await (promise as Promise<never>);\n            },\n            close: () => {\n                this._logger.create(\"close\");\n                abort?.(new Error(\"Redirect aborted\"));\n                targetWindow.stop();\n            },\n        };\n    }\n\n    public async callback(): Promise<void> {\n        return;\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Event } from \"./utils\";\nimport { AccessTokenEvents } from \"./AccessTokenEvents\";\nimport type { UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport type { User } from \"./User\";\n\n/**\n * @public\n */\nexport type UserLoadedCallback = (user: User) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserUnloadedCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type SilentRenewErrorCallback = (error: Error) => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedInCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSignedOutCallback = () => Promise<void> | void;\n/**\n * @public\n */\nexport type UserSessionChangedCallback = () => Promise<void> | void;\n\n/**\n * @public\n */\nexport class UserManagerEvents extends AccessTokenEvents {\n    protected readonly _logger = new Logger(\"UserManagerEvents\");\n\n    private readonly _userLoaded = new Event<[User]>(\"User loaded\");\n    private readonly _userUnloaded = new Event<[]>(\"User unloaded\");\n    private readonly _silentRenewError = new Event<[Error]>(\"Silent renew error\");\n    private readonly _userSignedIn = new Event<[]>(\"User signed in\");\n    private readonly _userSignedOut = new Event<[]>(\"User signed out\");\n    private readonly _userSessionChanged = new Event<[]>(\"User session changed\");\n\n    public constructor(settings: UserManagerSettingsStore) {\n        super({ expiringNotificationTimeInSeconds: settings.accessTokenExpiringNotificationTimeInSeconds });\n    }\n\n    public async load(user: User, raiseEvent=true): Promise<void> {\n        await super.load(user);\n        if (raiseEvent) {\n            await this._userLoaded.raise(user);\n        }\n    }\n\n    public async unload(): Promise<void> {\n        await super.unload();\n        await this._userUnloaded.raise();\n    }\n\n    /**\n     * Add callback: Raised when a user session has been established (or re-established).\n     */\n    public addUserLoaded(cb: UserLoadedCallback): () => void {\n        return this._userLoaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been established (or re-established).\n     */\n    public removeUserLoaded(cb: UserLoadedCallback): void {\n        return this._userLoaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when a user session has been terminated.\n     */\n    public addUserUnloaded(cb: UserUnloadedCallback): () => void {\n        return this._userUnloaded.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when a user session has been terminated.\n     */\n    public removeUserUnloaded(cb: UserUnloadedCallback): void {\n        return this._userUnloaded.removeHandler(cb);\n    }\n\n    /**\n     * Add callback: Raised when the automatic silent renew has failed.\n     */\n    public addSilentRenewError(cb: SilentRenewErrorCallback): () => void {\n        return this._silentRenewError.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the automatic silent renew has failed.\n     */\n    public removeSilentRenewError(cb: SilentRenewErrorCallback): void {\n        return this._silentRenewError.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public async _raiseSilentRenewError(e: Error): Promise<void> {\n        await this._silentRenewError.raise(e);\n    }\n\n    /**\n     * Add callback: Raised when the user is signed in (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSignedIn(cb: UserSignedInCallback): () => void {\n        return this._userSignedIn.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user is signed in (when `monitorSession` is set).\n     */\n    public removeUserSignedIn(cb: UserSignedInCallback): void {\n        this._userSignedIn.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public async _raiseUserSignedIn(): Promise<void> {\n        await this._userSignedIn.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSignedOut(cb: UserSignedOutCallback): () => void {\n        return this._userSignedOut.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n     */\n    public removeUserSignedOut(cb: UserSignedOutCallback): void {\n        this._userSignedOut.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public async _raiseUserSignedOut(): Promise<void> {\n        await this._userSignedOut.raise();\n    }\n\n    /**\n     * Add callback: Raised when the user session changed (when `monitorSession` is set).\n     * @see {@link UserManagerSettings.monitorSession}\n     */\n    public addUserSessionChanged(cb: UserSessionChangedCallback): () => void {\n        return this._userSessionChanged.addHandler(cb);\n    }\n    /**\n     * Remove callback: Raised when the user session changed (when `monitorSession` is set).\n     */\n    public removeUserSessionChanged(cb: UserSessionChangedCallback): void {\n        this._userSessionChanged.removeHandler(cb);\n    }\n    /**\n     * @internal\n     */\n    public async _raiseUserSessionChanged(): Promise<void> {\n        await this._userSessionChanged.raise();\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger, Timer } from \"./utils\";\nimport { ErrorTimeout } from \"./errors\";\nimport type { UserManager } from \"./UserManager\";\nimport type { AccessTokenCallback } from \"./AccessTokenEvents\";\n\n/**\n * @internal\n */\nexport class SilentRenewService {\n    protected _logger = new Logger(\"SilentRenewService\");\n    private _isStarted = false;\n    private readonly _retryTimer = new Timer(\"Retry Silent Renew\");\n\n    public constructor(private _userManager: UserManager) {}\n\n    public async start(): Promise<void> {\n        const logger = this._logger.create(\"start\");\n        if (!this._isStarted) {\n            this._isStarted = true;\n            this._userManager.events.addAccessTokenExpiring(this._tokenExpiring);\n            this._retryTimer.addHandler(this._tokenExpiring);\n\n            // this will trigger loading of the user so the expiring events can be initialized\n            try {\n                await this._userManager.getUser();\n                // deliberate nop\n            }\n            catch (err) {\n                // catch to suppress errors since we're in a ctor\n                logger.error(\"getUser error\", err);\n            }\n        }\n    }\n\n    public stop(): void {\n        if (this._isStarted) {\n            this._retryTimer.cancel();\n            this._retryTimer.removeHandler(this._tokenExpiring);\n            this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring);\n            this._isStarted = false;\n        }\n    }\n\n    protected _tokenExpiring: AccessTokenCallback = async () => {\n        const logger = this._logger.create(\"_tokenExpiring\");\n        try {\n            await this._userManager.signinSilent();\n            logger.debug(\"silent token renewal successful\");\n        }\n        catch (err) {\n            if (err instanceof ErrorTimeout) {\n                // no response from authority server, e.g. IFrame timeout, ...\n                logger.warn(\"ErrorTimeout from signinSilent:\", err, \"retry in 5s\");\n                this._retryTimer.init(5);\n                return;\n            }\n\n            logger.error(\"Error from signinSilent:\", err);\n            await this._userManager.events._raiseSilentRenewError(err as Error);\n        }\n    };\n}\n", "// Copyright (C) AuthTS Contributors\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport type { UserProfile } from \"./User\";\n\n/**\n * Fake state store implementation necessary for validating refresh token requests.\n *\n * @public\n */\nexport class RefreshState {\n    /** custom \"state\", which can be used by a caller to have \"data\" round tripped */\n    public readonly data?: unknown;\n\n    public readonly refresh_token: string;\n    public readonly id_token?: string;\n    public readonly session_state: string | null;\n    public readonly scope?: string;\n    public readonly profile: UserProfile;\n\n    constructor(args: {\n        refresh_token: string;\n        id_token?: string;\n        session_state: string | null;\n        scope?: string;\n        profile: UserProfile;\n\n        state?: unknown;\n    }) {\n        this.refresh_token = args.refresh_token;\n        this.id_token = args.id_token;\n        this.session_state = args.session_state;\n        this.scope = args.scope;\n        this.profile = args.profile;\n\n        this.data = args.state;\n\n    }\n}\n", "// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { CryptoUtils, Logger } from \"./utils\";\nimport { ErrorResponse } from \"./errors\";\nimport { type NavigateResponse, type PopupWindowParams, type IWindow, type IFrameWindowParams, type RedirectParams, RedirectNavigator, PopupNavigator, IFrameNavigator, type INavigator } from \"./navigators\";\nimport { OidcClient, type CreateSigninRequestArgs, type CreateSignoutRequestArgs, type ProcessResourceOwnerPasswordCredentialsArgs, type UseRefreshTokenArgs } from \"./OidcClient\";\nimport { type UserManagerSettings, UserManagerSettingsStore } from \"./UserManagerSettings\";\nimport { User } from \"./User\";\nimport { UserManagerEvents } from \"./UserManagerEvents\";\nimport { SilentRenewService } from \"./SilentRenewService\";\nimport { SessionMonitor } from \"./SessionMonitor\";\nimport type { SessionStatus } from \"./SessionStatus\";\nimport type { SignoutResponse } from \"./SignoutResponse\";\nimport type { MetadataService } from \"./MetadataService\";\nimport { RefreshState } from \"./RefreshState\";\nimport type { SigninResponse } from \"./SigninResponse\";\nimport type { ExtraHeader, DPoPSettings } from \"./OidcClientSettings\";\nimport { DPoPState } from \"./DPoPStore\";\n\n/**\n * @public\n */\nexport type ExtraSigninRequestArgs = Pick<CreateSigninRequestArgs, \"nonce\" | \"extraQueryParams\" | \"extraTokenParams\" | \"state\" | \"redirect_uri\" | \"prompt\" | \"acr_values\" | \"login_hint\" | \"scope\" | \"max_age\" | \"ui_locales\" | \"resource\" | \"url_state\">;\n/**\n * @public\n */\nexport type ExtraSignoutRequestArgs = Pick<CreateSignoutRequestArgs, \"extraQueryParams\" | \"state\" | \"id_token_hint\" | \"post_logout_redirect_uri\" | \"url_state\">;\n\n/**\n * @public\n */\nexport type RevokeTokensTypes = UserManagerSettings[\"revokeTokenTypes\"];\n\n/**\n * @public\n */\nexport type SigninRedirectArgs = RedirectParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninPopupArgs = PopupWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninSilentArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SigninResourceOwnerCredentialsArgs = ProcessResourceOwnerPasswordCredentialsArgs;\n\n/**\n * @public\n */\nexport type QuerySessionStatusArgs = IFrameWindowParams & ExtraSigninRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutRedirectArgs = RedirectParams & ExtraSignoutRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutPopupArgs = PopupWindowParams & ExtraSignoutRequestArgs;\n\n/**\n * @public\n */\nexport type SignoutSilentArgs = IFrameWindowParams & ExtraSignoutRequestArgs;\n\n/**\n * Provides a higher level API for signing a user in, signing out, managing the user's claims returned from the identity provider,\n * and managing an access token returned from the identity provider (OAuth2/OIDC).\n *\n * @public\n */\nexport class UserManager {\n    /** Get the settings used to configure the `UserManager`. */\n    public readonly settings: UserManagerSettingsStore;\n    protected readonly _logger = new Logger(\"UserManager\");\n\n    protected readonly _client: OidcClient;\n    protected readonly _redirectNavigator: INavigator;\n    protected readonly _popupNavigator: INavigator;\n    protected readonly _iframeNavigator: INavigator;\n    protected readonly _events: UserManagerEvents;\n    protected readonly _silentRenewService: SilentRenewService;\n    protected readonly _sessionMonitor: SessionMonitor | null;\n\n    public constructor(settings: UserManagerSettings, redirectNavigator?: INavigator, popupNavigator?: INavigator, iframeNavigator?: INavigator) {\n        this.settings = new UserManagerSettingsStore(settings);\n\n        this._client = new OidcClient(settings);\n\n        this._redirectNavigator = redirectNavigator ?? new RedirectNavigator(this.settings);\n        this._popupNavigator = popupNavigator ?? new PopupNavigator(this.settings);\n        this._iframeNavigator = iframeNavigator ?? new IFrameNavigator(this.settings);\n\n        this._events = new UserManagerEvents(this.settings);\n        this._silentRenewService = new SilentRenewService(this);\n\n        // order is important for the following properties; these services depend upon the events.\n        if (this.settings.automaticSilentRenew) {\n            this.startSilentRenew();\n        }\n\n        this._sessionMonitor = null;\n        if (this.settings.monitorSession) {\n            this._sessionMonitor = new SessionMonitor(this);\n        }\n    }\n\n    /**\n     * Get object used to register for events raised by the `UserManager`.\n     */\n    public get events(): UserManagerEvents {\n        return this._events;\n    }\n\n    /**\n     * Get object used to access the metadata configuration of the identity provider.\n     */\n    public get metadataService(): MetadataService {\n        return this._client.metadataService;\n    }\n\n    /**\n     * Load the `User` object for the currently authenticated user.\n     *\n     * @param raiseEvent - If `true`, the `UserLoaded` event will be raised. Defaults to false.\n     * @returns A promise\n     */\n    public async getUser(raiseEvent = false): Promise<User | null> {\n        const logger = this._logger.create(\"getUser\");\n        const user = await this._loadUser();\n        if (user) {\n            logger.info(\"user loaded\");\n            await this._events.load(user, raiseEvent);\n            return user;\n        }\n\n        logger.info(\"user not found in storage\");\n        return null;\n    }\n\n    /**\n     * Remove from any storage the currently authenticated user.\n     *\n     * @returns A promise\n     */\n    public async removeUser(): Promise<void> {\n        const logger = this._logger.create(\"removeUser\");\n        await this.storeUser(null);\n        logger.info(\"user removed from storage\");\n        await this._events.unload();\n    }\n\n    /**\n     * Trigger a redirect of the current window to the authorization endpoint.\n     *\n     * @returns A promise\n     *\n     * @throws `Error` In cases of wrong authentication.\n     */\n    public async signinRedirect(args: SigninRedirectArgs = {}): Promise<void> {\n        this._logger.create(\"signinRedirect\");\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n\n        let dpopJkt: string | undefined;\n        if (this.settings.dpop?.bind_authorization_code) {\n            dpopJkt = await this.generateDPoPJkt(this.settings.dpop);\n        }\n\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signinStart({\n            request_type: \"si:r\",\n            dpopJkt,\n            ...requestArgs,\n        }, handle);\n    }\n\n    /**\n     * Process the response (callback) from the authorization endpoint.\n     * It is recommended to use {@link UserManager.signinCallback} instead.\n     *\n     * @returns A promise containing the authenticated `User`.\n     *\n     * @see {@link UserManager.signinCallback}\n     */\n    public async signinRedirectCallback(url = window.location.href): Promise<User> {\n        const logger = this._logger.create(\"signinRedirectCallback\");\n        const user = await this._signinEnd(url);\n        if (user.profile && user.profile.sub) {\n            logger.info(\"success, signed in subject\", user.profile.sub);\n        }\n        else {\n            logger.info(\"no subject\");\n        }\n\n        return user;\n    }\n\n    /**\n     * Trigger the signin with user/password.\n     *\n     * @returns A promise containing the authenticated `User`.\n     * @throws {@link ErrorResponse} In cases of wrong authentication.\n     */\n    public async signinResourceOwnerCredentials({\n        username,\n        password,\n        skipUserInfo = false,\n    }: SigninResourceOwnerCredentialsArgs): Promise<User> {\n        const logger = this._logger.create(\"signinResourceOwnerCredential\");\n\n        const signinResponse = await this._client.processResourceOwnerPasswordCredentials({\n            username,\n            password,\n            skipUserInfo,\n            extraTokenParams: this.settings.extraTokenParams,\n        });\n        logger.debug(\"got signin response\");\n\n        const user = await this._buildUser(signinResponse);\n        if (user.profile && user.profile.sub) {\n            logger.info(\"success, signed in subject\", user.profile.sub);\n        } else {\n            logger.info(\"no subject\");\n        }\n        return user;\n    }\n\n    /**\n     * Trigger a request (via a popup window) to the authorization endpoint.\n     *\n     * @returns A promise containing the authenticated `User`.\n     * @throws `Error` In cases of wrong authentication.\n     */\n    public async signinPopup(args: SigninPopupArgs = {}): Promise<User> {\n        const logger = this._logger.create(\"signinPopup\");\n\n        let dpopJkt: string | undefined;\n        if (this.settings.dpop?.bind_authorization_code) {\n            dpopJkt = await this.generateDPoPJkt(this.settings.dpop);\n        }\n\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            popupSignal,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No popup_redirect_uri configured\"));\n        }\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget, popupSignal });\n        const user = await this._signin({\n            request_type: \"si:p\",\n            redirect_uri: url,\n            display: \"popup\",\n            dpopJkt,\n            ...requestArgs,\n        }, handle);\n        if (user) {\n            if (user.profile && user.profile.sub) {\n                logger.info(\"success, signed in subject\", user.profile.sub);\n            } else {\n                logger.info(\"no subject\");\n            }\n        }\n\n        return user;\n    }\n\n    /**\n     * Notify the opening window of response (callback) from the authorization endpoint.\n     * It is recommended to use {@link UserManager.signinCallback} instead.\n     *\n     * @returns A promise\n     *\n     * @see {@link UserManager.signinCallback}\n     */\n    public async signinPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const logger = this._logger.create(\"signinPopupCallback\");\n        await this._popupNavigator.callback(url, { keepOpen });\n        logger.info(\"success\");\n    }\n\n    /**\n     * Trigger a silent request (via refresh token or an iframe) to the authorization endpoint.\n     *\n     * @returns A promise that contains the authenticated `User`.\n     */\n    public async signinSilent(args: SigninSilentArgs = {}): Promise<User | null> {\n        const logger = this._logger.create(\"signinSilent\");\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n        // first determine if we have a refresh token, or need to use iframe\n        let user = await this._loadUser();\n        if (user?.refresh_token) {\n            logger.debug(\"using refresh token\");\n            const state = new RefreshState(user as Required<User>);\n            return await this._useRefreshToken({\n                state,\n                redirect_uri: requestArgs.redirect_uri,\n                resource: requestArgs.resource,\n                extraTokenParams: requestArgs.extraTokenParams,\n                timeoutInSeconds: silentRequestTimeoutInSeconds,\n            });\n        }\n\n        let dpopJkt: string | undefined;\n        if (this.settings.dpop?.bind_authorization_code) {\n            dpopJkt = await this.generateDPoPJkt(this.settings.dpop);\n        }\n\n        const url = this.settings.silent_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No silent_redirect_uri configured\"));\n        }\n\n        let verifySub: string | undefined;\n        if (user && this.settings.validateSubOnSilentRenew) {\n            logger.debug(\"subject prior to silent renew:\", user.profile.sub);\n            verifySub = user.profile.sub;\n        }\n\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        user = await this._signin({\n            request_type: \"si:s\",\n            redirect_uri: url,\n            prompt: \"none\",\n            id_token_hint: this.settings.includeIdTokenInSilentRenew ? user?.id_token : undefined,\n            dpopJkt,\n            ...requestArgs,\n        }, handle, verifySub);\n        if (user) {\n            if (user.profile?.sub) {\n                logger.info(\"success, signed in subject\", user.profile.sub);\n            }\n            else {\n                logger.info(\"no subject\");\n            }\n        }\n\n        return user;\n    }\n\n    protected async _useRefreshToken(args: UseRefreshTokenArgs): Promise<User> {\n        const response = await this._client.useRefreshToken({\n            timeoutInSeconds: this.settings.silentRequestTimeoutInSeconds,\n            ...args,\n        });\n        const user = new User({ ...args.state, ...response });\n\n        await this.storeUser(user);\n        await this._events.load(user);\n        return user;\n    }\n\n    /**\n     *\n     * Notify the parent window of response (callback) from the authorization endpoint.\n     * It is recommended to use {@link UserManager.signinCallback} instead.\n     *\n     * @returns A promise\n     *\n     * @see {@link UserManager.signinCallback}\n     */\n    public async signinSilentCallback(url = window.location.href): Promise<void> {\n        const logger = this._logger.create(\"signinSilentCallback\");\n        await this._iframeNavigator.callback(url);\n        logger.info(\"success\");\n    }\n\n    /**\n     * Process any response (callback) from the authorization endpoint, by dispatching the request_type\n     * and executing one of the following functions:\n     * - {@link UserManager.signinRedirectCallback}\n     * - {@link UserManager.signinPopupCallback}\n     * - {@link UserManager.signinSilentCallback}\n     *\n     * @throws `Error` If request_type is unknown or signin cannot be processed.\n     */\n    public async signinCallback(url = window.location.href): Promise<User | undefined> {\n        const { state } = await this._client.readSigninResponseState(url);\n        switch (state.request_type) {\n            case \"si:r\":\n                return await this.signinRedirectCallback(url);\n            case \"si:p\":\n                await this.signinPopupCallback(url);\n                break;\n            case \"si:s\":\n                await this.signinSilentCallback(url);\n                break;\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n        return undefined;\n    }\n\n    /**\n     * Process any response (callback) from the end session endpoint, by dispatching the request_type\n     * and executing one of the following functions:\n     * - {@link UserManager.signoutRedirectCallback}\n     * - {@link UserManager.signoutPopupCallback}\n     * - {@link UserManager.signoutSilentCallback}\n     *\n     * @throws `Error` If request_type is unknown or signout cannot be processed.\n     */\n    public async signoutCallback(url = window.location.href, keepOpen = false): Promise<SignoutResponse | undefined> {\n        const { state } = await this._client.readSignoutResponseState(url);\n        if (!state) {\n            return undefined;\n        }\n\n        switch (state.request_type) {\n            case \"so:r\":\n                return await this.signoutRedirectCallback(url);\n            case \"so:p\":\n                await this.signoutPopupCallback(url, keepOpen);\n                break;\n            case \"so:s\":\n                await this.signoutSilentCallback(url);\n                break;\n            default:\n                throw new Error(\"invalid response_type in state\");\n        }\n        return undefined;\n    }\n\n    /**\n     * Query OP for user's current signin status.\n     *\n     * @returns A promise object with session_state and subject identifier.\n     */\n    public async querySessionStatus(args: QuerySessionStatusArgs = {}): Promise<SessionStatus | null> {\n        const logger = this._logger.create(\"querySessionStatus\");\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n        const url = this.settings.silent_redirect_uri;\n        if (!url) {\n            logger.throw(new Error(\"No silent_redirect_uri configured\"));\n        }\n\n        const user = await this._loadUser();\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        const navResponse = await this._signinStart({\n            request_type: \"si:s\", // this acts like a signin silent\n            redirect_uri: url,\n            prompt: \"none\",\n            id_token_hint: this.settings.includeIdTokenInSilentRenew ? user?.id_token : undefined,\n            response_type: this.settings.query_status_response_type,\n            scope: \"openid\",\n            skipUserInfo: true,\n            ...requestArgs,\n        }, handle);\n        try {\n            const extraHeaders: Record<string, ExtraHeader> = {};\n            const signinResponse = await this._client.processSigninResponse(navResponse.url, extraHeaders);\n            logger.debug(\"got signin response\");\n\n            if (signinResponse.session_state && signinResponse.profile.sub) {\n                logger.info(\"success for subject\", signinResponse.profile.sub);\n                return {\n                    session_state: signinResponse.session_state,\n                    sub: signinResponse.profile.sub,\n                };\n            }\n\n            logger.info(\"success, user not authenticated\");\n            return null;\n        } catch (err) {\n            if (this.settings.monitorAnonymousSession && err instanceof ErrorResponse) {\n                switch (err.error) {\n                    case \"login_required\":\n                    case \"consent_required\":\n                    case \"interaction_required\":\n                    case \"account_selection_required\":\n                        logger.info(\"success for anonymous user\");\n                        return {\n                            session_state: err.session_state!,\n                        };\n                }\n            }\n            throw err;\n        }\n    }\n\n    protected async _signin(args: CreateSigninRequestArgs, handle: IWindow, verifySub?: string): Promise<User> {\n        const navResponse = await this._signinStart(args, handle);\n        return await this._signinEnd(navResponse.url, verifySub);\n    }\n\n    protected async _signinStart(args: CreateSigninRequestArgs, handle: IWindow): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"_signinStart\");\n\n        try {\n            const signinRequest = await this._client.createSigninRequest(args);\n            logger.debug(\"got signin request\");\n\n            return await handle.navigate({\n                url: signinRequest.url,\n                state: signinRequest.state.id,\n                response_mode: signinRequest.state.response_mode,\n                scriptOrigin: this.settings.iframeScriptOrigin,\n            });\n        } catch (err) {\n            logger.debug(\"error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n\n    protected async _signinEnd(url: string, verifySub?: string): Promise<User> {\n        const logger = this._logger.create(\"_signinEnd\");\n        const extraHeaders: Record<string, ExtraHeader> = {};\n        const signinResponse = await this._client.processSigninResponse(url, extraHeaders);\n        logger.debug(\"got signin response\");\n\n        const user = await this._buildUser(signinResponse, verifySub);\n        return user;\n    }\n\n    protected async _buildUser(signinResponse: SigninResponse, verifySub?: string) {\n        const logger = this._logger.create(\"_buildUser\");\n        const user = new User(signinResponse);\n        if (verifySub) {\n            if (verifySub !== user.profile.sub) {\n                logger.debug(\"current user does not match user returned from signin. sub from signin:\", user.profile.sub);\n                throw new ErrorResponse({ ...signinResponse, error: \"login_required\" });\n            }\n            logger.debug(\"current user matches user returned from signin\");\n        }\n\n        await this.storeUser(user);\n        logger.debug(\"user stored\");\n        await this._events.load(user);\n\n        return user;\n    }\n\n    /**\n     * Trigger a redirect of the current window to the end session endpoint.\n     *\n     * @returns A promise\n     */\n    public async signoutRedirect(args: SignoutRedirectArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutRedirect\");\n        const {\n            redirectMethod,\n            ...requestArgs\n        } = args;\n        const handle = await this._redirectNavigator.prepare({ redirectMethod });\n        await this._signoutStart({\n            request_type: \"so:r\",\n            post_logout_redirect_uri: this.settings.post_logout_redirect_uri,\n            ...requestArgs,\n        }, handle);\n        logger.info(\"success\");\n    }\n\n    /**\n     * Process response (callback) from the end session endpoint.\n     * It is recommended to use {@link UserManager.signoutCallback} instead.\n     *\n     * @returns A promise containing signout response\n     *\n     * @see {@link UserManager.signoutCallback}\n     */\n    public async signoutRedirectCallback(url = window.location.href): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"signoutRedirectCallback\");\n        const response = await this._signoutEnd(url);\n        logger.info(\"success\");\n        return response;\n    }\n\n    /**\n     * Trigger a redirect of a popup window to the end session endpoint.\n     *\n     * @returns A promise\n     */\n    public async signoutPopup(args: SignoutPopupArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutPopup\");\n        const {\n            popupWindowFeatures,\n            popupWindowTarget,\n            popupSignal,\n            ...requestArgs\n        } = args;\n        const url = this.settings.popup_post_logout_redirect_uri;\n\n        const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget, popupSignal });\n        await this._signout({\n            request_type: \"so:p\",\n            post_logout_redirect_uri: url,\n            // we're putting a dummy entry in here because we\n            // need a unique id from the state for notification\n            // to the parent window, which is necessary if we\n            // plan to return back to the client after signout\n            // and so we can close the popup after signout\n            state: url == null ? undefined : {},\n            ...requestArgs,\n        }, handle);\n        logger.info(\"success\");\n    }\n\n    /**\n     * Process response (callback) from the end session endpoint from a popup window.\n     * It is recommended to use {@link UserManager.signoutCallback} instead.\n     *\n     * @returns A promise\n     *\n     * @see {@link UserManager.signoutCallback}\n     */\n    public async signoutPopupCallback(url = window.location.href, keepOpen = false): Promise<void> {\n        const logger = this._logger.create(\"signoutPopupCallback\");\n        await this._popupNavigator.callback(url, { keepOpen });\n        logger.info(\"success\");\n    }\n\n    protected async _signout(args: CreateSignoutRequestArgs, handle: IWindow): Promise<SignoutResponse> {\n        const navResponse = await this._signoutStart(args, handle);\n        return await this._signoutEnd(navResponse.url);\n    }\n\n    protected async _signoutStart(args: CreateSignoutRequestArgs = {}, handle: IWindow): Promise<NavigateResponse> {\n        const logger = this._logger.create(\"_signoutStart\");\n\n        try {\n            const user = await this._loadUser();\n            logger.debug(\"loaded current user from storage\");\n\n            if (this.settings.revokeTokensOnSignout) {\n                await this._revokeInternal(user);\n            }\n\n            const id_token = args.id_token_hint || user && user.id_token;\n            if (id_token) {\n                logger.debug(\"setting id_token_hint in signout request\");\n                args.id_token_hint = id_token;\n            }\n\n            await this.removeUser();\n            logger.debug(\"user removed, creating signout request\");\n\n            const signoutRequest = await this._client.createSignoutRequest(args);\n            logger.debug(\"got signout request\");\n\n            return await handle.navigate({\n                url: signoutRequest.url,\n                state: signoutRequest.state?.id,\n                scriptOrigin: this.settings.iframeScriptOrigin,\n            });\n        } catch (err) {\n            logger.debug(\"error after preparing navigator, closing navigator window\");\n            handle.close();\n            throw err;\n        }\n    }\n\n    protected async _signoutEnd(url: string): Promise<SignoutResponse> {\n        const logger = this._logger.create(\"_signoutEnd\");\n        const signoutResponse = await this._client.processSignoutResponse(url);\n        logger.debug(\"got signout response\");\n\n        return signoutResponse;\n    }\n\n    /**\n     * Trigger a silent request (via an iframe) to the end session endpoint.\n     *\n     * @returns A promise\n     */\n    public async signoutSilent(args: SignoutSilentArgs = {}): Promise<void> {\n        const logger = this._logger.create(\"signoutSilent\");\n        const {\n            silentRequestTimeoutInSeconds,\n            ...requestArgs\n        } = args;\n\n        const id_token_hint = this.settings.includeIdTokenInSilentSignout\n            ? (await this._loadUser())?.id_token\n            : undefined;\n\n        const url = this.settings.popup_post_logout_redirect_uri;\n        const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n        await this._signout({\n            request_type: \"so:s\",\n            post_logout_redirect_uri: url,\n            id_token_hint: id_token_hint,\n            ...requestArgs,\n        }, handle);\n\n        logger.info(\"success\");\n    }\n\n    /**\n     * Notify the parent window of response (callback) from the end session endpoint.\n     * It is recommended to use {@link UserManager.signoutCallback} instead.\n     *\n     * @returns A promise\n     *\n     * @see {@link UserManager.signoutCallback}\n     */\n    public async signoutSilentCallback(url = window.location.href): Promise<void> {\n        const logger = this._logger.create(\"signoutSilentCallback\");\n        await this._iframeNavigator.callback(url);\n        logger.info(\"success\");\n    }\n\n    public async revokeTokens(types?: RevokeTokensTypes): Promise<void> {\n        const user = await this._loadUser();\n        await this._revokeInternal(user, types);\n    }\n\n    protected async _revokeInternal(user: User | null, types = this.settings.revokeTokenTypes): Promise<void> {\n        const logger = this._logger.create(\"_revokeInternal\");\n        if (!user) return;\n\n        const typesPresent = types.filter(type => typeof user[type] === \"string\");\n\n        if (!typesPresent.length) {\n            logger.debug(\"no need to revoke due to no token(s)\");\n            return;\n        }\n\n        // don't Promise.all, order matters\n        for (const type of typesPresent) {\n            await this._client.revokeToken(\n                user[type]!,\n                type,\n            );\n            logger.info(`${type} revoked successfully`);\n            if (type !== \"access_token\") {\n                user[type] = null as never;\n            }\n        }\n\n        await this.storeUser(user);\n        logger.debug(\"user stored\");\n        await this._events.load(user);\n    }\n\n    /**\n     * Enables silent renew for the `UserManager`.\n     */\n    public startSilentRenew(): void {\n        this._logger.create(\"startSilentRenew\");\n        void this._silentRenewService.start();\n    }\n\n    /**\n     * Disables silent renew for the `UserManager`.\n     */\n    public stopSilentRenew(): void {\n        this._silentRenewService.stop();\n    }\n\n    protected get _userStoreKey(): string {\n        return `user:${this.settings.authority}:${this.settings.client_id}`;\n    }\n\n    protected async _loadUser(): Promise<User | null> {\n        const logger = this._logger.create(\"_loadUser\");\n        const storageString = await this.settings.userStore.get(this._userStoreKey);\n        if (storageString) {\n            logger.debug(\"user storageString loaded\");\n            return User.fromStorageString(storageString);\n        }\n\n        logger.debug(\"no user storageString\");\n        return null;\n    }\n\n    public async storeUser(user: User | null): Promise<void> {\n        const logger = this._logger.create(\"storeUser\");\n        if (user) {\n            logger.debug(\"storing user\");\n            const storageString = user.toStorageString();\n            await this.settings.userStore.set(this._userStoreKey, storageString);\n        } else {\n            this._logger.debug(\"removing user\");\n            await this.settings.userStore.remove(this._userStoreKey);\n            if (this.settings.dpop) {\n                await this.settings.dpop.store.remove(this.settings.client_id);\n            }\n        }\n    }\n\n    /**\n     * Removes stale state entries in storage for incomplete authorize requests.\n     */\n    public async clearStaleState(): Promise<void> {\n        await this._client.clearStaleState();\n    }\n\n    /**\n     * Dynamically generates a DPoP proof for a given user, URL and optional Http method.\n     * This method is useful when you need to make a request to a resource server\n     * with fetch or similar, and you need to include a DPoP proof in a DPoP header.\n     * @param url - The URL to generate the DPoP proof for\n     * @param user - The user to generate the DPoP proof for\n     * @param httpMethod - Optional, defaults to \"GET\"\n     * @param nonce - Optional nonce provided by the resource server\n     *\n     * @returns A promise containing the DPoP proof or undefined if DPoP is not enabled/no user is found.\n     */\n    public async dpopProof(url: string, user: User, httpMethod?: string, nonce?: string): Promise<string | undefined> {\n        const dpopState = await this.settings.dpop?.store?.get(this.settings.client_id);\n        if (dpopState) {\n            return await CryptoUtils.generateDPoPProof({\n                url,\n                accessToken: user?.access_token,\n                httpMethod: httpMethod,\n                keyPair: dpopState.keys,\n                nonce,\n            });\n        }\n        return undefined;\n    }\n\n    async generateDPoPJkt(dpopSettings: DPoPSettings): Promise<string | undefined> {\n        let dpopState = await dpopSettings.store.get(this.settings.client_id);\n        if (!dpopState) {\n            const dpopKeys = await CryptoUtils.generateDPoPKeys();\n            dpopState = new DPoPState(dpopKeys);\n            await dpopSettings.store.set(this.settings.client_id, dpopState);\n        }\n        return await CryptoUtils.generateDPoPJkt(dpopState.keys);\n    }\n}\n", "{\n  \"name\": \"oidc-client-ts\",\n  \"version\": \"3.3.0\",\n  \"description\": \"OpenID Connect (OIDC) & OAuth2 client library\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/authts/oidc-client-ts.git\"\n  },\n  \"homepage\": \"https://github.com/authts/oidc-client-ts#readme\",\n  \"license\": \"Apache-2.0\",\n  \"main\": \"dist/umd/oidc-client-ts.js\",\n  \"types\": \"dist/types/oidc-client-ts.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"types\": \"./dist/types/oidc-client-ts.d.ts\",\n      \"import\": \"./dist/esm/oidc-client-ts.js\",\n      \"require\": \"./dist/umd/oidc-client-ts.js\"\n    },\n    \"./package.json\": \"./package.json\"\n  },\n  \"files\": [\n    \"dist\"\n  ],\n  \"keywords\": [\n    \"authentication\",\n    \"oauth2\",\n    \"oidc\",\n    \"openid\",\n    \"OpenID Connect\"\n  ],\n  \"scripts\": {\n    \"build\": \"node scripts/build.js && npm run build-types\",\n    \"build-types\": \"tsc -p tsconfig.build.json && api-extractor run\",\n    \"clean\": \"git clean -fdX dist lib *.tsbuildinfo\",\n    \"prepack\": \"npm run build\",\n    \"test\": \"tsc && jest\",\n    \"typedoc\": \"typedoc\",\n    \"lint\": \"eslint --max-warnings=0 --cache .\",\n    \"prepare\": \"husky\"\n  },\n  \"dependencies\": {\n    \"jwt-decode\": \"^4.0.0\"\n  },\n  \"devDependencies\": {\n    \"@eslint/eslintrc\": \"^3.2.0\",\n    \"@eslint/js\": \"^9.18.0\",\n    \"@microsoft/api-extractor\": \"^7.49.1\",\n    \"@stylistic/eslint-plugin\": \"^2.13.0\",\n    \"@testing-library/jest-dom\": \"^6.6.3\",\n    \"@types/jest\": \"^29.5.14\",\n    \"@types/node\": \"^22.10.1\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.20.0\",\n    \"@typescript-eslint/parser\": \"^8.20.0\",\n    \"esbuild\": \"^0.25.0\",\n    \"eslint\": \"^9.18.0\",\n    \"eslint-plugin-testing-library\": \"^7.1.1\",\n    \"fake-indexeddb\": \"^6.0.0\",\n    \"globals\": \"^16.0.0\",\n    \"http-proxy-middleware\": \"^3.0.3\",\n    \"husky\": \"^9.1.7\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"jest-mock\": \"^29.7.0\",\n    \"jose\": \"^5.9.6\",\n    \"lint-staged\": \"^16.1.0\",\n    \"ts-jest\": \"^29.2.5\",\n    \"typedoc\": \"^0.28.0\",\n    \"typescript\": \"~5.8.2\",\n    \"yn\": \"^5.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=18\"\n  },\n  \"lint-staged\": {\n    \"*.{js,jsx,ts,tsx}\": \"eslint --cache --fix\"\n  }\n}\n", "// @ts-expect-error avoid enabling resolveJsonModule to keep build process simple\nimport { version } from \"../package.json\";\n\n/**\n * @public\n */\nexport const Version: string = version;\n", "import { DPoPState, type DPoPStore } from \"./DPoPStore\";\n\n/**\n * Provides a default implementation of the DPoP store using IndexedDB.\n *\n * @public\n */\nexport class IndexedDbDPoPStore implements DPoPStore {\n    readonly _dbName: string = \"oidc\";\n    readonly _storeName: string = \"dpop\";\n\n    public async set(key: string, value: DPoPState): Promise<void> {\n        const store = await this.createStore(this._dbName, this._storeName);\n        await store(\"readwrite\", (str: IDBObjectStore) => {\n            str.put(value, key);\n            return this.promisifyRequest(str.transaction);\n        });\n    }\n\n    public async get(key: string): Promise<DPoPState> {\n        const store = await this.createStore(this._dbName, this._storeName);\n        return await store(\"readonly\", (str) => {\n            return this.promisifyRequest(str.get(key));\n        }) as DPoPState;\n    }\n\n    public async remove(key: string): Promise<DPoPState> {\n        const item = await this.get(key);\n        const store = await this.createStore(this._dbName, this._storeName);\n        await store(\"readwrite\", (str) => {\n            return this.promisifyRequest(str.delete(key));\n        });\n        return item;\n    }\n\n    public async getAllKeys(): Promise<string[]> {\n        const store = await this.createStore(this._dbName, this._storeName);\n        return await store(\"readonly\", (str) => {\n            return this.promisifyRequest(str.getAllKeys());\n        }) as string[];\n    }\n\n    promisifyRequest<T = undefined>(\n        request: IDBRequest<T> | IDBTransaction): Promise<T> {\n        return new Promise<T>((resolve, reject) => {\n            (request as IDBTransaction).oncomplete = (request as IDBRequest<T>).onsuccess = () => resolve((request as IDBRequest<T>).result);\n            (request as IDBTransaction).onabort = (request as IDBRequest<T>).onerror = () => reject((request as IDBRequest<T>).error as Error);\n        });\n    }\n\n    async createStore<T>(\n        dbName: string,\n        storeName: string,\n    ): Promise<(txMode: IDBTransactionMode, callback: (store: IDBObjectStore) => T | PromiseLike<T>) => Promise<T>> {\n        const request = indexedDB.open(dbName);\n        request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n        const db = await this.promisifyRequest<IDBDatabase>(request);\n\n        return async (\n            txMode: IDBTransactionMode,\n            callback: (store: IDBObjectStore) => T | PromiseLike<T>,\n        ) => {\n            const tx = db.transaction(storeName, txMode);\n            const store = tx.objectStore(storeName);\n            return await callback(store);\n        };\n    }\n}\n"],
  "mappings": "+pBCWO,SAASA,GAAOC,EAAKC,EAAAA,CAE3B,QAASC,KAAKD,EAAOD,EAAIE,CAAAA,EAAKD,EAAMC,CAAAA,EACpC,OAA6BF,CAC9B,CAQgB,SAAAG,GAAWC,EAAAA,CACtBA,GAAQA,EAAKC,YAAYD,EAAKC,WAAWC,YAAYF,CAAAA,CAC1D,CEVgB,SAAAG,EAAcC,EAAMP,EAAOQ,EAAAA,CAC1C,IACCC,EACAC,EACAT,EAHGU,EAAkB,CAAA,EAItB,IAAKV,KAAKD,EACLC,GAAK,MAAOQ,EAAMT,EAAMC,CAAAA,EACnBA,GAAK,MAAOS,EAAMV,EAAMC,CAAAA,EAC5BU,EAAgBV,CAAAA,EAAKD,EAAMC,CAAAA,EAUjC,GAPIW,UAAUC,OAAS,IACtBF,EAAgBH,SACfI,UAAUC,OAAS,EAAIC,GAAMC,KAAKH,UAAW,CAAA,EAAKJ,GAKjC,OAARD,GAAQ,YAAcA,EAAKS,cHjBnB,KGkBlB,IAAKf,KAAKM,EAAKS,aACVL,EAAgBV,CAAAA,IADNe,SAEbL,EAAgBV,CAAAA,EAAKM,EAAKS,aAAaf,CAAAA,GAK1C,OAAOgB,GAAYV,EAAMI,EAAiBF,EAAKC,EHzB5B,IAAA,CG0BpB,CAcgB,SAAAO,GAAYV,EAAMP,EAAOS,EAAKC,EAAKQ,EAAAA,CAIlD,IAAMC,EAAQ,CACbZ,KAAAA,EACAP,MAAAA,EACAS,IAAAA,EACAC,IAAAA,EACAU,IHjDkB,KGkDlBC,GHlDkB,KGmDlBC,IAAQ,EACRC,IHpDkB,KGqDlBC,IHrDkB,KGsDlBC,YAAAA,OACAC,IAAWR,GAAAA,EAAqBS,GAChCC,IAAAA,GACAC,IAAQ,CAAA,EAMT,OAFIX,GH7De,MG6DKY,EAAQX,OH7Db,MG6D4BW,EAAQX,MAAMA,CAAAA,EAEtDA,CACR,CAAA,SAEgBY,IAAAA,CACf,MAAO,CAAEC,QHnEU,IAAA,CGoEpB,CAEgB,SAAAC,EAASjC,EAAAA,CACxB,OAAOA,EAAMQ,QACd,CC3EO,SAAS0B,EAAclC,EAAOmC,EAAAA,CACpCC,KAAKpC,MAAQA,EACboC,KAAKD,QAAUA,CAChB,CAAA,SA0EgBE,GAAclB,EAAOmB,EAAAA,CACpC,GAAIA,GJ3Ee,KI6ElB,OAAOnB,EAAKE,GACTgB,GAAclB,EAAKE,GAAUF,EAAKS,IAAU,CAAA,EJ9E7B,KImFnB,QADIW,EACGD,EAAanB,EAAKC,IAAWP,OAAQyB,IAG3C,IAFAC,EAAUpB,EAAKC,IAAWkB,CAAAA,IJpFR,MIsFKC,EAAOhB,KJtFZ,KI0FjB,OAAOgB,EAAOhB,IAShB,OAA4B,OAAdJ,EAAMZ,MAAQ,WAAa8B,GAAclB,CAAAA,EJnGpC,IIoGpB,CA2CA,SAASqB,GAAwBrB,EAAAA,CAAjC,IAGWlB,EACJwC,EAHN,IAAKtB,EAAQA,EAAKE,KJhJC,MIgJoBF,EAAKK,KJhJzB,KIgJ8C,CAEhE,IADAL,EAAKI,IAAQJ,EAAKK,IAAYkB,KJjJZ,KIkJTzC,EAAI,EAAGA,EAAIkB,EAAKC,IAAWP,OAAQZ,IAE3C,IADIwC,EAAQtB,EAAKC,IAAWnB,CAAAA,IJnJX,MIoJIwC,EAAKlB,KJpJT,KIoJwB,CACxCJ,EAAKI,IAAQJ,EAAKK,IAAYkB,KAAOD,EAAKlB,IAC1C,KACD,CAGD,OAAOiB,GAAwBrB,CAAAA,CAChC,CACD,CA4BgB,SAAAwB,GAAcC,EAAAA,EAAAA,CAE1BA,EAACC,MACDD,EAACC,IAAAA,KACFC,GAAcC,KAAKH,CAAAA,GAAAA,CAClBI,GAAOC,OACTC,IAAgBpB,EAAQqB,sBAExBD,GAAepB,EAAQqB,oBACNC,IAAOJ,EAAAA,CAE1B,CASA,SAASA,IAAAA,CAMR,QALIJ,EAnGoBS,EAOjBC,EANHC,EACHC,EACAC,EACAC,EAgGAC,EAAI,EAIEb,GAAcjC,QAOhBiC,GAAcjC,OAAS8C,GAC1Bb,GAAcc,KAAKC,EAAAA,EAGpBjB,EAAIE,GAAcgB,MAAAA,EAClBH,EAAIb,GAAcjC,OAEd+B,EAACC,MA/GCS,EAAAA,OALNE,GADGD,GADoBF,EAuHNT,GAtHMlB,KACNH,IACjBkC,EAAc,CAAA,EACdC,EAAW,CAAA,EAERL,EAASU,OACNT,EAAWxD,GAAO,CAAA,EAAIyD,CAAAA,GACpB7B,IAAa6B,EAAQ7B,IAAa,EACtCI,EAAQX,OAAOW,EAAQX,MAAMmC,CAAAA,EAEjCU,GACCX,EAASU,IACTT,EACAC,EACAF,EAASY,IACTZ,EAASU,IAAYG,aJzII,GI0IzBX,EAAQ1B,IAAyB,CAAC2B,CAAAA,EJ3HjB,KI4HjBC,EACAD,GAAiBnB,GAAckB,CAAAA,EAAYC,CAAAA,EJ5IlB,GI6ItBD,EAAQ1B,KACX6B,CAAAA,EAGDJ,EAAQ5B,IAAa6B,EAAQ7B,IAC7B4B,EAAQjC,GAAAD,IAAmBkC,EAAQ1B,GAAAA,EAAW0B,EAC9Ca,GAAWV,EAAaH,EAAUI,CAAAA,EAE9BJ,EAAQ/B,KAASiC,GACpBhB,GAAwBc,CAAAA,IA6F1BN,GAAOC,IAAkB,CAC1B,CG3MgB,SAAAmB,GACfC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAlB,EACAD,EACAoB,EACAlB,EAAAA,CAXe,IAaXzD,EAEHsD,EAEAsB,EAEAC,EAEAC,EAiCIC,EA8BAC,EA1DDC,EAAeV,GAAkBA,EAAcpD,KAAe+D,GAE9DC,EAAoBd,EAAazD,OAUrC,IARA2C,EAAS6B,GACRd,EACAD,EACAY,EACA1B,EACA4B,CAAAA,EAGInF,EAAI,EAAGA,EAAImF,EAAmBnF,KAClC4E,EAAaN,EAAcnD,IAAWnB,CAAAA,IPjEpB,OOuEjBsD,EADGsB,EAAUjD,KACb2B,GAAW+B,GAEAJ,EAAYL,EAAUjD,GAAAA,GAAY0D,GAI9CT,EAAUjD,IAAU3B,EAGhB+E,EAAShB,GACZK,EACAQ,EACAtB,EACAkB,EACAC,EACAC,EACAlB,EACAD,EACAoB,EACAlB,CAAAA,EAIDoB,EAASD,EAAUtD,IACfsD,EAAWnE,KAAO6C,EAAS7C,KAAOmE,EAAWnE,MAC5C6C,EAAS7C,KACZ6E,GAAShC,EAAS7C,IPjGF,KOiGamE,CAAAA,EAE9BnB,EAASX,KACR8B,EAAWnE,IACXmE,EAAUrD,KAAesD,EACzBD,CAAAA,GAIEE,GP1Gc,MO0GWD,GP1GX,OO2GjBC,EAAgBD,IAGbG,EAAAA,CAAAA,EPzHsB,EOyHLJ,EAAUhD,OACZ0B,EAAQnC,MAAeyD,EAAUzD,IACnDoC,EAASgC,GAAOX,EAAYrB,EAAQa,EAAWY,CAAAA,EACX,OAAnBJ,EAAWtE,MAAQ,YAAcyE,IAAtBzE,OAC5BiD,EAASwB,EACCF,IACVtB,EAASsB,EAAOW,aAIjBZ,EAAUhD,KAAAA,IAKX,OAFA0C,EAAchD,IAAQwD,EAEfvB,CACR,CAOA,SAAS6B,GACRd,EACAD,EACAY,EACA1B,EACA4B,EAAAA,CALD,IAQKnF,EAEA4E,EAEAtB,EA8DGmC,EAOAC,EAnEHC,EAAoBV,EAAYrE,OACnCgF,EAAuBD,EAEpBE,EAAO,EAGX,IADAvB,EAAcnD,IAAa,IAAI2E,MAAMX,CAAAA,EAChCnF,EAAI,EAAGA,EAAImF,EAAmBnF,KAGlC4E,EAAaP,EAAarE,CAAAA,IP5JR,MOgKI,OAAd4E,GAAc,WACA,OAAdA,GAAc,YA8ChBa,EAAczF,EAAI6F,GA/BvBjB,EAAaN,EAAcnD,IAAWnB,CAAAA,EANjB,OAAd4E,GAAc,UACA,OAAdA,GAAc,UAEA,OAAdA,GAAc,UACrBA,EAAWpD,aAAeuE,OAEiB/E,GPhL1B,KOkLhB4D,EPlLgB,KAAA,KAAA,IAAA,EOuLPoB,GAAQpB,CAAAA,EACyB5D,GAC1CgB,EACA,CAAEzB,SAAUqE,CAAAA,EP1LI,KAAA,KAAA,IAAA,EO+LPA,EAAWpD,aP9LCyE,MO8L2BrB,EAAUvD,IAAU,EAK1BL,GAC1C4D,EAAWtE,KACXsE,EAAW7E,MACX6E,EAAWpE,IACXoE,EAAWnE,IAAMmE,EAAWnE,IPxMZ,KOyMhBmE,EAAUnD,GAAAA,EAGgCmD,GAIlCxD,GAAWkD,EACrBM,EAAUvD,IAAUiD,EAAcjD,IAAU,EAY5CiC,EP7NkB,MOsNZoC,EAAiBd,EAAUjD,IAAUuE,GAC1CtB,EACAK,EACAQ,EACAG,CAAAA,IP1NiB,KOgOjBA,KADAtC,EAAW2B,EAAYS,CAAAA,KAGtBpC,EAAQ1B,KP3OW,IOkPF0B,GPzOD,MOyOqBA,EAAQ7B,KPzO7B,MO4ObiE,GAH0CjE,KAkBzC0D,EAAoBQ,EACvBE,IACUV,EAAoBQ,GAC9BE,KAK4B,OAAnBjB,EAAWtE,MAAQ,aAC7BsE,EAAUhD,KP/Qc,IOiRf8D,GAAiBD,IAiBvBC,GAAiBD,EAAc,EAClCI,IACUH,GAAiBD,EAAc,EACzCI,KAEIH,EAAgBD,EACnBI,IAEAA,IAMDjB,EAAUhD,KPhTc,KO8KzB0C,EAAcnD,IAAWnB,CAAAA,EPnKR,KO8SnB,GAAI4F,EACH,IAAK5F,EAAI,EAAGA,EAAI2F,EAAmB3F,KAClCsD,EAAW2B,EAAYjF,CAAAA,IPhTN,OATG,EO0TKsD,EAAQ1B,MAAsB,IAClD0B,EAAQhC,KAASiC,IACpBA,EAASnB,GAAckB,CAAAA,GAGxB6C,GAAQ7C,EAAUA,CAAAA,GAKrB,OAAOC,CACR,CASA,SAASgC,GAAOa,EAAa7C,EAAQa,EAAWY,EAAAA,CAAhD,IAIMzE,EACKP,EAFV,GAA+B,OAApBoG,EAAY9F,MAAQ,WAAY,CAE1C,IADIC,EAAW6F,EAAWjF,IACjBnB,EAAI,EAAGO,GAAYP,EAAIO,EAASK,OAAQZ,IAC5CO,EAASP,CAAAA,IAKZO,EAASP,CAAAA,EAAEoB,GAAWgF,EACtB7C,EAASgC,GAAOhF,EAASP,CAAAA,EAAIuD,EAAQa,EAAWY,CAAAA,GAIlD,OAAOzB,CACR,CAAW6C,EAAW9E,KAASiC,IAC1ByB,IACCzB,GAAU6C,EAAY9F,MAAAA,CAASiD,EAAOpD,aACzCoD,EAASnB,GAAcgE,CAAAA,GAExBhC,EAAUiC,aAAaD,EAAW9E,IAAOiC,GP3VxB,IAAA,GO6VlBA,EAAS6C,EAAW9E,KAGrB,GACCiC,EAASA,GAAUA,EAAOiC,kBAClBjC,GPlWU,MOkWQA,EAAO+C,UAAY,GAE9C,OAAO/C,CACR,CAQgB,SAAAgD,GAAahG,EAAUiG,EAAAA,CAUtC,OATAA,EAAMA,GAAO,CAAA,EACTjG,GP/We,MO+WwB,OAAZA,GAAY,YAChCyF,GAAQzF,CAAAA,EAClBA,EAASkG,KAAK,SAAAjE,EAAAA,CACb+D,GAAa/D,EAAOgE,CAAAA,CACrB,CAAA,EAEAA,EAAI1D,KAAKvC,CAAAA,GAEHiG,CACR,CASA,SAASN,GACRtB,EACAK,EACAQ,EACAG,EAAAA,CAJD,IAgCMc,EACAC,EAEGtE,EA7BF7B,EAAMoE,EAAWpE,IACjBF,EAAOsE,EAAWtE,KACpBgD,EAAW2B,EAAYQ,CAAAA,EACrBmB,EAAUtD,GP1YG,OATG,EOmZeA,EAAQ1B,MAAsB,EAiBnE,GACE0B,IP5ZiB,MO4ZIsB,EAAWpE,KAAO,MACvCoG,GAAWpG,GAAO8C,EAAS9C,KAAOF,GAAQgD,EAAShD,KAEpD,OAAOmF,EAAAA,GANPG,GAAwBgB,EAAU,EAAI,IAUtC,IAFIF,EAAIjB,EAAc,EAClBkB,EAAIlB,EAAc,EACfiB,GAAK,GAAKC,EAAI1B,EAAYrE,QAGhC,IADA0C,EAAW2B,EADL5C,EAAaqE,GAAK,EAAIA,IAAMC,GAAAA,IPpajB,OATG,EOiblBrD,EAAQ1B,MAAsB,GAC/BpB,GAAO8C,EAAS9C,KAChBF,GAAQgD,EAAShD,KAEjB,OAAO+B,EAKV,MAAA,EACD,CF/bA,SAASwE,GAASC,EAAOtG,EAAKuG,EAAAA,CACzBvG,EAAI,CAAA,GAAM,IACbsG,EAAME,YAAYxG,EAAKuG,GAAgB,EAAKA,EAE5CD,EAAMtG,CAAAA,EADIuG,GLUQ,KKTL,GACa,OAATA,GAAS,UAAYE,GAAmBC,KAAK1G,CAAAA,EACjDuG,EAEAA,EAAQ,IAEvB,CAyBgB,SAAAC,GAAYG,EAAKC,EAAML,EAAOM,EAAU5C,EAAAA,CAAxC,IACX6C,EA8BGC,EA5BPC,EAAG,GAAIJ,GAAQ,QACd,GAAoB,OAATL,GAAS,SACnBI,EAAIL,MAAMW,QAAUV,MACd,CAKN,GAJuB,OAAZM,GAAY,WACtBF,EAAIL,MAAMW,QAAUJ,EAAW,IAG5BA,EACH,IAAKD,KAAQC,EACNN,GAASK,KAAQL,GACtBF,GAASM,EAAIL,MAAOM,EAAM,EAAA,EAK7B,GAAIL,EACH,IAAKK,KAAQL,EACPM,GAAYN,EAAMK,CAAAA,GAASC,EAASD,CAAAA,GACxCP,GAASM,EAAIL,MAAOM,EAAML,EAAMK,CAAAA,CAAAA,CAIpC,SAGQA,EAAK,CAAA,GAAM,KAAOA,EAAK,CAAA,GAAM,IACrCE,EAAaF,IAASA,EAAOA,EAAKM,QAAQC,GAAe,IAAA,GACnDJ,EAAgBH,EAAKQ,YAAAA,EAI1BR,EADGG,KAAiBJ,GAAOC,GAAQ,cAAgBA,GAAQ,YACpDG,EAAc1G,MAAM,CAAA,EAChBuG,EAAKvG,MAAM,CAAA,EAElBsG,EAAGzD,IAAayD,EAAGzD,EAAc,CAAE,GACxCyD,EAAGzD,EAAY0D,EAAOE,CAAAA,EAAcP,EAEhCA,EACEM,EAQJN,EAAMc,EAAYR,EAASQ,GAP3Bd,EAAMc,EAAYC,GAClBX,EAAIY,iBACHX,EACAE,EAAaU,GAAoBC,GACjCX,CAAAA,GAMFH,EAAIe,oBACHd,EACAE,EAAaU,GAAoBC,GACjCX,CAAAA,MAGI,CACN,GAAI7C,GLtFuB,6BK0F1B2C,EAAOA,EAAKM,QAAQ,cAAe,GAAA,EAAKA,QAAQ,SAAU,GAAA,UAE1DN,GAAQ,SACRA,GAAQ,UACRA,GAAQ,QACRA,GAAQ,QACRA,GAAQ,QAGRA,GAAQ,YACRA,GAAQ,YACRA,GAAQ,WACRA,GAAQ,WACRA,GAAQ,QACRA,GAAQ,WACRA,KAAQD,EAER,GAAA,CACCA,EAAIC,CAAAA,EAAQL,GAAgB,GAE5B,MAAMS,CAER,MADUW,CACV,CASoB,OAATpB,GAAS,aAETA,GLvHO,MKuHWA,IAAlBA,IAAqCK,EAAK,CAAA,GAAM,IAG1DD,EAAIiB,gBAAgBhB,CAAAA,EAFpBD,EAAIkB,aAAajB,EAAMA,GAAQ,WAAaL,GAAS,EAAO,GAAKA,CAAAA,EAInE,CACD,CAOA,SAASuB,GAAiBhB,EAAAA,CAMzB,OAAA,SAAiBa,EAAAA,CAChB,GAAIhG,KAAIuB,EAAa,CACpB,IAAM6E,EAAepG,KAAIuB,EAAYyE,EAAE7H,KAAOgH,CAAAA,EAC9C,GAAIa,EAAEK,GL7IW,KK8IhBL,EAAEK,EAAcV,aAKNK,EAAEK,EAAcD,EAAaV,EACvC,OAED,OAAOU,EAAa1G,EAAQ4G,MAAQ5G,EAAQ4G,MAAMN,CAAAA,EAAKA,CAAAA,CACxD,CACD,CACD,CGzHO,SAASpE,GACfK,EACAf,EACAC,EACAkB,EACAC,EACAC,EACAlB,EACAD,EACAoB,EACAlB,EAAAA,CAVM,IAaFiF,EAkBE/F,EAAGgG,EAAOC,EAAUC,EAAUC,EAAUC,EACxCC,EACEC,EAMFC,EACAC,EAyGOnJ,EA4BPoJ,EACHC,EASSrJ,EA6BNqE,EAgDOrE,EAtPZsJ,EAAUjG,EAAS/C,KAIpB,GAAI+C,EAAS7B,aRjDWyE,KQiDe,ORlDpB,KAbU,IQkEzB3C,EAAQ1B,MACX+C,EAAAA,CAAAA,ERrE0B,GQqETrB,EAAQ1B,KAEzB8C,EAAoB,CADpBnB,EAASF,EAAQ/B,IAAQgC,EAAQhC,GAAAA,IAI7BoH,EAAM7G,EAAOR,MAASqH,EAAIrF,CAAAA,EAE/BkG,EAAO,GAAsB,OAAXD,GAAW,WAC5B,GAAA,CAkEC,GAhEIN,EAAW3F,EAAStD,MAClBkJ,EACL,cAAeK,GAAWA,EAAQE,UAAUC,OAKzCP,GADJR,EAAMY,EAAQI,cACQlF,EAAckE,EAAGnH,GAAAA,EACnC4H,EAAmBT,EACpBQ,EACCA,EAASnJ,MAAMgH,MACf2B,EAAGtH,GACJoD,EAGClB,EAAQ/B,IAEXwH,GADApG,EAAIU,EAAQ9B,IAAc+B,EAAQ/B,KACNH,GAAwBuB,EAACgH,KAGjDV,EAEH5F,EAAQ9B,IAAcoB,EAAI,IAAI2G,EAAQN,EAAUG,CAAAA,GAGhD9F,EAAQ9B,IAAcoB,EAAI,IAAIV,EAC7B+G,EACAG,CAAAA,EAEDxG,EAAEnB,YAAc8H,EAChB3G,EAAE8G,OAASG,IAERV,GAAUA,EAASW,IAAIlH,CAAAA,EAE3BA,EAAE5C,MAAQiJ,EACLrG,EAAEmH,QAAOnH,EAAEmH,MAAQ,CAAA,GACxBnH,EAAET,QAAUiH,EACZxG,EAACqB,IAAkBQ,EACnBmE,EAAQhG,EAACC,IAAAA,GACTD,EAACoH,IAAoB,CAAA,EACrBpH,EAACqH,IAAmB,CAAA,GAIjBf,GAAoBtG,EAACsH,KR5GR,OQ6GhBtH,EAACsH,IAActH,EAAEmH,OAGdb,GAAoBK,EAAQY,0BRhHf,OQiHZvH,EAACsH,KAAetH,EAAEmH,QACrBnH,EAACsH,IAAcpK,GAAO,CAAA,EAAI8C,EAACsH,GAAAA,GAG5BpK,GACC8C,EAACsH,IACDX,EAAQY,yBAAyBlB,EAAUrG,EAACsH,GAAAA,CAAAA,GAI9CrB,EAAWjG,EAAE5C,MACb8I,EAAWlG,EAAEmH,MACbnH,EAAClB,IAAU4B,EAGPsF,EAEFM,GACAK,EAAQY,0BRnIO,MQoIfvH,EAAEwH,oBRpIa,MQsIfxH,EAAEwH,mBAAAA,EAGClB,GAAoBtG,EAAEyH,mBRzIV,MQ0IfzH,EAACoH,IAAkBjH,KAAKH,EAAEyH,iBAAAA,MAErB,CAUN,GARCnB,GACAK,EAAQY,0BR/IO,MQgJflB,IAAaJ,GACbjG,EAAE0H,2BRjJa,MQmJf1H,EAAE0H,0BAA0BrB,EAAUG,CAAAA,EAAAA,CAIpCxG,EAACrB,KACFqB,EAAE2H,uBRxJY,MQyJd3H,EAAE2H,sBACDtB,EACArG,EAACsH,IACDd,CAAAA,IAJCmB,IAMHjH,EAAQ5B,KAAc6B,EAAQ7B,IAC7B,CAkBD,IAhBI4B,EAAQ5B,KAAc6B,EAAQ7B,MAKjCkB,EAAE5C,MAAQiJ,EACVrG,EAAEmH,MAAQnH,EAACsH,IACXtH,EAACC,IAAAA,IAGFS,EAAQ/B,IAAQgC,EAAQhC,IACxB+B,EAAQlC,IAAamC,EAAQnC,IAC7BkC,EAAQlC,IAAWsF,KAAK,SAAAvF,EAAAA,CACnBA,IAAOA,EAAKE,GAAWiC,EAC5B,CAAA,EAESrD,EAAI,EAAGA,EAAI2C,EAACqH,IAAiBpJ,OAAQZ,IAC7C2C,EAACoH,IAAkBjH,KAAKH,EAACqH,IAAiBhK,CAAAA,CAAAA,EAE3C2C,EAACqH,IAAmB,CAAA,EAEhBrH,EAACoH,IAAkBnJ,QACtB4C,EAAYV,KAAKH,CAAAA,EAGlB,MAAM4G,CACP,CAEI5G,EAAE4H,qBR7LU,MQ8Lf5H,EAAE4H,oBAAoBvB,EAAUrG,EAACsH,IAAad,CAAAA,EAG3CF,GAAoBtG,EAAE6H,oBRjMV,MQkMf7H,EAACoH,IAAkBjH,KAAK,UAAA,CACvBH,EAAE6H,mBAAmB5B,EAAUC,EAAUC,CAAAA,CAC1C,CAAA,CAEF,CASA,GAPAnG,EAAET,QAAUiH,EACZxG,EAAE5C,MAAQiJ,EACVrG,EAACmB,IAAcM,EACfzB,EAACrB,IAAAA,GAEG8H,EAAavH,EAAOmB,IACvBqG,EAAQ,EACLJ,EAAkB,CAQrB,IAPAtG,EAAEmH,MAAQnH,EAACsH,IACXtH,EAACC,IAAAA,GAEGwG,GAAYA,EAAW/F,CAAAA,EAE3BqF,EAAM/F,EAAE8G,OAAO9G,EAAE5C,MAAO4C,EAAEmH,MAAOnH,EAAET,OAAAA,EAE1BlC,EAAI,EAAGA,EAAI2C,EAACqH,IAAiBpJ,OAAQZ,IAC7C2C,EAACoH,IAAkBjH,KAAKH,EAACqH,IAAiBhK,CAAAA,CAAAA,EAE3C2C,EAACqH,IAAmB,CAAA,CACrB,KACC,IACCrH,EAACC,IAAAA,GACGwG,GAAYA,EAAW/F,CAAAA,EAE3BqF,EAAM/F,EAAE8G,OAAO9G,EAAE5C,MAAO4C,EAAEmH,MAAOnH,EAAET,OAAAA,EAGnCS,EAAEmH,MAAQnH,EAACsH,UACHtH,EAACC,KAAAA,EAAayG,EAAQ,IAIhC1G,EAAEmH,MAAQnH,EAACsH,IAEPtH,EAAE8H,iBR1OW,OQ2OhBjG,EAAgB3E,GAAOA,GAAO,CAAA,EAAI2E,CAAAA,EAAgB7B,EAAE8H,gBAAAA,CAAAA,GAGjDxB,GAAAA,CAAqBN,GAAShG,EAAE+H,yBR9OnB,OQ+OhB5B,EAAWnG,EAAE+H,wBAAwB9B,EAAUC,CAAAA,GAK5CxE,EAAeqE,EADlBA,GRnPgB,MQmPDA,EAAIpI,OAAS0B,GAAY0G,EAAIlI,KRnP5B,OQuPhB6D,EAAesG,GAAUjC,EAAI3I,MAAMQ,QAAAA,GAGpCgD,EAASY,GACRC,EACA4B,GAAQ3B,CAAAA,EAAgBA,EAAe,CAACA,CAAAA,EACxChB,EACAC,EACAkB,EACAC,EACAC,EACAlB,EACAD,EACAoB,EACAlB,CAAAA,EAGDd,EAAEF,KAAOY,EAAQ/B,IAGjB+B,EAAQzB,KAAAA,KAEJe,EAACoH,IAAkBnJ,QACtB4C,EAAYV,KAAKH,CAAAA,EAGdoG,IACHpG,EAACgH,IAAiBhH,EAACvB,GRlRH,KQ+SlB,OA3BS+G,EAAAA,CAGR,GAFA9E,EAAQ5B,IRrRS,KQuRbkD,GAAeD,GRvRF,KQwRhB,GAAIyD,EAAEyC,KAAM,CAKX,IAJAvH,EAAQzB,KAAW+C,EAChBkG,IRvSsB,IQ0SlBtH,GAAUA,EAAO+C,UAAY,GAAK/C,EAAOiC,aAC/CjC,EAASA,EAAOiC,YAGjBd,EAAkBA,EAAkBoG,QAAQvH,CAAAA,CAAAA,ERjS7B,KQkSfF,EAAQ/B,IAAQiC,CACjB,KAAO,CACN,IAASvD,EAAI0E,EAAkB9D,OAAQZ,KACtCC,GAAWyE,EAAkB1E,CAAAA,CAAAA,EAE9B+K,GAAY1H,CAAAA,CACb,MAEAA,EAAQ/B,IAAQgC,EAAQhC,IACxB+B,EAAQlC,IAAamC,EAAQnC,IACxBgH,EAAEyC,MAAMG,GAAY1H,CAAAA,EAE1BxB,EAAOP,IAAa6G,EAAG9E,EAAUC,CAAAA,CAClC,MAEAoB,GRjTkB,MQkTlBrB,EAAQ5B,KAAc6B,EAAQ7B,KAE9B4B,EAAQlC,IAAamC,EAAQnC,IAC7BkC,EAAQ/B,IAAQgC,EAAQhC,KAExBiC,EAASF,EAAQ/B,IAAQ0J,GACxB1H,EAAQhC,IACR+B,EACAC,EACAkB,EACAC,EACAC,EACAlB,EACAmB,EACAlB,CAAAA,EAMF,OAFKiF,EAAM7G,EAAQoJ,SAASvC,EAAIrF,CAAAA,ERjVH,IQmVtBA,EAAQzB,IAAAA,OAAuC2B,CACvD,CAEA,SAASwH,GAAY7J,EAAAA,CAChBA,GAASA,EAAKK,MAAaL,EAAKK,IAAAD,IAAAA,IAChCJ,GAASA,EAAKC,KAAYD,EAAKC,IAAW+J,QAAQH,EAAAA,CACvD,CAOgB,SAAA7G,GAAWV,EAAa2H,EAAM1H,EAAAA,CAC7C,QAASzD,EAAI,EAAGA,EAAIyD,EAAS7C,OAAQZ,IACpCsF,GAAS7B,EAASzD,CAAAA,EAAIyD,EAAAA,EAAWzD,CAAAA,EAAIyD,EAAAA,EAAWzD,CAAAA,CAAAA,EAG7C6B,EAAON,KAAUM,EAAON,IAAS4J,EAAM3H,CAAAA,EAE3CA,EAAYiD,KAAK,SAAA9D,EAAAA,CAChB,GAAA,CAECa,EAAcb,EAACoH,IACfpH,EAACoH,IAAoB,CAAA,EACrBvG,EAAYiD,KAAK,SAAA2E,EAAAA,CAEhBA,EAAGtK,KAAK6B,CAAAA,CACT,CAAA,CAGD,OAFSwF,EAAAA,CACRtG,EAAOP,IAAa6G,EAAGxF,EAAClB,GAAAA,CACzB,CACD,CAAA,CACD,CAEA,SAASkJ,GAAUzK,EAAAA,CAClB,OACgB,OAARA,GAAQ,UACfA,GR5WkB,MQ6WjBA,EAAImB,KAAWnB,EAAImB,IAAU,EAEvBnB,EAGJ8F,GAAQ9F,CAAAA,EACJA,EAAKmL,IAAIV,EAAAA,EAGV9K,GAAO,CAAE,EAAEK,CAAAA,CACnB,CAiBA,SAAS8K,GACR7D,EACA9D,EACAC,EACAkB,EACAC,EACAC,EACAlB,EACAmB,EACAlB,EAAAA,CATD,IAeKzD,EAEAsL,EAEAC,EAEAC,EACAzE,EACA0E,EACAC,EAbA9C,EAAWtF,EAASvD,MACpBiJ,EAAW3F,EAAStD,MACpBuG,EAAkCjD,EAAS/C,KAkB/C,GAJIgG,GAAY,MAAO7B,ERvaK,6BQwanB6B,GAAY,OAAQ7B,ERtaA,qCQuanBA,IAAWA,ERxaS,gCQ0a1BC,GRvae,MQwalB,IAAK1E,EAAI,EAAGA,EAAI0E,EAAkB9D,OAAQZ,IAMzC,IALA+G,EAAQrC,EAAkB1E,CAAAA,IAOzB,iBAAkB+G,GAAAA,CAAAA,CAAWT,IAC5BA,EAAWS,EAAM4E,WAAarF,EAAWS,EAAMT,UAAY,GAC3D,CACDa,EAAMJ,EACNrC,EAAkB1E,CAAAA,ERpbF,KQqbhB,KACD,EAIF,GAAImH,GR1be,KQ0bF,CAChB,GAAIb,GR3bc,KQ4bjB,OAAOsF,SAASC,eAAe7C,CAAAA,EAGhC7B,EAAMyE,SAASE,gBACdrH,EACA6B,EACA0C,EAAS+C,IAAM/C,CAAAA,EAKZrE,IACC9C,EAAOmK,KACVnK,EAAOmK,IAAoB3I,EAAUqB,CAAAA,EACtCC,EAAAA,IAGDD,ER7ckB,IQ8cnB,CAEA,GAAI4B,GRhde,KQkddsC,IAAaI,GAAcrE,GAAewC,EAAI8E,MAAQjD,IACzD7B,EAAI8E,KAAOjD,OAEN,CASN,GAPAtE,EAAoBA,GAAqB7D,GAAMC,KAAKqG,EAAI+E,UAAAA,EAExDtD,EAAWtF,EAASvD,OAASsF,GAAAA,CAKxBV,GAAeD,GR9dF,KQgejB,IADAkE,EAAW,CAAA,EACN5I,EAAI,EAAGA,EAAImH,EAAIgF,WAAWvL,OAAQZ,IAEtC4I,GADA7B,EAAQI,EAAIgF,WAAWnM,CAAAA,GACRoH,IAAAA,EAAQL,EAAMA,MAI/B,IAAK/G,KAAK4I,EAET,GADA7B,EAAQ6B,EAAS5I,CAAAA,EACbA,GAAK,YAALA,GACOA,GAAK,0BACfuL,EAAUxE,UACA,EAAE/G,KAAKgJ,GAAW,CAC5B,GACEhJ,GAAK,SAAW,iBAAkBgJ,GAClChJ,GAAK,WAAa,mBAAoBgJ,EAEvC,SAEDhC,GAAYG,EAAKnH,ERlfD,KQkfU+G,EAAOtC,CAAAA,CAClC,EAKD,IAAKzE,KAAKgJ,EACTjC,EAAQiC,EAAShJ,CAAAA,EACbA,GAAK,WACRwL,EAAczE,EACJ/G,GAAK,0BACfsL,EAAUvE,EACA/G,GAAK,QACfyL,EAAa1E,EACH/G,GAAK,UACf0L,EAAU3E,EAERpC,GAA+B,OAAToC,GAAS,YACjC6B,EAAS5I,CAAAA,IAAO+G,GAEhBC,GAAYG,EAAKnH,EAAG+G,EAAO6B,EAAS5I,CAAAA,EAAIyE,CAAAA,EAK1C,GAAI6G,EAGD3G,GACC4G,IACAD,EAAOc,QAAWb,EAAOa,QAAWd,EAAOc,QAAWjF,EAAIkF,aAE5DlF,EAAIkF,UAAYf,EAAOc,QAGxB/I,EAAQlC,IAAa,CAAA,UAEjBoK,IAASpE,EAAIkF,UAAY,IAE7BlI,GAECd,EAAS/C,MAAQ,WAAa6G,EAAImF,QAAUnF,EAC5CnB,GAAQwF,CAAAA,EAAeA,EAAc,CAACA,CAAAA,EACtCnI,EACAC,EACAkB,EACA8B,GAAY,gBRniBe,+BQmiBqB7B,EAChDC,EACAlB,EACAkB,EACGA,EAAkB,CAAA,EAClBpB,EAAQnC,KAAciB,GAAckB,EAAU,CAAA,EACjDqB,EACAlB,CAAAA,EAIGiB,GR3iBa,KQ4iBhB,IAAK1E,EAAI0E,EAAkB9D,OAAQZ,KAClCC,GAAWyE,EAAkB1E,CAAAA,CAAAA,EAM3B2E,IACJ3E,EAAI,QACAsG,GAAY,YAAcmF,GRrjBb,KQsjBhBtE,EAAIiB,gBAAgB,OAAA,EAEpBqD,GRvjBqBxF,OQ4jBpBwF,IAAetE,EAAInH,CAAAA,GAClBsG,GAAY,YAAZA,CAA2BmF,GAI3BnF,GAAY,UAAYmF,GAAc7C,EAAS5I,CAAAA,IAEjDgH,GAAYG,EAAKnH,EAAGyL,EAAY7C,EAAS5I,CAAAA,EAAIyE,CAAAA,EAG9CzE,EAAI,UACA0L,GRvkBkBzF,MQukBMyF,GAAWvE,EAAInH,CAAAA,GAC1CgH,GAAYG,EAAKnH,EAAG0L,EAAS9C,EAAS5I,CAAAA,EAAIyE,CAAAA,EAG7C,CAEA,OAAO0C,CACR,CAAA,SAQgB7B,GAAS7E,EAAKsG,EAAO7F,EAAAA,CACpC,GAAA,CACC,GAAkB,OAAPT,GAAO,WAAY,CAC7B,IAAI8L,EAAuC,OAAhB9L,EAAGmB,KAAa,WACvC2K,GAEH9L,EAAGmB,IAAAA,EAGC2K,GAAiBxF,GRhmBL,OQomBhBtG,EAAGmB,IAAYnB,EAAIsG,CAAAA,EAErB,MAAOtG,EAAIsB,QAAUgF,CAGtB,OAFSoB,EAAAA,CACRtG,EAAOP,IAAa6G,EAAGjH,CAAAA,CACxB,CACD,CAAA,SASgBiF,GAAQjF,EAAOkF,EAAaoG,EAAAA,CAAAA,IACvCC,EAsBMzM,EAbV,GARI6B,EAAQsE,SAAStE,EAAQsE,QAAQjF,CAAAA,GAEhCuL,EAAIvL,EAAMT,OACTgM,EAAE1K,SAAW0K,EAAE1K,SAAWb,EAAKI,KACnCgE,GAASmH,ERznBQ,KQynBCrG,CAAAA,IAIfqG,EAAIvL,EAAKK,MR7nBK,KQ6nBiB,CACnC,GAAIkL,EAAEC,qBACL,GAAA,CACCD,EAAEC,qBAAAA,CAGH,OAFSvE,EAAAA,CACRtG,EAAOP,IAAa6G,EAAG/B,CAAAA,CACxB,CAGDqG,EAAEhK,KAAOgK,EAAC3I,IRtoBQ,IQuoBnB,CAEA,GAAK2I,EAAIvL,EAAKC,IACb,IAASnB,EAAI,EAAGA,EAAIyM,EAAE7L,OAAQZ,IACzByM,EAAEzM,CAAAA,GACLmG,GACCsG,EAAEzM,CAAAA,EACFoG,EACAoG,GAAmC,OAAdtL,EAAMZ,MAAQ,UAARA,EAM1BkM,GACJvM,GAAWiB,EAAKI,GAAAA,EAGjBJ,EAAKK,IAAcL,EAAKE,GAAWF,EAAKI,IAAAA,MACzC,CAGA,SAASsI,GAAS7J,EAAO+J,EAAO5H,EAAAA,CAC/B,OAAA,KAAYV,YAAYzB,EAAOmC,CAAAA,CAChC,CClqBO,SAASuH,GAAOvI,EAAOkD,EAAWuI,EAAAA,CAAlC,IAWFhI,EAOArB,EAQAE,EACHC,EAzBGW,GAAawH,WAChBxH,EAAYwH,SAASgB,iBAGlB/K,EAAOT,IAAQS,EAAOT,GAAOF,EAAOkD,CAAAA,EAYpCd,GAPAqB,EAAoC,OAAfgI,GAAe,YTRrB,KSiBfA,GAAeA,EAAWxL,KAAeiD,EAASjD,IAMlDqC,EAAc,CAAA,EACjBC,EAAW,CAAA,EACZM,GACCK,EAPDlD,GAAAA,CAAWyD,GAAegI,GAAgBvI,GAASjD,IAClDd,EAAc2B,ETpBI,KSoBY,CAACd,CAAAA,CAAAA,EAU/BoC,GAAY+B,GACZA,GACAjB,EAAUH,aAAAA,CACTU,GAAegI,EACb,CAACA,CAAAA,EACDrJ,ETnCe,KSqCdc,EAAUyI,WACThM,GAAMC,KAAKsD,EAAU8H,UAAAA,ETtCR,KSwClB1I,EAAAA,CACCmB,GAAegI,EACbA,EACArJ,EACCA,EAAQhC,IACR8C,EAAUyI,WACdlI,EACAlB,CAAAA,EAIDS,GAAWV,EAAatC,EAAOuC,CAAAA,CAChC,CAOO,SAASqJ,GAAQ5L,EAAOkD,EAAAA,CAC9BqF,GAAOvI,EAAOkD,EAAW0I,EAAAA,CAC1B,CAAA,SChEgBC,GAAa7L,EAAOnB,EAAOQ,EAAAA,CAAAA,IAEzCC,EACAC,EACAT,EAEGe,EALAL,EAAkBb,GAAO,CAAE,EAAEqB,EAAMnB,KAAAA,EAWvC,IAAKC,KAJDkB,EAAMZ,MAAQY,EAAMZ,KAAKS,eAC5BA,EAAeG,EAAMZ,KAAKS,cAGjBhB,EACLC,GAAK,MAAOQ,EAAMT,EAAMC,CAAAA,EACnBA,GAAK,MAAOS,EAAMV,EAAMC,CAAAA,EAEhCU,EAAgBV,CAAAA,EADRD,EAAMC,CAAAA,IACEA,QADkBe,GVXZkF,KUYDlF,EAAaf,CAAAA,EAEbD,EAAMC,CAAAA,EAS7B,OALIW,UAAUC,OAAS,IACtBF,EAAgBH,SACfI,UAAUC,OAAS,EAAIC,GAAMC,KAAKH,UAAW,CAAA,EAAKJ,GAG7CS,GACNE,EAAMZ,KACNI,EACAF,GAAOU,EAAMV,IACbC,GAAOS,EAAMT,IV5BK,IAAA,CU+BpB,CJ1CgB,SAAAuM,GAAcC,EAAAA,CAC7B,SAASC,EAAQnN,EAAAA,CAAjB,IAGMoN,EACAC,EA+BL,OAlCKjL,KAAKsI,kBAEL0C,EAAO,IAAIE,KACXD,EAAM,CAAE,GACRF,EAAO3L,GAAAA,EAAQY,KAEnBA,KAAKsI,gBAAkB,UAAA,CAAM,OAAA2C,CAAG,EAEhCjL,KAAKuK,qBAAuB,UAAA,CAC3BS,ENAgB,IMCjB,EAEAhL,KAAKmI,sBAAwB,SAAUgD,EAAAA,CAElCnL,KAAKpC,MAAMgH,OAASuG,EAAOvG,OAC9BoG,EAAKjC,QAAQ,SAAAvI,EAAAA,CACZA,EAACrB,IAAAA,GACDoB,GAAcC,CAAAA,CACf,CAAA,CAEF,EAEAR,KAAK0H,IAAM,SAAAlH,EAAAA,CACVwK,EAAKI,IAAI5K,CAAAA,EACT,IAAI6K,EAAM7K,EAAE+J,qBACZ/J,EAAE+J,qBAAuB,UAAA,CACpBS,GACHA,EAAKM,OAAO9K,CAAAA,EAET6K,GAAKA,EAAI1M,KAAK6B,CAAAA,CACnB,CACD,GAGM5C,EAAMQ,QACd,CAgBA,OAdA2M,EAAO3L,IAAO,OAASvB,KACvBkN,EAAO9L,GAAiB6L,EAQxBC,EAAQQ,SACPR,EAAOS,KANRT,EAAQU,SAAW,SAAC7N,EAAO8N,EAAAA,CAC1B,OAAO9N,EAAMQ,SAASsN,CAAAA,CACvB,GAKkBnE,YAChBwD,EAEKA,CACR,CN1DO,IC0BMrM,GChBPgB,ECPFH,GA2FSoM,GCmFTjL,GAWAI,GAEEE,GA0BAS,GC1MA+D,GAaFG,GA+IEG,GACAD,GCzKKhI,GNeEqF,GACAH,GACA+B,GClBAjB,GDDN+H,GAAAC,GAAA,KAiBM3I,GAAgC,CAAG,EACnCH,GAAY,CAAA,EACZ+B,GACZ,oECnBYjB,GAAUF,MAAME,QAyBhBnF,GAAQqE,GAAUrE,MChBzBgB,EAAU,CACfP,ISDM,SAAqB2M,EAAO/M,EAAOoC,EAAU4K,EAAAA,CAQnD,QANI9K,EAEH+K,EAEAC,EAEOlN,EAAQA,EAAKE,IACpB,IAAKgC,EAAYlC,EAAKK,MAAAA,CAAiB6B,EAAShC,GAC/C,GAAA,CAcC,IAbA+M,EAAO/K,EAAU5B,cAEL2M,EAAKE,0BXRD,OWSfjL,EAAUkL,SAASH,EAAKE,yBAAyBJ,CAAAA,CAAAA,EACjDG,EAAUhL,EAASR,KAGhBQ,EAAUmL,mBXbE,OWcfnL,EAAUmL,kBAAkBN,EAAOC,GAAa,CAAE,CAAA,EAClDE,EAAUhL,EAASR,KAIhBwL,EACH,OAAQhL,EAASuG,IAAiBvG,CAIpC,OAFS+E,EAAAA,CACR8F,EAAQ9F,CACT,CAIF,MAAM8F,CACP,CAAA,ERzCIvM,GAAU,EA2FDoM,GAAiB,SAAA5M,EAAAA,CAAK,OAClCA,GHhFmB,MGgFFA,EAAMM,aH/ECyE,IG+EuB,ECrEhDhE,EAAcuH,UAAU8E,SAAW,SAAUE,EAAQC,EAAAA,CAEpD,IAAIC,EAEHA,EADGvM,KAAI8H,KJdW,MIcY9H,KAAI8H,KAAe9H,KAAK2H,MAClD3H,KAAI8H,IAEJ9H,KAAI8H,IAAcpK,GAAO,CAAE,EAAEsC,KAAK2H,KAAAA,EAGlB,OAAV0E,GAAU,aAGpBA,EAASA,EAAO3O,GAAO,CAAA,EAAI6O,CAAAA,EAAIvM,KAAKpC,KAAAA,GAGjCyO,GACH3O,GAAO6O,EAAGF,CAAAA,EAIPA,GJ/Be,MIiCfrM,KAAIV,MACHgN,GACHtM,KAAI6H,IAAiBlH,KAAK2L,CAAAA,EAE3B/L,GAAcP,IAAAA,EAEhB,EAQAF,EAAcuH,UAAUmF,YAAc,SAAUF,EAAAA,CAC3CtM,KAAIV,MAIPU,KAAIb,IAAAA,GACAmN,GAAUtM,KAAI4H,IAAkBjH,KAAK2L,CAAAA,EACzC/L,GAAcP,IAAAA,EAEhB,EAYAF,EAAcuH,UAAUC,OAASzH,EA8F7Ba,GAAgB,CAAA,EAadM,GACa,OAAXyL,SAAW,WACfA,QAAQpF,UAAUoB,KAAKiE,KAAKD,QAAQE,QAAAA,CAAAA,EACpCC,WAuBEnL,GAAY,SAACoL,EAAGC,EAAAA,CAAAA,OAAMD,EAACvN,IAAAJ,IAAiB4N,EAACxN,IAAAJ,GAAc,EA8B7D0B,GAAOC,IAAkB,ECxOnB2E,GAAgB,8BAalBG,GAAa,EA+IXG,GAAaK,GAAAA,EAAiB,EAC9BN,GAAoBM,GAAAA,EAAiB,ECzKhCtI,GAAI,IMuIf,SAASkP,GAAaC,EAAOC,EAAAA,CACxBC,EAAOC,KACVD,EAAOC,IAAOC,EAAkBJ,EAAOK,IAAeJ,CAAAA,EAEvDI,GAAc,EAOd,IAAMC,EACLF,EAAgBG,MACfH,EAAgBG,IAAW,CAC3BC,GAAO,CAAA,EACPL,IAAiB,CAAA,CAAA,GAOnB,OAJIH,GAASM,EAAKE,GAAOC,QACxBH,EAAKE,GAAOE,KAAK,CAAE,CAAA,EAGbJ,EAAKE,GAAOR,CAAAA,CACpB,CAOO,SAASW,GAASC,EAAAA,CAExB,OADAP,GAAc,EACPQ,GAAWC,GAAgBF,CAAAA,CACnC,CAUgB,SAAAC,GAAWE,EAASH,EAAcI,EAAAA,CAEjD,IAAMC,EAAYlB,GAAamB,KAAgB,CAAA,EAE/C,GADAD,EAAUE,EAAWJ,EAAAA,CAChBE,EAASG,MACbH,EAAST,GAAU,CACjBQ,EAAiDA,EAAKJ,CAAAA,EAA/CE,GAAAA,OAA0BF,CAAAA,EAElC,SAAAS,EAAAA,CACC,IAAMC,EAAeL,EAASM,IAC3BN,EAASM,IAAY,CAAA,EACrBN,EAAST,GAAQ,CAAA,EACdgB,EAAYP,EAAUE,EAASG,EAAcD,CAAAA,EAE/CC,IAAiBE,IACpBP,EAASM,IAAc,CAACC,EAAWP,EAAST,GAAQ,CAAA,CAAA,EACpDS,EAASG,IAAYK,SAAS,CAAE,CAAA,EAElC,CAAA,EAGDR,EAASG,IAAchB,EAAAA,CAElBA,EAAgBsB,KAAmB,CAAA,IAgC9BC,EAAT,SAAyBC,EAAGC,EAAGC,EAAAA,CAC9B,GAAA,CAAKb,EAASG,IAAAb,IAAqB,MAAA,GAGnC,IACMwB,EACLd,EAASG,IAAAb,IAAAC,GAA0BwB,OAFhB,SAAAC,EAAAA,CAAC,MAAA,CAAA,CAAMA,EAACb,GAAW,CAAA,EAOvC,GAHsBW,EAAWG,MAAM,SAAAD,EAAAA,CAAC,MAAA,CAAKA,EAACV,GAAW,CAAA,EAIxD,MAAA,CAAOY,GAAUA,EAAQC,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,EAM3C,IAAIQ,EAAerB,EAASG,IAAYmB,QAAUX,EAUlD,OATAG,EAAWS,QAAQ,SAAAC,EAAAA,CAClB,GAAIA,EAAQlB,IAAa,CACxB,IAAMD,EAAemB,EAAQjC,GAAQ,CAAA,EACrCiC,EAAQjC,GAAUiC,EAAQlB,IAC1BkB,EAAQlB,IAAAA,OACJD,IAAiBmB,EAAQjC,GAAQ,CAAA,IAAI8B,EAAAA,GAC1C,CACD,CAAA,EAEOH,GACJA,EAAQC,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,GACzBQ,CACJ,EA9DAlC,EAAgBsB,IAAAA,GAChB,IAAIS,EAAU/B,EAAiBsC,sBACzBC,EAAUvC,EAAiBwC,oBAKjCxC,EAAiBwC,oBAAsB,SAAUhB,EAAGC,EAAGC,EAAAA,CACtD,GAAIO,KAAIQ,IAAS,CAChB,IAAIC,EAAMX,EAEVA,EAAAA,OACAR,EAAgBC,EAAGC,EAAGC,CAAAA,EACtBK,EAAUW,CACX,CAEIH,GAASA,EAAQP,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,CACvC,EA+CA1B,EAAiBsC,sBAAwBf,CAC1C,CAGD,OAAOV,EAASM,KAAeN,EAAST,EACzC,CAOO,SAASuC,GAAUC,EAAUC,EAAAA,CAEnC,IAAMC,EAAQnD,GAAamB,KAAgB,CAAA,EAAA,CACtChB,EAAOiD,KAAiBC,GAAYF,EAAK3C,IAAQ0C,CAAAA,IACrDC,EAAK1C,GAAUwC,EACfE,EAAMG,EAAeJ,EAErB7C,EAAgBG,IAAAJ,IAAyBO,KAAKwC,CAAAA,EAEhD,CAOgB,SAAAI,GAAgBN,EAAUC,EAAAA,CAEzC,IAAMC,EAAQnD,GAAamB,KAAgB,CAAA,EAAA,CACtChB,EAAOiD,KAAiBC,GAAYF,EAAK3C,IAAQ0C,CAAAA,IACrDC,EAAK1C,GAAUwC,EACfE,EAAMG,EAAeJ,EAErB7C,EAAgBD,IAAkBO,KAAKwC,CAAAA,EAEzC,CAGO,SAASK,GAAOC,EAAAA,CAEtB,OADAnD,GAAc,EACPoD,GAAQ,UAAA,CAAO,MAAA,CAAEC,QAASF,CAAAA,CAAc,EAAG,CAAA,CAAA,CACnD,CAQgB,SAAAG,GAAoBC,EAAKC,EAAcZ,EAAAA,CACtD5C,GAAc,EACdiD,GACC,UAAA,CACC,GAAkB,OAAPM,GAAO,WAAY,CAC7B,IAAME,EAASF,EAAIC,EAAAA,CAAAA,EACnB,OAAa,UAAA,CACZD,EAAI,IAAA,EACAE,GAA2B,OAAVA,GAAU,YAAYA,EAAAA,CAC5C,CACD,CAAWF,GAAAA,EAEV,OADAA,EAAIF,QAAUG,EAAAA,EACP,UAAA,CAAA,OAAOD,EAAIF,QAAU,IAAI,CAElC,EACAT,GAAQ,KAAOA,EAAOA,EAAKc,OAAOH,CAAAA,CAAAA,CAEpC,CAQgB,SAAAH,GAAQO,EAASf,EAAAA,CAEhC,IAAMC,EAAQnD,GAAamB,KAAgB,CAAA,EAO3C,OANIkC,GAAYF,EAAK3C,IAAQ0C,CAAAA,IAC5BC,EAAK1C,GAAUwD,EAAAA,EACfd,EAAK3C,IAAS0C,EACdC,EAAK/C,IAAY6D,GAGXd,EAAK1C,EACb,CAOO,SAASyD,GAAYjB,EAAUC,EAAAA,CAErC,OADA5C,GAAc,EACPoD,GAAQ,UAAA,CAAA,OAAMT,CAAQ,EAAEC,CAAAA,CAChC,CAKO,SAASiB,GAAWC,EAAAA,CAC1B,IAAMC,EAAWhE,EAAiB+D,QAAQA,EAAO/C,GAAAA,EAK3C8B,EAAQnD,GAAamB,KAAgB,CAAA,EAK3C,OADAgC,EAAKpB,EAAYqC,EACZC,GAEDlB,EAAK1C,IAAW,OACnB0C,EAAK1C,GAAAA,GACL4D,EAASC,IAAIjE,CAAAA,GAEPgE,EAAS7B,MAAM+B,OANAH,EAAO3D,EAO9B,CAMgB,SAAA+D,GAAcD,EAAOE,EAAAA,CAChCtE,EAAQqE,eACXrE,EAAQqE,cACPC,EAAYA,EAAUF,CAAAA,EAAMG,CAAA,CAG/B,CAMO,SAASC,GAAiBC,EAAAA,CAEhC,IAAMzB,EAAQnD,GAAamB,KAAgB,EAAA,EACrC0D,EAAWjE,GAAAA,EAQjB,OAPAuC,EAAK1C,GAAUmE,EACVvE,EAAiByE,oBACrBzE,EAAiByE,kBAAoB,SAACC,EAAKC,EAAAA,CACtC7B,EAAK1C,IAAS0C,EAAK1C,GAAQsE,EAAKC,CAAAA,EACpCH,EAAS,CAAA,EAAGE,CAAAA,CACb,GAEM,CACNF,EAAS,CAAA,EACT,UAAA,CACCA,EAAS,CAAA,EAAA,MAAGI,CACb,CAAA,CAEF,CAGO,SAASC,IAAAA,CAEf,IAAM/B,EAAQnD,GAAamB,KAAgB,EAAA,EAC3C,GAAA,CAAKgC,EAAK1C,GAAS,CAIlB,QADI0E,EAAO9E,EAAgB+E,IACpBD,IAAS,MAATA,CAAkBA,EAAIE,KAAUF,EAAI1E,KAAa,MACvD0E,EAAOA,EAAI1E,GAGZ,IAAI6E,EAAOH,EAAIE,MAAWF,EAAIE,IAAS,CAAC,EAAG,CAAA,GAC3ClC,EAAK1C,GAAU,IAAM6E,EAAK,CAAA,EAAK,IAAMA,EAAK,CAAA,GAC3C,CAEA,OAAOnC,EAAK1C,EACb,CAKA,SAAS8E,IAAAA,CAER,QADIC,EACIA,EAAYC,GAAkBC,MAAAA,GACrC,GAAKF,EAASG,KAAgBH,EAAShF,IACvC,GAAA,CACCgF,EAAShF,IAAAJ,IAAyBqC,QAAQmD,EAAAA,EAC1CJ,EAAShF,IAAAJ,IAAyBqC,QAAQoD,EAAAA,EAC1CL,EAAShF,IAAAJ,IAA2B,CAAA,CAIrC,OAHS0F,EAAAA,CACRN,EAAShF,IAAAJ,IAA2B,CAAA,EACpCD,EAAO2C,IAAagD,EAAGN,EAASJ,GAAAA,CACjC,CAEF,CAcA,SAASW,GAAe9C,EAAAA,CACvB,IAOI+C,EAPEC,EAAO,UAAA,CACZC,aAAaC,CAAAA,EACTC,IAASC,qBAAqBL,CAAAA,EAClCM,WAAWrD,CAAAA,CACZ,EACMkD,EAAUG,WAAWL,EAlcR,EAAA,EAqcfG,KACHJ,EAAMO,sBAAsBN,CAAAA,EAE9B,CAqBA,SAASL,GAAcY,EAAAA,CAGtB,IAAMC,EAAOpG,EACTqG,EAAUF,EAAInF,IACI,OAAXqF,GAAW,aACrBF,EAAInF,IAAAA,OACJqF,EAAAA,GAGDrG,EAAmBoG,CACpB,CAOA,SAASZ,GAAaW,EAAAA,CAGrB,IAAMC,EAAOpG,EACbmG,EAAInF,IAAYmF,EAAI/F,GAAAA,EACpBJ,EAAmBoG,CACpB,CAOA,SAASpD,GAAYsD,EAASC,EAAAA,CAC7B,MAAA,CACED,GACDA,EAAQjG,SAAWkG,EAAQlG,QAC3BkG,EAAQC,KAAK,SAACC,EAAK7G,EAAAA,CAAU,OAAA6G,IAAQH,EAAQ1G,CAAAA,CAAM,CAAA,CAErD,CAQA,SAASc,GAAe+F,EAAKC,EAAAA,CAC5B,OAAmB,OAALA,GAAK,WAAaA,EAAED,CAAAA,EAAOC,CAC1C,KAviBI5F,GAGAd,EAGA2G,GAsBAC,GAnBA3G,GAGAmF,GAGEtF,EAEF+G,GACAC,GACAC,GACAC,GACAC,GACAC,GAqbAnB,mBAlcA9F,GAAc,EAGdmF,GAAoB,CAAA,EAGlBtF,EAAuDqH,EAEzDN,GAAgB/G,EAAOsH,IACvBN,GAAkBhH,EAAOuH,IACzBN,GAAejH,EAAQwH,OACvBN,GAAYlH,EAAOkB,IACnBiG,GAAmBnH,EAAQyH,QAC3BL,GAAUpH,EAAOM,GASrBN,EAAOsH,IAAS,SAAAI,EAAAA,CACfxH,EAAmB,KACf6G,IAAeA,GAAcW,CAAAA,CAClC,EAEA1H,EAAOM,GAAS,SAACoH,EAAOC,EAAAA,CACnBD,GAASC,EAASC,KAAcD,EAASC,IAAA1C,MAC5CwC,EAAKxC,IAASyC,EAASC,IAAA1C,KAGpBkC,IAASA,GAAQM,EAAOC,CAAAA,CAC7B,EAGA3H,EAAOuH,IAAW,SAAAG,EAAAA,CACbV,IAAiBA,GAAgBU,CAAAA,EAGrC1G,GAAe,EAEf,IAAMZ,GAHNF,EAAmBwH,EAAKxG,KAGMb,IAC1BD,IACCyG,KAAsB3G,GACzBE,EAAKH,IAAmB,CAAA,EACxBC,EAAgBD,IAAoB,CAAA,EACpCG,EAAKE,GAAOgC,QAAQ,SAAAC,EAAAA,CACfA,EAAQlB,MACXkB,EAAQjC,GAAUiC,EAAQlB,KAE3BkB,EAASY,EAAeZ,EAAQlB,IAAAA,MACjC,CAAA,IAEAjB,EAAKH,IAAiBqC,QAAQmD,EAAAA,EAC9BrF,EAAKH,IAAiBqC,QAAQoD,EAAAA,EAC9BtF,EAAKH,IAAmB,CAAA,EACxBe,GAAe,IAGjB6F,GAAoB3G,CACrB,EAGAF,EAAQwH,OAAS,SAAAE,EAAAA,CACZT,IAAcA,GAAaS,CAAAA,EAE/B,IAAM9F,EAAI8F,EAAKxG,IACXU,GAAKA,EAACvB,MACLuB,EAACvB,IAAAJ,IAAyBM,SAAmB+E,GAAkB9E,KAAKoB,CAAAA,IAgalD,GAAKkF,KAAY9G,EAAQoG,yBAC/CU,GAAU9G,EAAQoG,wBACNR,IAAgBR,EAAAA,GAja5BxD,EAACvB,IAAAC,GAAegC,QAAQ,SAAAC,EAAAA,CACnBA,EAASY,IACZZ,EAAQlC,IAASkC,EAASY,GAE3BZ,EAASY,EAAAA,MACV,CAAA,GAED0D,GAAoB3G,EAAmB,IACxC,EAIAF,EAAOkB,IAAW,SAACwG,EAAOG,EAAAA,CACzBA,EAAYnB,KAAK,SAAArB,EAAAA,CAChB,GAAA,CACCA,EAASpF,IAAkBqC,QAAQmD,EAAAA,EACnCJ,EAASpF,IAAoBoF,EAASpF,IAAkB6B,OAAO,SAAA2C,EAAAA,CAAE,MAAA,CAChEA,EAAEnE,IAAUoF,GAAajB,CAAAA,CAAU,CAAA,CAQrC,OANSkB,EAAAA,CACRkC,EAAYnB,KAAK,SAAA9E,EAAAA,CACZA,EAAC3B,MAAmB2B,EAAC3B,IAAoB,CAAA,EAC9C,CAAA,EACA4H,EAAc,CAAA,EACd7H,EAAO2C,IAAagD,EAAGN,EAASJ,GAAAA,CACjC,CACD,CAAA,EAEIiC,IAAWA,GAAUQ,EAAOG,CAAAA,CACjC,EAGA7H,EAAQyH,QAAU,SAAAC,EAAAA,CACbP,IAAkBA,GAAiBO,CAAAA,EAEvC,IAEKI,EAFClG,EAAI8F,EAAKxG,IACXU,GAAKA,EAACvB,MAETuB,EAACvB,IAAAC,GAAegC,QAAQ,SAAAX,EAAAA,CACvB,GAAA,CACC8D,GAAc9D,CAAAA,CAGf,OAFSgE,EAAAA,CACRmC,EAAanC,CACd,CACD,CAAA,EACA/D,EAACvB,IAAAA,OACGyH,GAAY9H,EAAO2C,IAAamF,EAAYlG,EAACqD,GAAAA,EAEnD,EA4UIgB,GAA0C,OAAzBG,uBAAyB,i7BCvc9B,SAAA2B,GAAOC,EAAKC,EAAAA,CAC3B,QAASC,KAAKD,EAAOD,EAAIE,CAAAA,EAAKD,EAAMC,CAAAA,EACpC,OAA6BF,CAC9B,CAQO,SAASG,GAAeC,EAAGC,EAAAA,CACjC,QAASH,KAAKE,EAAG,GAAIF,IAAM,YAANA,EAAsBA,KAAKG,GAAI,MAAA,GACpD,QAASH,KAAKG,EAAG,GAAIH,IAAM,YAAcE,EAAEF,CAAAA,IAAOG,EAAEH,CAAAA,EAAI,MAAA,GACxD,MAAA,EACD,CCdgB,SAAAI,GAAqBC,EAAWC,EAAAA,CAC/C,IAAMC,EAAQD,EAAAA,EAMdE,EAAqCC,GAAS,CAC7CC,EAAW,CAAEC,GAAQJ,EAAOK,EAAcN,CAAAA,CAAAA,CAAAA,EADlCI,EAASF,EAATE,CAAAA,EAAAA,EAAaG,EAAWL,EAIjCM,CAAAA,EAqBA,OArBAA,GAAgB,UAAA,CACfJ,EAASC,GAAUJ,EACnBG,EAAUE,EAAeN,EAErBS,GAAkBL,CAAAA,GACrBG,EAAY,CAAEH,CAAAA,CAAAA,CAEhB,EAAG,CAACL,EAAWE,EAAOD,CAAAA,CAAAA,EAEtBU,GAAU,UAAA,CAKT,OAJID,GAAkBL,CAAAA,GACrBG,EAAY,CAAEH,CAAAA,CAAAA,EAGRL,EAAU,UAAA,CACZU,GAAkBL,CAAAA,GACrBG,EAAY,CAAEH,CAAAA,CAAAA,CAEhB,CAAA,CACD,EAAG,CAACL,CAAAA,CAAAA,EAEGE,CACR,CAGA,SAASQ,GAAkBE,EAAAA,CAC1B,IDfkBC,EAAGC,ECefC,EAAoBH,EAAKL,EACzBS,EAAYJ,EAAIN,GACtB,GAAA,CACC,IAAMW,EAAYF,EAAAA,EAClB,MAAA,GDnBiBF,ECmBNG,MDnBSF,ECmBEG,KDlBHJ,IAAM,GAAK,EAAIA,GAAM,EAAIC,IAAQD,GAAMA,GAAKC,GAAMA,ECqBtE,MAFSI,CACR,MAAA,EACD,CACD,CAEgB,SAAAC,GAAgBC,EAAAA,CAC/BA,EAAAA,CACD,CAEgB,SAAAC,GAAiBC,EAAAA,CAChC,OAAOA,CACR,CAEgB,SAAAC,IAAAA,CACf,MAAO,CAAA,GAAQJ,EAAAA,CAChB,CAIkCV,SC/DlBe,GAAcC,EAAGC,EAAAA,CAChCC,KAAKjC,MAAQ+B,EACbE,KAAKC,QAAUF,CAChB,CAAA,SCCgBG,GAAKH,EAAGI,EAAAA,CACvB,SAASC,EAAaC,EAAAA,CACrB,IAAIC,EAAMN,KAAKjC,MAAMuC,IACjBC,EAAYD,GAAOD,EAAUC,IAKjC,MAAA,CAJKC,GAAaD,IACjBA,EAAIE,KAAOF,EAAI,IAAA,EAASA,EAAIG,QAAU,MAGlCN,EAAAA,CAIGA,EAASH,KAAKjC,MAAOsC,CAAAA,GAAAA,CAAeE,EAHpCtC,GAAe+B,KAAKjC,MAAOsC,CAAAA,CAIpC,CAEA,SAASK,EAAO3C,EAAAA,CAEf,OADAiC,KAAKW,sBAAwBP,EACtBQ,EAAcb,EAAGhC,CAAAA,CACzB,CAKA,OAJA2C,EAAOG,YAAc,SAAWd,EAAEc,aAAed,EAAEe,MAAQ,IAC3DJ,EAAOK,UAAUC,iBAAAA,GACjBN,EAAMO,IAAAA,GACNP,EAAOQ,KAAOnB,EACPW,CACR,CClBC,SASeS,GAAWC,EAAAA,CAC1B,SAASC,EAAUtD,EAAAA,CAClB,IAAIuD,EAAQzD,GAAO,CAAE,EAAEE,CAAAA,EAEvB,OAAA,OADOuD,EAAMhB,IACNc,EAAGE,EAAOvD,EAAMuC,KAAO,IAAA,CAC/B,CAYA,OATAe,EAAUE,SAAWC,GAKrBH,EAAUI,OAASL,EAEnBC,EAAUN,UAAUC,iBAAmBK,EAASJ,IAAAA,GAChDI,EAAUR,YAAc,eAAiBO,EAAGP,aAAeO,EAAGN,MAAQ,IAC/DO,CACR,CECA,SAASK,GAAcC,EAAOC,EAAgBC,EAAAA,CA4B7C,OA3BIF,IACCA,EAAKG,KAAeH,EAAKG,IAAAC,MAC5BJ,EAAKG,IAAAC,IAAApD,GAA0BqD,QAAQ,SAAAC,EAAAA,CACR,OAAnBA,EAAMH,KAAa,YAAYG,EAAMH,IAAAA,CACjD,CAAA,EAEAH,EAAKG,IAAAC,IAAsB,OAG5BJ,EAAQ9D,GAAO,CAAA,EAAI8D,CAAAA,GACVG,KAAe,OACnBH,EAAKG,IAAAI,MAA2BL,IACnCF,EAAKG,IAAAI,IAAyBN,GAG/BD,EAAKG,IAAAK,IAAAA,GAELR,EAAKG,IAAc,MAGpBH,EAAKS,IACJT,EAAKS,KACLT,EAAKS,IAAWC,IAAI,SAAAC,EAAAA,CAAK,OACxBZ,GAAcY,EAAOV,EAAgBC,CAAAA,CAAU,CAAA,GAI3CF,CACR,CAEA,SAASY,GAAeZ,EAAOC,EAAgBY,EAAAA,CAoB9C,OAnBIb,GAASa,IACZb,EAAKc,IAAa,KAClBd,EAAKS,IACJT,EAAKS,KACLT,EAAKS,IAAWC,IAAI,SAAAC,EAAAA,CAAK,OACxBC,GAAeD,EAAOV,EAAgBY,CAAAA,CAAe,CAAA,EAGnDb,EAAKG,KACJH,EAAKG,IAAAI,MAA2BN,IAC/BD,EAAKQ,KACRK,EAAeE,YAAYf,EAAKQ,GAAAA,EAEjCR,EAAKG,IAAAK,IAAAA,GACLR,EAAKG,IAAAI,IAAyBM,IAK1Bb,CACR,CAGO,SAASgB,IAAAA,CAEf3C,KAAI4C,IAA2B,EAC/B5C,KAAK6C,EAAc,KACnB7C,KAAI8C,IAAuB,IAC5B,CAqIgB,SAAAC,GAAUpB,EAAAA,CAEzB,IAAIqB,EAAYrB,EAAKhD,GAAAmD,IACrB,OAAOkB,GAAaA,EAASC,KAAeD,EAASC,IAAYtB,CAAAA,CAClE,CAEgB,SAAAuB,GAAKC,EAAAA,CACpB,IAAIC,EACAJ,EACAzD,EAEJ,SAAS8D,EAAKtF,EAAAA,CAab,GAZKqF,IACJA,EAAOD,EAAAA,GACFG,KACJ,SAAAC,EAAAA,CACCP,EAAYO,EAAQC,SAAWD,CAChC,EACA,SAAAE,EAAAA,CACClE,EAAQkE,CACT,CAAA,EAIElE,EACH,MAAMA,EAGP,GAAA,CAAKyD,EACJ,MAAMI,EAGP,OAAOxC,EAAcoC,EAAWjF,CAAAA,CACjC,CAIA,OAFAsF,EAAKxC,YAAc,OACnBwC,EAAIpC,IAAAA,GACGoC,CACR,CAAA,SC1QgBK,IAAAA,CACf1D,KAAK2D,EAAQ,KACb3D,KAAK4D,EAAO,IACb,CEPA,SAASC,GAAgB9F,EAAAA,CAExB,OADAiC,KAAK8D,gBAAkB,UAAA,CAAM,OAAA/F,EAAMkC,OAAO,EACnClC,EAAMgG,QACd,CASA,SAASC,GAAOjG,EAAAA,CACf,IAAMkG,EAAQjE,KACVkE,EAAYnG,EAAMoG,EActB,GAZAF,EAAMG,qBAAuB,UAAA,CAC5B3C,GAAO,KAAMwC,EAAMI,CAAAA,EACnBJ,EAAMI,EAAQ,KACdJ,EAAME,EAAa,IACpB,EAIIF,EAAME,GAAcF,EAAME,IAAeD,GAC5CD,EAAMG,qBAAAA,EAAAA,CAGFH,EAAMI,EAAO,CAGjB,QADIC,EAAOL,EAAKxB,IACT6B,IAAS,MAATA,CAAkBA,EAAIC,KAAUD,EAAI3F,KAAa,MACvD2F,EAAOA,EAAI3F,GAGZsF,EAAME,EAAaD,EAGnBD,EAAMI,EAAQ,CACbG,SAAU,EACVC,WAAYP,EACZQ,WAAY,CAAA,EACZtC,IAAW,CAAEmC,IAAOD,EAAIC,GAAAA,EACxBI,SAAU,UAAA,CAAF,MAAA,EAAY,EACpBC,aAAA,SAAatC,EAAOuC,EAAAA,CACnB7E,KAAK0E,WAAWI,KAAKxC,CAAAA,EACrB2B,EAAME,EAAWS,aAAatC,EAAOuC,CAAAA,CACtC,EACAE,YAAAA,SAAYzC,EAAAA,CACXtC,KAAK0E,WAAWM,OAAOhF,KAAK0E,WAAWO,QAAQ3C,CAAAA,IAAW,EAAG,CAAA,EAC7D2B,EAAME,EAAWY,YAAYzC,CAAAA,CAC9B,CAAA,CAEF,CAGAb,GACCb,EAAciD,GAAiB,CAAE5D,QAASgE,EAAMhE,OAAAA,EAAWlC,EAAK0E,GAAAA,EAChEwB,EAAMI,CAAAA,CAER,CAOO,SAASa,GAAavD,EAAOuC,EAAAA,CACnC,IAAMiB,EAAKvE,EAAcoD,GAAQ,CAAEvB,IAAQd,EAAOwC,EAAYD,CAAAA,CAAAA,EAE9D,OADAiB,EAAGC,cAAgBlB,EACZiB,CACR,CCOgB,SAAA1D,GAAOE,EAAO0D,EAAQC,EAAAA,CAUrC,OAPID,EAAMjD,KAAc,OACvBiD,EAAOE,YAAc,IAGtBC,GAAa7D,EAAO0D,CAAAA,EACG,OAAZC,GAAY,YAAYA,EAAAA,EAE5B3D,EAAQA,EAAKG,IAAc,IACnC,CAEgB,SAAA2D,GAAQ9D,EAAO0D,EAAQC,EAAAA,CAItC,OAHAI,GAAc/D,EAAO0D,CAAAA,EACE,OAAZC,GAAY,YAAYA,EAAAA,EAE5B3D,EAAQA,EAAKG,IAAc,IACnC,CAYA,SAAS6D,IAAAA,CAAQ,CAEjB,SAASC,IAAAA,CACR,OAAW5F,KAAC6F,YACb,CAEA,SAASC,IAAAA,CACR,OAAO9F,KAAK+F,gBACb,CCxEA,SAASC,GAAc9E,EAAAA,CACtB,OAAON,EAAcqF,KAAK,KAAM/E,CAAAA,CACjC,CAOA,SAASgF,GAAeC,EAAAA,CACvB,MAAA,CAAA,CAASA,GAAWA,EAAQ5E,WAAa6E,EAC1C,CAOA,SAASC,GAAWF,EAAAA,CACnB,OAAOD,GAAeC,CAAAA,GAAYA,EAAQjF,OAASoF,CACpD,CAOA,SAASC,GAAOJ,EAAAA,CACf,MAAA,CAAA,CACGA,GAAAA,CAAAA,CACAA,EAAQtF,cACsB,OAAxBsF,EAAQtF,aAAgB,UAC/BsF,EAAQtF,uBAAuB2F,SAChCL,EAAQtF,YAAY4F,WAAW,OAAA,CAEjC,CASA,SAASC,GAAaP,EAAAA,CACrB,OAAKD,GAAeC,CAAAA,EACbQ,GAAmBC,MAAM,KAAMC,SAAAA,EADDV,CAEtC,CAOA,SAASW,GAAuB5C,EAAAA,CAC/B,MAAA,CAAA,CAAIA,EAAS9B,MACZoD,GAAa,KAAMtB,CAAAA,EAAAA,GAIrB,CAOA,SAAS6C,GAAY/D,EAAAA,CACpB,OACEA,IACCA,EAAUgE,MAAShE,EAAUwB,WAAa,GAAKxB,IACjD,IAEF,KVrDaiE,GGlETC,GASS1F,GCVP2F,GAMOC,GCJPC,GAqBAC,GCPAC,GGSOnB,GAIPoB,GAEAC,GACAC,GACAC,GAKAC,GA+DFC,GAwJAC,GApIEC,GAuHFC,GAcEC,GAQAC,GAwBOC,GCrPPC,GAyFAC,GAWAC,GAMAC,GAGOC,GAwCbC,iCV3HaxB,GAAqBnI,IC3DlCe,GAAckB,UAAY,IAAI2H,GAENC,qBAAAA,GACxB9I,GAAckB,UAAUJ,sBAAwB,SAAU5C,EAAO6K,EAAAA,CAChE,OAAO3K,GAAe+B,KAAKjC,MAAOA,CAAAA,GAAUE,GAAe+B,KAAK4I,MAAOA,CAAAA,CACxE,EEZI1B,GAAc2B,EAAO/F,IACzB+F,EAAO/F,IAAS,SAAAnB,EAAAA,CACXA,EAAMT,MAAQS,EAAMT,KAAID,KAAeU,EAAMrB,MAChDqB,EAAM5D,MAAMuC,IAAMqB,EAAMrB,IACxBqB,EAAMrB,IAAM,MAET4G,IAAaA,GAAYvF,CAAAA,CAC9B,EAEaH,GACM,OAAVsH,OAAU,KACjBA,OAAOC,KACPD,OAAOC,IAAI,mBAAA,GACZ,KCdK5B,GAAQ,SAACpD,EAAU3C,EAAAA,CACxB,OAAI2C,GAAY,KAAiB,KAC1BiF,GAAaA,GAAajF,CAAAA,EAAU1B,IAAIjB,CAAAA,CAAAA,CAChD,EAGagG,GAAW,CACvB/E,IAAK8E,GACLnF,QAASmF,GACT8B,MAAK,SAAClF,EAAAA,CACL,OAAOA,EAAWiF,GAAajF,CAAAA,EAAUmF,OAAS,CACnD,EACAC,KAAI,SAACpF,EAAAA,CACJ,IAAMqF,EAAaJ,GAAajF,CAAAA,EAChC,GAAIqF,EAAWF,SAAW,EAAG,KAAM,gBACnC,OAAOE,EAAW,CAAA,CACnB,EACAC,QAASL,EAAAA,ECfJ3B,GAAgBwB,EAAO1G,IAC7B0G,EAAO1G,IAAe,SAAU5C,EAAO+J,EAAUC,EAAUC,EAAAA,CAC1D,GAAIjK,EAAM+D,MAKT,QAHIN,EACArB,EAAQ2H,EAEJ3H,EAAQA,EAAKhD,IACpB,IAAKqE,EAAYrB,EAAKG,MAAgBkB,EAASlB,IAM9C,OALIwH,EAAQnH,KAAS,OACpBmH,EAAQnH,IAAQoH,EAAQpH,IACxBmH,EAAQlH,IAAamH,EAAQnH,KAGvBY,EAASlB,IAAkBvC,EAAO+J,CAAAA,EAI5CjC,GAAc9H,EAAO+J,EAAUC,EAAUC,CAAAA,CAC1C,EAEMlC,GAAauB,EAAQY,QAC3BZ,EAAQY,QAAU,SAAU9H,EAAAA,CAE3B,IAAMqB,EAAYrB,EAAKG,IACnBkB,GAAaA,EAAS0G,KACzB1G,EAAS0G,IAAAA,EAON1G,GEpCuB,GFoCVrB,EAAKiB,MACrBjB,EAAMT,KAAO,MAGVoG,IAAYA,GAAW3F,CAAAA,CAC5B,GAmEAgB,GAAS5B,UAAY,IAAI2H,GAOP5G,IAAoB,SAAU6H,EAASC,EAAAA,CACxD,IAAMC,EAAsBD,EAAe9H,IAGrC/B,EAAIC,KAEND,EAAE8C,GAAe,OACpB9C,EAAE8C,EAAc,CAAA,GAEjB9C,EAAE8C,EAAYiC,KAAK+E,CAAAA,EAEnB,IAAMtC,EAAUxE,GAAUhD,EAAC0C,GAAAA,EAEvBqH,EAAAA,GACEC,EAAa,UAAA,CACdD,IAEJA,EAAAA,GACAD,EAAmBH,IAAc,KAE7BnC,EACHA,EAAQyC,CAAAA,EAERA,EAAAA,EAEF,EAEAH,EAAmBH,IAAcK,EAEjC,IAAMC,EAAuB,UAAA,CAC5B,GAAA,CAAA,EAAOjK,EAAC6C,IAA0B,CAGjC,GAAI7C,EAAE6I,MAAK3F,IAAa,CACvB,IAAMgH,EAAiBlK,EAAE6I,MAAK3F,IAC9BlD,EAAC0C,IAAAL,IAAkB,CAAA,EAAKG,GACvB0H,EACAA,EAAcnI,IAAAI,IACd+H,EAAcnI,IAAAoI,GAAAA,CAEhB,CAIA,IAAInH,EACJ,IAHAhD,EAAEoK,SAAS,CAAElH,IAAalD,EAAC+C,IAAuB,IAAA,CAAA,EAG1CC,EAAYhD,EAAE8C,EAAYuH,IAAAA,GACjCrH,EAAUlE,YAAAA,CAEZ,CACD,EAQEkB,EAAC6C,OE5KwB,GF6KxBgH,EAAehH,KAEjB7C,EAAEoK,SAAS,CAAElH,IAAalD,EAAC+C,IAAuB/C,EAAC0C,IAAAL,IAAkB,CAAA,CAAA,CAAA,EAEtEuH,EAAQrG,KAAKyG,EAAYA,CAAAA,CAC1B,EAEApH,GAAS5B,UAAUqD,qBAAuB,UAAA,CACzCpE,KAAK6C,EAAc,CAAA,CACpB,EAOAF,GAAS5B,UAAUU,OAAS,SAAU1D,EAAO6K,EAAAA,CAC5C,GAAI5I,KAAI8C,IAAsB,CAI7B,GAAI9C,KAAIyC,IAAAL,IAAmB,CAC1B,IAAMR,EAAiByI,SAASzJ,cAAc,KAAA,EACxC0J,EAAoBtK,KAAIyC,IAAAL,IAAkB,CAAA,EAAEN,IAClD9B,KAAIyC,IAAAL,IAAkB,CAAA,EAAKV,GAC1B1B,KAAI8C,IACJlB,EACC0I,EAAiBJ,IAAsBI,EAAiBpI,GAAAA,CAE3D,CAEAlC,KAAI8C,IAAuB,IAC5B,CAIA,IAAMyH,EACL3B,EAAK3F,KAAerC,EAAc0F,EAAU,KAAMvI,EAAMwM,QAAAA,EAGzD,OAFIA,IAAUA,EAAQ3H,KAAAA,KAEf,CACNhC,EAAc0F,EAAU,KAAMsC,EAAK3F,IAAc,KAAOlF,EAAMgG,QAAAA,EAC9DwG,CAAAA,CAEF,ECxMMhD,GAAU,SAACiD,EAAMlI,EAAOmI,EAAAA,CAc7B,GAAA,EAbMA,EAdgB,CAAA,IAcSA,EAfR,CAAA,GAqBtBD,EAAK5G,EAAK8G,OAAOpI,CAAAA,EAQhBkI,EAAKzM,MAAM4M,cACXH,EAAKzM,MAAM4M,YAAY,CAAA,IAAO,KAAP,CAAcH,EAAK5G,EAAKgH,MASjD,IADAH,EAAOD,EAAK7G,EACL8G,GAAM,CACZ,KAAOA,EAAKvB,OAAS,GACpBuB,EAAKL,IAAAA,EAALK,EAED,GAAIA,EA1CiB,CAAA,EA0CMA,EA3CL,CAAA,EA4CrB,MAEDD,EAAK7G,EAAQ8G,EAAOA,EA5CJ,CAAA,CA6CjB,CACD,GAKA/G,GAAa3C,UAAY,IAAI2H,GAEPzF,IAAc,SAAUX,EAAAA,CAC7C,IAAMkI,EAAOxK,KACP6K,EAAY9H,GAAUyH,EAAI/H,GAAAA,EAE5BgI,EAAOD,EAAK5G,EAAKkH,IAAIxI,CAAAA,EAGzB,OAFAmI,EA5DuB,CAAA,IA8DhB,SAAAM,EAAAA,CACN,IAAMC,EAAmB,UAAA,CACnBR,EAAKzM,MAAM4M,aAKfF,EAAK3F,KAAKiG,CAAAA,EACVxD,GAAQiD,EAAMlI,EAAOmI,CAAAA,GAHrBM,EAAAA,CAKF,EACIF,EACHA,EAAUG,CAAAA,EAEVA,EAAAA,CAEF,CACD,EAEAtH,GAAa3C,UAAUU,OAAS,SAAU1D,EAAAA,CACzCiC,KAAK2D,EAAQ,KACb3D,KAAK4D,EAAO,IAAIqH,IAEhB,IAAMlH,EAAWiF,GAAajL,EAAMgG,QAAAA,EAChChG,EAAM4M,aAAe5M,EAAM4M,YAAY,CAAA,IAAO,KAIjD5G,EAASmH,QAAAA,EAIV,QAASlN,EAAI+F,EAASmF,OAAQlL,KAY7BgC,KAAK4D,EAAKuH,IAAIpH,EAAS/F,CAAAA,EAAKgC,KAAK2D,EAAQ,CAAC,EAAG,EAAG3D,KAAK2D,CAAAA,CAAAA,EAEtD,OAAO5F,EAAMgG,QACd,EAEAL,GAAa3C,UAAUqK,mBACtB1H,GAAa3C,UAAUsK,kBAAoB,UAAA,CAAA,IAAYpH,EAAAjE,KAOtDA,KAAK4D,EAAK5B,QAAQ,SAACyI,EAAMnI,EAAAA,CACxBiF,GAAQtD,EAAM3B,EAAOmI,CAAAA,CACtB,CAAA,CACD,EGnGYrE,GACM,OAAV0C,OAAU,KAAeA,OAAOC,KAAOD,OAAOC,IAAI,eAAA,GAC1D,MAEKvB,GACL,8RACKC,GAAS,mCACTC,GAAgB,YAChBC,GAA6B,OAAb0C,SAAa,IAK7BzC,GAAoB,SAAA1G,EAAAA,CACzB,OAAkB,OAAV4H,OAAU,KAAkC,OAAZA,OAAAA,GAAY,SACjD,cACA,cACDwC,KAAKpK,CAAAA,CAAK,EAGbwH,EAAU3H,UAAUC,iBAAmB,CAAA,EASvC,CACC,qBACA,4BACA,qBAAA,EACCgB,QAAQ,SAAAuJ,EAAAA,CACTC,OAAOC,eAAe/C,EAAU3H,UAAWwK,EAAK,CAC/CG,aAAAA,GACAZ,IAAG,UAAA,CACF,OAAO9K,KAAK,UAAYuL,CAAAA,CACzB,EACAJ,IAAG,SAACQ,EAAAA,CACHH,OAAOC,eAAezL,KAAMuL,EAAK,CAChCG,aAAAA,GACAE,SAAAA,GACArN,MAAOoN,CAAAA,CAAAA,CAET,CAAA,CAAA,CAEF,CAAA,EA6BI9D,GAAegB,EAAQgD,MAC3BhD,EAAQgD,MAAQ,SAAApI,EAAAA,CAMf,OALIoE,KAAcpE,EAAIoE,GAAapE,CAAAA,GAEnCA,EAAEqI,QAAUnG,GACZlC,EAAEmC,qBAAuBA,GACzBnC,EAAEqC,mBAAqBA,GACfrC,EAAEsI,YAActI,CACzB,EAYMsE,GAAoC,CACzCiE,WAAAA,GACAN,aAAAA,GACAZ,IAAAA,UAAAA,CACC,OAAW9K,KAACiM,KACb,CAAA,EAkHGjE,GAAea,EAAQlH,MAC3BkH,EAAQlH,MAAQ,SAAAA,EAAAA,CAEW,OAAfA,EAAMT,MAAS,WAlH3B,SAAwBS,EAAAA,CACvB,IAAI5D,EAAQ4D,EAAM5D,MACjBmD,EAAOS,EAAMT,KACbgL,EAAkB,CAAE,EAEjBC,EAAkBjL,EAAK+D,QAAQ,GAAA,IAA/BkH,GACJ,QAASnO,KAAKD,EAAO,CACpB,IAAIQ,EAAQR,EAAMC,CAAAA,EAElB,GAAA,EACEA,IAAM,SAAW,iBAAkBD,GAASQ,GAAS,MAErDoJ,IAAU3J,IAAM,YAAckD,IAAS,YACxClD,IAAM,SACNA,IAAM,aALP,CAYA,IAAIoO,EAAapO,EAAEqO,YAAAA,EACfrO,IAAM,gBAAkB,UAAWD,GAASA,EAAMQ,OAAS,KAG9DP,EAAI,QACMA,IAAM,YAAcO,IAApBP,GAMVO,EAAQ,GACE6N,IAAe,aAAe7N,IAAU,KAClDA,EAAAA,GACU6N,EAAW,CAAA,IAAO,KAAOA,EAAW,CAAA,IAAO,IACjDA,IAAe,gBAClBpO,EAAI,aAEJoO,IAAe,YACdlL,IAAS,SAAWA,IAAS,YAC7B0G,GAAkB7J,EAAMmD,IAAAA,EAGfkL,IAAe,UACzBpO,EAAI,YACMoO,IAAe,SACzBpO,EAAI,aACMyJ,GAAO6D,KAAKtN,CAAAA,IACtBA,EAAIoO,GANJA,EAAapO,EAAI,UAQRmO,GAAmB3E,GAAY8D,KAAKtN,CAAAA,EAC9CA,EAAIA,EAAEsO,QAAQ5E,GAAe,KAAA,EAAO2E,YAAAA,EAC1B9N,IAAU,OACpBA,EAAAA,QAKG6N,IAAe,WAEdF,EADJlO,EAAIoO,CAAAA,IAEHpO,EAAI,kBAINkO,EAAgBlO,CAAAA,EAAKO,CA/CrB,CAgDD,CAIC2C,GAAQ,UACRgL,EAAgBK,UAChBC,MAAMC,QAAQP,EAAgB3N,KAAAA,IAG9B2N,EAAgB3N,MAAQyK,GAAajL,EAAMgG,QAAAA,EAAU/B,QAAQ,SAAAM,EAAAA,CAC5DA,EAAMvE,MAAM2O,SACXR,EAAgB3N,MAAM0G,QAAQ3C,EAAMvE,MAAMQ,KAAAA,GAD/BmO,EAEb,CAAA,GAIGxL,GAAQ,UAAYgL,EAAgBS,cAAgB,OACvDT,EAAgB3N,MAAQyK,GAAajL,EAAMgG,QAAAA,EAAU/B,QAAQ,SAAAM,EAAAA,CAE3DA,EAAMvE,MAAM2O,SADTR,EAAgBK,SAElBL,EAAgBS,aAAa1H,QAAQ3C,EAAMvE,MAAMQ,KAAAA,GAF/BgO,GAKlBL,EAAgBS,cAAgBrK,EAAMvE,MAAMQ,KAE/C,CAAA,GAGGR,EAAMkO,OAAAA,CAAUlO,EAAM6O,WACzBV,EAAgBD,MAAQlO,EAAMkO,MAC9BT,OAAOC,eACNS,EACA,YACAnE,EAAAA,IAEShK,EAAM6O,WAAAA,CAAc7O,EAAMkO,OAE1BlO,EAAMkO,OAASlO,EAAM6O,aAD/BV,EAAgBD,MAAQC,EAAgBU,UAAY7O,EAAM6O,WAK3DjL,EAAM5D,MAAQmO,CACf,GAMiBvK,CAAAA,EAGhBA,EAAMJ,SAAW6E,GAEb4B,IAAcA,GAAarG,CAAAA,CAChC,EAIMsG,GAAkBY,EAAOgE,IAC/BhE,EAAOgE,IAAW,SAAUlL,EAAAA,CACvBsG,IACHA,GAAgBtG,CAAAA,EAEjBmG,GAAmBnG,EAAKG,GACzB,EAEMoG,GAAYW,EAAQiE,OAE1BjE,EAAQiE,OAAS,SAAUnL,EAAAA,CACtBuG,IACHA,GAAUvG,CAAAA,EAGX,IAAM5D,EAAQ4D,EAAM5D,MACdgP,EAAMpL,EAAKQ,IAGhB4K,GAAO,MACPpL,EAAMT,OAAS,YACf,UAAWnD,GACXA,EAAMQ,QAAUwO,EAAIxO,QAEpBwO,EAAIxO,MAAQR,EAAMQ,OAAS,KAAO,GAAKR,EAAMQ,OAG9CuJ,GAAmB,IACpB,EAIaK,GAAqD,CACjE6E,uBAAwB,CACvBvM,QAAS,CACRwM,YAAAA,SAAYhN,EAAAA,CACX,OAAO6H,GAAgBoF,IAAgBjN,EAAO6B,GAAAA,EAAM/D,MAAMQ,KAC3D,EACA4O,YAAAA,GACAC,WAAAA,GACAC,cAAAA,GACA3N,iBAAAA,GACAV,UAAAA,GACAsO,MAAAA,GACAC,oBAAAA,GACAtG,mBAAAA,GACAnI,gBAAAA,GACA0O,QAAAA,GAEAC,WAAAA,GACAC,OAAAA,GACAjP,SAAAA,GACAL,qBAAAA,GACAwB,cAAAA,EAAAA,CAAAA,CAAAA,EC1QGwI,GAAU,SAyFVC,GAA0B,SAAC/C,EAAUqI,EAAAA,CAAQ,OAAArI,EAASqI,CAAAA,CAAI,EAW1DrF,GAAY,SAAChD,EAAUqI,EAAAA,CAAAA,OAAQrI,EAASqI,CAAAA,CAAI,EAM5CpF,GAAajC,EAGNkC,GAAYtC,GAwCzBuC,GAAe,CACdhK,SAAAA,GACA6O,MAAAA,GACAG,WAAAA,GACAzO,UAAAA,GACAF,gBAAAA,GACAmI,mBAAAA,GACArH,cAAAA,GACAF,iBAAAA,GACAtB,qBAAAA,GACAoB,gBAAAA,GACAkO,OAAAA,GACAH,oBAAAA,GACAC,QAAAA,GACAL,YAAAA,GACAC,WAAAA,GACAC,cAAAA,GACAjF,QAtKe,SAuKfhB,SAAAA,GACA3F,OAAAA,GACAgE,QAAAA,GACAqB,uBAAAA,GACA5B,aAAAA,GACAtE,cAAAA,EACAgN,cAAAA,GACA5H,cAAAA,GACAU,aAAAA,GACAmH,UAAAA,GACAvH,SAAAA,EACAJ,eAAAA,GACAsC,UAAAA,GACAnC,WAAAA,GACAE,OAAAA,GACAQ,YAAAA,GACA2B,UAAAA,EACA7I,cAAAA,GACAK,KAAAA,GACAiB,WAAAA,GACAmH,UAAAA,GACAD,wBAAAA,GACAE,WAAAA,GACA5F,SAAAA,GACAe,aAAAA,GACAR,KAAAA,GACAiF,mDAAAA,EAAAA,IC5OD,IAAA2F,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cASA,IAAIC,GAAuB,+CAE3BD,GAAO,QAAUC,KCXjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cASA,IAAIC,GAAuB,KAE3B,SAASC,IAAgB,CAAC,CAC1B,SAASC,IAAyB,CAAC,CACnCA,GAAuB,kBAAoBD,GAE3CF,GAAO,QAAU,UAAW,CAC1B,SAASI,EAAKC,EAAOC,EAAUC,EAAeC,EAAUC,EAAcC,EAAQ,CAC5E,GAAIA,IAAWT,GAIf,KAAIU,EAAM,IAAI,MACZ,iLAGF,EACA,MAAAA,EAAI,KAAO,sBACLA,EACR,CACAP,EAAK,WAAaA,EAClB,SAASQ,GAAU,CACjB,OAAOR,CACT,CAGA,IAAIS,EAAiB,CACnB,MAAOT,EACP,OAAQA,EACR,KAAMA,EACN,KAAMA,EACN,OAAQA,EACR,OAAQA,EACR,OAAQA,EACR,OAAQA,EAER,IAAKA,EACL,QAASQ,EACT,QAASR,EACT,YAAaA,EACb,WAAYQ,EACZ,KAAMR,EACN,SAAUQ,EACV,MAAOA,EACP,UAAWA,EACX,MAAOA,EACP,MAAOA,EAEP,eAAgBT,GAChB,kBAAmBD,EACrB,EAEA,OAAAW,EAAe,UAAYA,EAEpBA,CACT,IChEA,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,KAAA,CAiBEA,GAAO,QAAU,KAAsC,EATnD,IAAAC,GAIAC,KCZN,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,KAAA,EAOC,UAAY,CACZ,aAEA,IAAIC,EAAS,CAAC,EAAE,eAEhB,SAASC,GAAa,CAGrB,QAFIC,EAAU,CAAC,EAENC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAC1C,IAAIC,EAAM,UAAUD,CAAC,EACrB,GAAKC,EAEL,KAAIC,EAAU,OAAOD,EAErB,GAAIC,IAAY,UAAYA,IAAY,SACvCH,EAAQ,KAAKE,CAAG,UACN,MAAM,QAAQA,CAAG,GAC3B,GAAIA,EAAI,OAAQ,CACf,IAAIE,EAAQL,EAAW,MAAM,KAAMG,CAAG,EAClCE,GACHJ,EAAQ,KAAKI,CAAK,CAEpB,UACUD,IAAY,SACtB,GAAID,EAAI,WAAa,OAAO,UAAU,SACrC,QAASG,KAAOH,EACXJ,EAAO,KAAKI,EAAKG,CAAG,GAAKH,EAAIG,CAAG,GACnCL,EAAQ,KAAKK,CAAG,OAIlBL,EAAQ,KAAKE,EAAI,SAAS,CAAC,EAG9B,CAEA,OAAOF,EAAQ,KAAK,GAAG,CACxB,CAEI,OAAOH,GAAW,KAAeA,GAAO,SAC3CE,EAAW,QAAUA,EACrBF,GAAO,QAAUE,GACP,OAAO,QAAW,YAAc,OAAO,OAAO,KAAQ,UAAY,OAAO,IAEnF,OAAO,aAAc,CAAC,EAAG,UAAY,CACpC,OAAOA,CACR,CAAC,EAED,OAAO,WAAaA,CAEtB,GAAE,4HCzDK,IAAMO,GAAiB,SAACC,EAAU,CACvC,IAAMC,EAAM,CACVC,QAAS,YACTC,OAAQ,UAFE,EAIZ,OAAOF,EAAID,CAAD,GAAWA,CACtB,uBAEM,IAAMI,GAAkB,SAACC,EAAW,CACzC,IAAMJ,EAAM,CACVK,MAAO,UACPC,MAAO,UACPC,OAAQ,QAHE,EAKZ,OAAOP,EAAII,CAAD,GAAYA,CACvB,iJCfD,IAAAI,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAA;uzCAEA,IAAMC,GAAsB,SAC1BC,EAEG,CAAA,IAAAC,EAAAC,EAAA,UAAA,OAAA,GAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EADiD,CAAA,EAAlDC,EACCD,EADDC,QAASC,EACRF,EADQE,UAAWC,EACnBH,EADmBG,SAAUC,EAC7BJ,EAD6BI,KAAMC,EACnCL,EADmCK,UAEhCC,EAASF,EAAO,QAAU,GAEhC,SAAOT,GAAA,UAAAI,EAAA,CAAA,EAAAQ,EAAAR,EAAA,MAAA,OACEE,EADF,GAAA,EAAA,OACaH,CADb,EAAA,OAC+BQ,CAD/B,EAC0CL,CAD1C,EAAAM,EAAAR,EAAA,YAAA,UAEQH,GAAA,gBACXM,CADW,EAFR,GAAA,EAAA,OAIAJ,CAJA,EAAA,OAIkBQ,CAJlB,EAI6BJ,CAJ7B,EAAAK,EAAAR,EAAA,WAAA,OAKOI,EALP,GAAA,EAAA,OAKmBL,CALnB,EAAA,OAKqCQ,CALrC,EAKgDH,CALhD,EAAAI,EAAAR,EAAA,gBAAA,OAMYD,CANZ,EAAA,OAM8BQ,CAN9B,EAMyCD,CANzC,EAAAN,EAAA,CAQR,EAEYS,GAAuB,SAAAC,EAsD9B,CAAA,IAAAC,EArDJC,EAqDIF,EArDJE,UACAC,EAoDIH,EApDJG,gBACAC,EAmDIJ,EAnDJI,aACAC,EAkDIL,EAlDJK,cACAC,EAiDIN,EAjDJM,SACAC,EAgDIP,EAhDJO,eACAC,EA+CIR,EA/CJQ,aACAC,EA8CIT,EA9CJS,WACAC,EA6CIV,EA7CJU,SACAC,EA4CIX,EA5CJW,MACAC,EA2CIZ,EA3CJY,SACAC,EA0CIb,EA1CJa,YACAC,EAyCId,EAzCJc,KACAC,EAwCIf,EAxCJe,WACAC,EAuCIhB,EAvCJgB,QACAC,EAsCIjB,EAtCJiB,QACAC,EAqCIlB,EArCJkB,WACAC,EAoCInB,EApCJmB,WACAC,EAmCIpB,EAnCJoB,aACAxB,EAkCII,EAlCJJ,UACAyB,EAiCIrB,EAjCJqB,UACAC,EAgCItB,EAhCJsB,OACA9B,EA+BIQ,EA/BJR,QACA+B,EA8BIvB,EA9BJuB,EACAC,EA6BIxB,EA7BJwB,GACAC,EA4BIzB,EA5BJyB,GACAC,GA2BI1B,EA3BJ0B,GACAC,GA0BI3B,EA1BJ2B,GACAC,GAyBI5B,EAzBJ4B,GACAC,GAwBI7B,EAxBJ6B,GACAC,GAuBI9B,EAvBJ8B,EACAC,GAsBI/B,EAtBJ+B,GACAC,GAqBIhC,EArBJgC,GACAC,GAoBIjC,EApBJiC,GACAC,GAmBIlC,EAnBJkC,GACAC,GAkBInC,EAlBJmC,GACAC,GAiBIpC,EAjBJoC,GACAC,GAgBIrC,EAhBJqC,WACAC,GAeItC,EAfJsC,cACAC,GAcIvC,EAdJuC,OACA7C,GAaIM,EAbJN,SACAD,GAYIO,EAZJP,UACA+C,GAWIxC,EAXJwC,WAEAC,GASIzC,EATJyC,OACAC,GAQI1C,EARJ0C,OACAC,GAOI3C,EAPJ2C,QACAC,GAMI5C,EANJ4C,WACAC,GAKI7C,EALJ6C,OACAC,GAII9C,EAJJ8C,MACAC,GAGI/C,EAHJ+C,gBACAC,GAEIhD,EAFJgD,YACGC,GACCC,GAAAlD,EAAA,CAAA,YAAA,kBAAA,eAAA,gBAAA,WAAA,iBAAA,eAAA,aAAA,WAAA,QAAA,WAAA,cAAA,OAAA,aAAA,UAAA,UAAA,aAAA,aAAA,eAAA,YAAA,YAAA,SAAA,UAAA,IAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,IAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,aAAA,gBAAA,SAAA,WAAA,YAAA,aAAA,SAAA,SAAA,UAAA,aAAA,SAAA,QAAA,kBAAA,aAAA,CAAA,EACJ,MAAO,IACLd,GAAA,UAAAe,EAAA,CAAA,EAAAH,EAAAG,EAAA,YAAA,OAEiBC,CAFjB,EAE+BA,CAF/B,EAAAJ,EAAAG,EAAA,kBAAA,OAGuBE,CAHvB,EAG2CA,CAH3C,EAAAL,EAAAG,EAAA,MAAA,OAIWG,CAJX,EAI4BA,CAJ5B,EAAAN,EAAAG,EAAA,qBAAA,OAK0BI,CAL1B,EAK4CA,CAL5C,EAAAP,EAAAG,EAAA,gBAAA,OAMqBK,CANrB,EAMkCA,CANlC,EAAAR,EAAAG,EAAA,sBAAA,OAO2BM,CAP3B,EAO8CA,CAP9C,EAAAT,EAAAG,EAAA,oBAAA,OAQyBO,CARzB,EAQ0CA,CAR1C,EAAAV,EAAAG,EAAA,kBAAA,OASuBQ,CATvB,EASsCA,CATtC,EAAAX,EAAAG,EAAA,gBAAA,OAUqBS,CAVrB,EAUkCA,CAVlC,EAAAZ,EAAAG,EAWI,cAAeW,CAXnB,EAAAd,EAAAG,EAAA,aAAA,OAYkBa,CAZlB,EAY2BA,CAZ3B,EAAAhB,EAAAG,EAaI,gBAAiBc,CAbrB,EAAAjB,EAAAG,EAcI,iBAAkBY,CAdtB,EAAAf,EAAAG,EAeI,aAAce,CAflB,EAAAlB,EAAAG,EAgBI,aAAcgB,CAhBlB,EAAAnB,EAAAG,EAiBI,gBAAiBiB,CAjBrB,EAAApB,EAAAG,EAkBI,gBAAiBkB,CAlBrB,EAAArB,EAAAG,EAmBI,kBAAmBmB,CAnBvB,EAAAtB,EAAAG,EAAA,MAAA,OAoBWT,CApBX,EAoBuBA,CApBvB,EAAAM,EAAAG,EAqBI,eAAgBL,CArBpB,EAAAE,EAAAG,EAsBI,aAAcqB,CAtBlB,EAAAxB,EAAAG,EAuBI,eAAgBoB,CAvBpB,EAAAvB,EAAAG,EAAA,KAAA,OAwBUsB,CAxBV,EAwBgBA,CAxBhB,EAAAzB,EAAAG,EAAA,MAAA,OAyBWuB,CAzBX,EAyBkBA,CAzBlB,EAAA1B,EAAAG,EAAA,MAAA,OA0BWwB,CA1BX,EA0BkBA,CA1BlB,EAAA3B,EAAAG,EAAA,MAAA,OA2BWyB,EA3BX,EA2BkBA,EA3BlB,EAAA5B,EAAAG,EAAA,MAAA,OA4BW0B,EA5BX,EA4BkBA,EA5BlB,EAAA7B,EAAAG,EAAA,MAAA,OA6BW2B,EA7BX,EA6BkBA,EA7BlB,EAAA9B,EAAAG,EAAA,MAAA,OA8BW4B,EA9BX,EA8BkBA,EA9BlB,EAAA/B,EAAAG,EAAA,KAAA,OA+BU6B,EA/BV,EA+BgBA,EA/BhB,EAAAhC,EAAAG,EAAA,MAAA,OAgCW8B,EAhCX,EAgCkBA,EAhClB,EAAAjC,EAAAG,EAAA,MAAA,OAiCW+B,EAjCX,EAiCkBA,EAjClB,EAAAlC,EAAAG,EAAA,MAAA,OAkCWgC,EAlCX,EAkCkBA,EAlClB,EAAAnC,EAAAG,EAAA,MAAA,OAmCWiC,EAnCX,EAmCkBA,EAnClB,EAAApC,EAAAG,EAAA,MAAA,OAoCWkC,EApCX,EAoCkBA,EApClB,EAAArC,EAAAG,EAAA,MAAA,OAqCWmC,EArCX,EAqCkBA,EArClB,EAAAtC,EAAAG,EAAA,YAAA,UAsCiBd,GAAA,gBAAeM,EAAf,CAtCjB,EAsC+CA,EAtC/C,EAAAK,EAAAG,EAAA,mBAAA,OAuCwBoC,EAvCxB,EAuCuCA,EAvCvC,EAAAvC,EAAAG,EAAA,WAAA,OAwCgBP,EAxChB,EAwC6BA,EAxC7B,EAAAI,EAAAG,EAAA,MAAA,OAyCWqC,EAzCX,EAyC6BA,EAzC7B,EAAAxC,EAAAG,EAAA,aAAA,OA0CkBuC,EA1ClB,EA0CiCA,EA1CjC,EAAA1C,EAAAG,EA2CI,YAAasC,EA3CjB,EAAAtC,GA6CEb,GAAoB,SAAUqD,EAAX,EACnBrD,GAAoB,SAAUsD,EAAX,EACnBtD,GAAoB,UAAWuD,EAAZ,EACnBvD,GAAoB,aAAcwD,EAAf,EACnBxD,GAAoB,SAAUyD,EAAX,EACnBzD,GAAoB,QAAS0D,EAAV,EACnB1D,GAAoB,mBAAoB2D,EAArB,EACnB3D,GAAoB,eAAgB4D,EAAjB,CApDrB,EAsDAC,EAvDK,CAyDR,6BAED,IAAME,GAAU,SAAAC,EAA4D,CAAA,IAAzDC,EAAyDD,EAAzDC,UAAWC,EAA8CF,EAA9CE,SAAUC,EAAoCH,EAApCG,OAAQC,EAA4BJ,EAA5BI,SAAaC,EAAeP,GAAAE,EAAA,CAAA,YAAA,WAAA,SAAA,UAAA,CAAA,EACpEM,EAAWJ,EACjBK,EAA4B5D,GAAqB0D,CAAD,EAAhDG,EAAAC,GAAAF,EAAA,CAAA,EAAOG,EAAPF,EAAA,CAAA,EAAmBX,EAAnBW,EAAA,CAAA,EACA,OACE7E,GAAA,QAAA,cAAC2E,EAADK,GAAA,CACE,IAAKR,EACL,aAAWrE,GAAA,SAAWmE,EAAWS,CAAtB,GAAqCE,MAFlD,EAGMf,CAHN,EAKGO,CALH,CAQH,EA8TDL,GAAQc,aAAe,CACrBX,SAAU,KADW,SAIRH,iHCrdf,IAAAe,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,6YCFf,IAAAC,GAAAC,GAAA,UAAA,qhBAEO,IAAMC,GAAeC,GAAAA,QAAMC,cAAc,CAC9CC,KAAMC,MADwC,CAApB,qBAI5B,IAAMC,GAAkB,UAAM,CAC5B,SAAOP,GAAA,YAAWE,EAAX,CACR,KAEcK,kHCVf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,kwBAEA,IAAMK,GAAa,SAAAC,EAAmC,CAAA,IAAhCC,EAAgCD,EAAhCC,UAAWC,EAAqBF,EAArBE,KAASC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,MAAA,CAAA,EAC9CK,KAAUP,GAAA,SAAA,EAChB,OACEL,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CAAA,EACMH,EADN,CAEE,aAAWP,GAAA,SAAW,cAAeK,EAA1BM,GAAA,CAAA,EAAA,MAAA,OACFL,CADE,EACOA,GAAQG,EAAQH,IADvB,CAAA,CAFb,CAAA,CAAA,CAOH,EAMDH,GAAWS,aAAe,CAAA,SAEXT,kHCzBf,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAY,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACvD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,aAAcK,EAAW,CAAA,CAApC,CAA/B,CAAA,EACGD,CADH,CAIH,EAIDF,GAAUO,aAAe,CAAA,SAEVP,wXCjBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAAL,GAAA,GAAA,EACAM,GAAA,IACAC,GAAAC,GAAA,IAAA,qxCAEA,IAAMC,GAAQ,SAAAC,EAQR,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,UACAC,EAMIH,EANJG,MACAC,EAKIJ,EALJI,UACAC,EAIIL,EAJJK,WACAC,EAGIN,EAHJM,KACAC,EAEIP,EAFJO,KACGC,EACCC,GAAAT,EAAA,CAAA,YAAA,QAAA,YAAA,aAAA,OAAA,MAAA,CAAA,EACEU,KAAUb,GAAA,SAAA,EACZc,EAAI,KAER,OAAIL,IAAS,SACXK,EAAI,aACKL,IAAS,UAClBK,EAAI,cAIJtB,GAAA,QAAA,cAACQ,GAAA,aAAa,SAAd,CAAuB,MAAO,CAAEU,KAAMA,GAAQG,EAAQH,IAAxB,CAA9B,EACElB,GAAA,QAAA,cAACM,GAAA,QAADiB,GAAA,CAAA,EACMJ,EADN,CAEE,aAAWhB,GAAA,SAAW,QAASU,GAApBD,EAAA,CAAA,EAAAY,GAAAZ,EAAA,GAAA,OACLU,CADK,EACCA,CADD,EAAAE,GAAAZ,EAAA,GAAA,OAELU,EAFK,GAAA,EAAA,UAEAf,GAAA,gBAAeO,CAAf,CAFA,EAE0BQ,IAAM,cAAgBR,CAFhD,EAAAU,GAAAZ,EAAA,GAAA,OAGLU,EAHK,YAAA,EAGWA,IAAM,cAAgBP,CAHjC,EAAAS,GAAAZ,EAIT,gBAAiBI,CAJR,EAAAJ,EAAA,CAFb,CAAA,CAAA,CADF,CAYH,EAEDF,GAAMe,MAAQC,GAAAA,QAEdhB,GAAMiB,KAAOC,GAAAA,QA6BblB,GAAMmB,aAAe,CAAA,SAENnB,sLC7Ef,IAAAoB,GAAAC,GAAA,IAAA,wJCAA,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAO,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACxC,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAS,aAAWP,GAAA,SAAW,YAAaI,CAAxB,CAApB,EAA4DC,CAA5D,CAAA,CACR,EAUDH,GAAKM,aAAe,CAClBC,SAAU,MADQ,SAILP,kHCrBf,IAAAQ,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,kwBAEA,IAAMK,GAAO,SAAAC,EAAuD,CAAA,IAAAC,EAApDC,EAAoDF,EAApDE,KAAMC,EAA8CH,EAA9CG,MAAOC,EAAuCJ,EAAvCI,UAAWC,EAA4BL,EAA5BK,MAAOC,EAAqBN,EAArBM,KAASC,EAAYC,GAAAR,EAAA,CAAA,OAAA,QAAA,YAAA,QAAA,MAAA,CAAA,EAClE,OAAIM,IAASG,QACXC,QAAQC,KACN,mGADF,EAKAlB,GAAA,QAAA,cAACK,GAAA,QAADc,GAAA,CAAA,EACML,EADN,CAEE,aAAWX,GAAA,SAAWQ,GAAXH,EAAA,CACTY,KAAM,CAACP,CADE,EAAAQ,GAAAb,EAAA,MAAA,OAEFC,CAFE,EAEOA,CAFP,EAAAY,GAAAb,EAAA,MAAA,OAGFI,CAHE,EAGQA,CAHR,EAAAS,GAAAb,EAAA,YAAA,OAIIE,CAJJ,EAIcA,CAJd,EAAAW,GAAAb,EAKT,YAAaK,CALJ,EAAAL,EAAA,CAFb,CAAA,CAAA,CAWH,EA+BDF,GAAKgB,aAAe,CAClBC,SAAU,MADQ,EAIpBjB,GAAKkB,KAAOA,GAAAA,eAEGlB,kHC9Df,IAAAmB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,GAAA,EACAI,GAAA,owBAEA,IAAMC,GAAc,SAAAC,EAAqD,CAAA,IAAAC,EAAlDC,EAAkDF,EAAlDE,UAAWC,EAAuCH,EAAvCG,UAAWC,EAA4BJ,EAA5BI,MAAOC,EAAqBL,EAArBK,KAASC,EAAYC,GAAAP,EAAA,CAAA,YAAA,YAAA,QAAA,MAAA,CAAA,EACvE,OACEP,GAAA,QAAA,cAACI,GAAA,QAADW,GAAA,CAAA,EACMF,EADN,CAEE,aAAWV,GAAA,SAAW,UAAWM,GAAtBD,EAAA,CACT,aAAcE,CADL,EAAAM,GAAAR,EAAA,MAAA,OAEF,IAACH,GAAA,gBAAeM,CAAf,CAAD,CAFE,EAE0BA,CAF1B,EAAAK,GAAAR,EAAA,OAAA,OAGDI,CAHC,EAGQA,CAHR,EAAAJ,EAAA,CAFb,CAAA,CAAA,CASH,EAmBDF,GAAYW,aAAe,CACzBC,SAAU,KADe,SAIZZ,kHCxCf,IAAAa,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,GAAA,EACAK,GAAA,mwBAEA,IAAMC,GAAS,SAAAC,EAqBT,CAAA,IAAAC,EApBJC,EAoBIF,EApBJE,SACAC,EAmBIH,EAnBJG,UACAC,EAkBIJ,EAlBJI,SACAC,EAiBIL,EAjBJK,MACAC,EAgBIN,EAhBJM,KACAC,EAeIP,EAfJO,SACAC,EAcIR,EAdJQ,SACAC,EAaIT,EAbJS,OACAC,EAYIV,EAZJU,MACAC,EAWIX,EAXJW,UACAC,EAUIZ,EAVJY,OACAC,EASIb,EATJa,QACAC,EAQId,EARJc,SACAC,EAOIf,EAPJe,OACAC,EAMIhB,EANJgB,WACAC,EAKIjB,EALJiB,SACAC,EAIIlB,EAJJkB,QACAC,EAGInB,EAHJmB,QACAC,EAEIpB,EAFJoB,KACGC,EACCC,GAAAtB,EAAA,CAAA,WAAA,YAAA,WAAA,QAAA,OAAA,WAAA,WAAA,SAAA,QAAA,YAAA,SAAA,UAAA,WAAA,SAAA,aAAA,WAAA,UAAA,UAAA,MAAA,CAAA,EACAuB,EAAa,CAAA,EACjB,OAAId,IACFc,EAAa,CACXC,KAAM,SACNpB,SAAU,QAFC,GAKXM,IACFa,EAAa,CACXC,KAAM,QACNpB,SAAU,QAFC,GAMXa,IACFM,EAAa,CACXnB,SAAU,MADC,GAMbZ,GAAA,QAAA,cAACK,GAAA,QAAD4B,GAAA,CACE,SAAUX,EAAW,GAAK,EAC1B,SAAUV,CAFZ,EAGMiB,EACAE,EAJN,CAKE,SAAUT,EACV,QAASA,EAAWY,OAAYP,EAChC,aAAWxB,GAAA,SAAWQ,GAAXF,EAAA,CAAA,EAAA0B,EAAA1B,EAAA,MAAA,OACFI,CADE,EACQA,CADR,EAAAsB,EAAA1B,EAAA,MAAA,OAEFK,CAFE,EAEOA,CAFP,EAAAqB,EAAA1B,EAGT,cAAee,CAHN,EAAAW,EAAA1B,EAIT,YAAagB,CAJJ,EAAAU,EAAA1B,EAKT,aAAciB,CALL,EAAAS,EAAA1B,EAMT,cAAeM,CANN,EAAAoB,EAAA1B,EAOT,cAAeO,CAPN,EAAAmB,EAAA1B,EAQT,eAAgBU,CARP,EAAAgB,EAAA1B,EAAA,MAAA,UASFH,GAAA,iBAAgBc,CAAhB,CATE,EAS0BA,CAT1B,EAAAe,EAAA1B,EAUT,aAAcY,CAVL,EAAAc,EAAA1B,EAWT,UAAWmB,CAXF,EAAAO,EAAA1B,EAAA,SAYDc,CAZC,EAAAY,EAAA1B,EAAA,SAaD,CAACc,CAbA,EAAAd,EAAA,CAPb,CAAA,EAuBGC,CAvBH,CA0BH,EAEDH,GAAO6B,MAAQC,GAAAA,QAqEf9B,GAAO+B,aAAe,CACpB1B,SAAU,QADU,SAIPL,kHCvJf,IAAAgC,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EACAM,GAAAN,GAAA,IAAA,yoBAEA,IAAMO,GAAU,SAAAC,EAOV,CAAA,IANJC,EAMID,EANJC,SACAC,EAKIF,EALJE,UACAC,EAIIH,EAJJG,UACAC,EAGIJ,EAHJI,QACAC,EAEIL,EAFJK,SACGC,EACCC,GAAAP,EAAA,CAAA,WAAA,YAAA,YAAA,UAAA,UAAA,CAAA,EACEQ,KAAUX,GAAA,SAAA,EAEVY,EAAS,SAACC,EAAU,CACxB,OACEA,EAAMC,QAAUN,GAAYO,GAAAA,WAC3BF,EAAMJ,MAAMO,QAAU,QAAUH,EAAMJ,MAAMO,QAAU,QAE1D,EAEKC,EAAkBC,GAAAA,QAAMC,SAASC,IAAIhB,EAAU,SAACS,EAAU,CAC9D,MAAI,CAACA,GAAU,CAACD,EAAOC,CAAD,GAAWA,EAAMC,OAASO,GAAAA,QACvCR,EAEFK,GAAAA,QAAMI,aAAaT,EAAO,CAC/BU,KAAMV,EAAMJ,MAAMc,MAAQZ,EAAQY,IADH,CAA1B,CAGR,CAPuB,EASlBC,EAAQN,GAAAA,QAAMC,SAASM,QAAQR,CAAvB,EACXS,OAAOd,CADI,EAEXe,OACC,SAACC,EAAKC,EAAS,CACb,MAAO,CACLC,SAAUF,EAAIE,UAAYD,EAAKpB,MAAMO,QAAU,OAC/Ce,UAAWH,EAAIG,WAAaF,EAAKpB,MAAMO,QAAU,OAF5C,CAIR,EACD,CAAEc,SAAU,GAAOC,UAAW,EAA9B,CATU,EAWd,OACErC,GAAA,QAAA,cAACI,GAAA,QAADkC,GAAA,CAAA,EACMvB,EADN,CAEE,aAAWZ,GAAA,SAAW,UAAWQ,EAAW,CAC1C,cAAeC,EACf,iBAAkBkB,EAAMM,SACxB,kBAAmBN,EAAMO,UACzB,aAAcxB,CAJ4B,CAAjC,CAFb,CAAA,EASGU,CATH,CAYH,EAgBDf,GAAQ+B,aAAe,CAAA,SAER/B,kHC7Ef,IAAAgC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAA,owBAEA,IAAMC,GAAQ,SAAAC,EASR,CAAA,IAAAC,EARJC,EAQIF,EARJE,UACAC,EAOIH,EAPJG,KACAC,EAMIJ,EANJI,MACAC,EAKIL,EALJK,SACAC,EAIIN,EAJJM,SACAC,EAGIP,EAHJO,OACAC,EAEIR,EAFJQ,QACGC,EACCC,GAAAV,EAAA,CAAA,YAAA,OAAA,QAAA,WAAA,WAAA,SAAA,SAAA,CAAA,EACEW,KAAUd,GAAA,SAAA,EACVe,EAAiBT,GAAQQ,EAAQR,KACvC,OACEX,GAAA,QAAA,cAACI,GAAA,QAADiB,GAAA,CAAA,EACMJ,EADN,CAEE,SAAUJ,GAAYC,EACtB,aAAWX,GAAA,SAAW,QAASO,GAApBD,EAAA,CACT,YAAaK,CADJ,EAAAQ,GAAAb,EAAA,MAAA,UAEFH,GAAA,iBAAgBS,CAAhB,CAFE,EAE0BA,CAF1B,EAAAO,GAAAb,EAGT,aAAcO,CAHL,EAAAM,GAAAb,EAAA,MAAA,OAIFW,CAJE,EAIiBA,CAJjB,EAAAE,GAAAb,EAAA,MAAA,OAKFG,CALE,EAKQA,CALR,EAAAH,EAAA,CAHb,CAAA,CAAA,CAYH,EAmDDF,GAAMgB,aAAe,CACnBC,SAAU,OADS,SAINjB,kHCxFf,IAAAkB,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,kwBAEA,IAAMK,GAAQ,SAAAC,EAA6C,CAAA,IAA1CC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,UAAWC,EAAqBH,EAArBG,KAASC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,MAAA,CAAA,EACnDM,KAAUR,GAAA,SAAA,EACVS,EAAiBJ,GAAQG,EAAQH,KACvC,OACEV,GAAA,QAAA,cAACI,GAAA,QAADW,GAAA,CAAA,EACMJ,EADN,CAEE,aAAWR,GAAA,SAAW,QAASM,EAApBO,GAAA,CAAA,EAAA,MAAA,OACFF,CADE,EACiBA,CADjB,CAAA,CAFb,CAAA,EAMGN,CANH,CASH,EAcDF,GAAMW,aAAe,CACnBC,SAAU,OADS,SAINZ,kHCtCf,IAAAa,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAA,owBAEA,IAAMC,GAAW,SAAAC,EAA6D,CAAA,IAAAC,EAA1DC,EAA0DF,EAA1DE,UAAWC,EAA+CH,EAA/CG,KAAMC,EAAyCJ,EAAzCI,MAAOC,EAAkCL,EAAlCK,OAAQC,EAA0BN,EAA1BM,UAAcC,EAAYC,GAAAR,EAAA,CAAA,YAAA,OAAA,QAAA,SAAA,WAAA,CAAA,EACtES,KAAUZ,GAAA,SAAA,EACVa,EAAiBP,GAAQM,EAAQN,KACvC,OACEX,GAAA,QAAA,cAACI,GAAA,QAADe,GAAA,CAAA,EACMJ,EADN,CAEE,aAAWZ,GAAA,SAAW,WAAYO,GAAvBD,EAAA,CAAA,EAAAW,GAAAX,EAAA,MAAA,UACFH,GAAA,iBAAgBO,CAAhB,CADE,EAC0BA,CAD1B,EAAAO,GAAAX,EAET,iBAAkBK,CAFT,EAAAM,GAAAX,EAAA,MAAA,OAGFS,CAHE,EAGiBA,CAHjB,EAAAE,GAAAX,EAAA,MAAA,OAIFG,CAJE,EAIQA,CAJR,EAAAH,EAAA,CAFb,CAAA,CAAA,CAUH,EAuCDF,GAASc,aAAe,CACtBC,SAAU,UADY,SAITf,kHChEf,IAAAgB,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAA,owBAEA,IAAMC,GAAS,SAAAC,EAgBT,CAAA,IAAAC,EAfJC,EAeIF,EAfJE,UACAC,EAcIH,EAdJG,QACAC,EAaIJ,EAbJI,MACAC,EAYIL,EAZJK,KACAC,EAWIN,EAXJM,MACAC,EAUIP,EAVJO,QACAC,EASIR,EATJQ,OACAC,EAQIT,EARJS,SACAC,EAOIV,EAPJU,MACAC,EAMIX,EANJW,SACAC,EAKIZ,EALJY,SACAC,EAIIb,EAJJa,KACAC,EAGId,EAHJc,OACAC,EAEIf,EAFJe,UACGC,EACCC,GAAAjB,EAAA,CAAA,YAAA,UAAA,QAAA,OAAA,QAAA,UAAA,SAAA,WAAA,QAAA,WAAA,WAAA,OAAA,SAAA,WAAA,CAAA,EACEkB,KAAUrB,GAAA,SAAA,EACVsB,EAAiBd,GAAQa,EAAQb,KAEvC,OACEb,GAAA,QAAA,cAACI,GAAA,QAAD,CACE,OAAQkB,EACR,aAAWnB,GAAA,SAAW,SAAUO,GAArBD,EAAA,CAAA,EAAAmB,GAAAnB,EAAA,MAAA,OACFkB,CADE,EACiBA,CADjB,EAAAC,GAAAnB,EAAA,MAAA,OAEFK,CAFE,EAEQA,CAFR,EAAAc,GAAAnB,EAGT,eAAgBc,CAHP,EAAAK,GAAAnB,EAIT,aAAcM,CAJL,EAAAa,GAAAnB,EAKT,cAAeU,CALN,EAAAS,GAAAnB,EAMT,aAAcE,CANL,EAAAF,EAAA,EAQX,MAAOG,CAVT,EAYEZ,GAAA,QAAA,cAACI,GAAA,QAADyB,GAAA,CAAA,EACML,EADN,CAEE,aAAWrB,GAAA,SAAAyB,GAAA,CAAA,EAAA,MAAA,UACFtB,GAAA,iBAAgBU,CAAhB,CADE,EAC0BA,CAD1B,CAAA,EAGX,SAAUG,EACV,MAAOD,EACP,SAAUD,EACV,KAAMI,CARR,CAAA,EAUGD,CAVH,CAZF,CA0BH,EAoEDb,GAAOuB,aAAe,CACpBC,SAAU,QADU,SAIPxB,kHC/Hf,IAAAyB,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAW,SAAAC,EAOX,CAAA,IANJC,EAMID,EANJC,UACAC,EAKIF,EALJE,MACAC,EAIIH,EAJJG,SACAC,EAGIJ,EAHJI,SACAC,EAEIL,EAFJK,OACGC,EACCC,GAAAP,EAAA,CAAA,YAAA,QAAA,WAAA,WAAA,QAAA,CAAA,EACJ,OACEN,GAAA,QAAA,cAACI,GAAA,QAAD,CACE,SAAS,QACT,OAAQO,EACR,SAAUF,EACV,aAAWN,GAAA,SAAW,WAAYI,CAAvB,EACX,MAAOC,CALT,EAOER,GAAA,QAAA,cAACI,GAAA,QAADU,GAAA,CAAS,KAAK,WAAW,SAAUL,CAAnC,EAAiDG,CAAjD,CAAA,EAPF,IAO8DF,CAP9D,CAUH,EAWDL,GAASU,aAAe,CACtBC,SAAU,OADY,SAITX,kHCxCf,IAAAY,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAQ,SAAAC,EAUR,CAAA,IATJC,EASID,EATJC,UACAC,EAQIF,EARJE,MACAC,EAOIH,EAPJG,SACAC,EAMIJ,EANJI,QACAC,EAKIL,EALJK,MACAC,EAIIN,EAJJM,KACAC,EAGIP,EAHJO,SACAC,EAEIR,EAFJQ,OACGC,EACCC,GAAAV,EAAA,CAAA,YAAA,QAAA,WAAA,UAAA,QAAA,OAAA,WAAA,QAAA,CAAA,EACJ,OACEN,GAAA,QAAA,cAACI,GAAA,QAAD,CACE,SAAS,QACT,OAAQU,EACR,SAAUL,EACV,aAAWN,GAAA,SAAW,QAASI,CAApB,EACX,MAAOC,CALT,EAOER,GAAA,QAAA,cAACI,GAAA,QAADa,GAAA,CAAA,EACMF,EADN,CAEE,KAAMH,EACN,QAASF,EACT,KAAK,QACL,MAAOC,EACP,SAAUF,CANZ,CAAA,CAAA,EAOG,IACFI,CAfH,CAkBH,EAgCDR,GAAMa,aAAe,CACnBC,SAAU,OADS,SAINd,kHCxEf,IAAAe,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAO,SAAAC,EAA8C,CAAA,IAA3CC,EAA2CD,EAA3CC,UAAWC,EAAgCF,EAAhCE,SAAUC,EAAsBH,EAAtBG,MAAUC,EAAYC,GAAAL,EAAA,CAAA,YAAA,WAAA,OAAA,CAAA,EACzD,OACEN,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWP,GAAA,SAAW,OAAQI,EAAnBM,GAAA,CAAA,EAAA,MAAA,OACFJ,CADE,EACQA,CADR,CAAA,CAFb,CAAA,EAMGD,CANH,CASH,EAuBDH,GAAKS,aAAe,CAClBC,SAAU,GADQ,SAILV,wXC5Cf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAC,GAAA,GAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EACAI,GAAA,uxCAEA,IAAMC,GAAY,SAAAC,EAgBZ,CAAA,IAAAC,EAfJC,EAeIF,EAfJE,UACAC,EAcIH,EAdJG,MACAC,EAaIJ,EAbJI,SACAC,EAYIL,EAZJK,MACAC,EAWIN,EAXJM,KACAC,EAUIP,EAVJO,UACAC,EASIR,EATJQ,MACAC,EAQIT,EARJS,MACAC,EAOIV,EAPJU,KACAC,EAMIX,EANJW,MACAC,EAKIZ,EALJY,KACAC,EAIIb,EAJJa,WACAC,EAGId,EAHJc,SACAC,EAEIf,EAFJe,MACGC,EACCC,GAAAjB,EAAA,CAAA,YAAA,QAAA,WAAA,QAAA,OAAA,YAAA,QAAA,QAAA,OAAA,QAAA,OAAA,aAAA,WAAA,OAAA,CAAA,EACEkB,KAAM3B,GAAA,QAAA,EACN4B,KAAUtB,GAAA,SAAA,EACVuB,EAAiBd,GAAQa,EAAQb,KAEvC,SAAAf,GAAA,WAAU,UAAM,CACT2B,EAAIG,UAGLN,EACFG,EAAIG,QAAQC,MAAQP,EAEpBG,EAAIG,QAAQN,MAAQ,GAEvB,EAAE,CAACA,CAAD,CATH,EAYExB,GAAA,QAAA,cAACK,GAAA,QAAD2B,GAAA,CACE,MAAOpB,CADT,EAEMa,EAFN,CAGE,aAAWrB,GAAA,SAAW,OAAQO,GAAnBD,EAAA,CAAA,EAAAuB,GAAAvB,EAAA,MAAA,OACFmB,CADE,EACiBA,CADjB,EAAAI,GAAAvB,EAAA,MAAA,OAEFI,CAFE,EAEQA,CAFR,EAAAmB,GAAAvB,EAAA,MAAA,UAGFH,GAAA,gBAAeU,CAAf,CAHE,EAGwBA,CAHxB,EAAAgB,GAAAvB,EAIT,WAAY,CAAC,CAACa,CAJL,EAAAU,GAAAvB,EAKT,WAAYQ,CALH,EAAAe,GAAAvB,EAMT,eAAgBM,CANP,EAAAN,EAAA,CAHb,CAAA,EAYEV,GAAA,QAAA,cAAA,QAAA,CAAO,UAAU,YAAjB,EACEA,GAAA,QAAA,cAAA,QAAAgC,GAAA,CAAA,EACMV,EADN,CAEE,KAAMH,EACN,KAAK,OACL,UAAU,aACV,SAAUN,EACV,IAAKc,CANP,CAAA,CAAA,EAQA3B,GAAA,QAAA,cAAA,OAAA,CAAM,UAAU,UAAhB,EACGqB,GAAQrB,GAAA,QAAA,cAAA,OAAA,CAAM,UAAU,WAAhB,EAA6BqB,CAA7B,EACTrB,GAAA,QAAA,cAAA,OAAA,CAAM,UAAU,YAAhB,EAA8BoB,CAA9B,CAFF,EAICG,GAAYvB,GAAA,QAAA,cAAA,OAAA,CAAM,UAAU,WAAhB,EAA6BuB,CAA7B,CAbf,CAZF,CA6BH,EAkEDf,GAAU0B,aAAe,CACvBd,MAAO,mBACPE,WAAY,CAAA,CAFW,SAKVd,w6BC7If,IAAA2B,GAAAC,GAAA,IAAA,EACAC,GAAAD,GAAA,IAAA,EACAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EACAM,GAAAN,GAAA,IAAA,EACAO,GAAAP,GAAA,IAAA,EACAQ,GAAAR,GAAA,IAAA,EACAS,GAAAT,GAAA,IAAA,wJCTA,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAM,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACjD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,MAAOK,CAAlB,CAA/B,CAAA,EACGD,CADH,CAIH,EAIDF,GAAIO,aAAe,CAAA,SAEJP,kHChBf,IAAAQ,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAQ,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACzC,OAAOL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,QAASI,CAApB,CAA/B,CAAA,CAAA,CACR,EAIDF,GAAMM,aAAe,CAAA,SAENN,kHCZf,IAAAO,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAiB,SAAAC,EAA+C,CAAA,IAA5CC,EAA4CD,EAA5CC,UAAWC,EAAiCF,EAAjCE,OAAQC,EAAyBH,EAAzBG,SAAaC,EAAYC,GAAAL,EAAA,CAAA,YAAA,SAAA,UAAA,CAAA,EACpE,OACEN,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWP,GAAA,SAAWI,EAAW,CAC/B,YAAaC,CADkB,CAAtB,CAFb,CAAA,EAMGC,CANH,CASH,EAWDJ,GAAeQ,aAAe,CAC5BC,SAAU,IADkB,SAIfT,kHChCf,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,kwBAEA,IAAMK,GAAa,SAAAC,EAOb,CAAA,IAAAC,EANJC,EAMIF,EANJE,UACAC,EAKIH,EALJG,UACAC,EAIIJ,EAJJI,KACAC,EAGIL,EAHJK,MACAC,EAEIN,EAFJM,SACGC,EACCC,GAAAR,EAAA,CAAA,YAAA,YAAA,OAAA,QAAA,UAAA,CAAA,EACJ,OACEP,GAAA,QAAA,cAACI,GAAA,QAADY,GAAA,CAAA,EACMF,EADN,CAEE,aAAWX,GAAA,SAAW,aAAcM,GAAzBD,EAAA,CAAA,EAAAS,GAAAT,EAAA,OAAA,OACDE,EADC,YAAA,EACuBA,CADvB,EAAAO,GAAAT,EAAA,MAAA,OAEFG,CAFE,EAEOA,CAFP,EAAAM,GAAAT,EAAA,MAAA,OAGFI,CAHE,EAGQA,CAHR,EAAAJ,EAAA,CAFb,CAAA,EAQER,GAAA,QAAA,cAAA,KAAA,KAAKa,CAAL,CARF,CAWH,EAEDP,GAAWY,KAAOC,GAAAA,QAgBlBb,GAAWc,aAAe,CACxBV,UAAWW,OACXC,SAAU,MACVX,KAAMU,OACNT,MAAOS,MAJiB,SAOXf,kHCnDf,IAAAiB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,6XCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAC,GAAA,GAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA;+rCAEA,IAAMG,GAAQ,SAAAC,EASR,CAAA,IAAAC,EARJC,EAQIF,EARJE,UACAC,EAOIH,EAPJG,IACAC,EAMIJ,EANJI,KACAC,EAKIL,EALJK,SACAC,EAIIN,EAJJM,QACAC,EAGIP,EAHJO,IACAC,EAEIR,EAFJQ,UACGC,EACCC,GAAAV,EAAA,CAAA,YAAA,MAAA,OAAA,WAAA,UAAA,MAAA,WAAA,CAAA,EACJW,KAA0BlB,GAAA,UAAS,CAAEc,IAAAA,CAAF,CAAT,EAA1BK,EAAAC,GAAAF,EAAA,CAAA,EAAOG,EAAPF,EAAA,CAAA,EAAcG,EAAdH,EAAA,CAAA,KACAnB,GAAA,WAAU,UAAM,CACdsB,EAAS,CAAER,IAAAA,CAAF,CAAD,CACT,EAAE,CAACA,CAAD,CAFH,EAGA,IAAIS,EAAIZ,EAER,OAAI,OAAOA,GAAS,WAClBY,EAAC,GAAA,OAAMA,EAAN,GAAA,EAAA,OAAWA,CAAX,GAGDvB,GAAA,QAAA,cAACK,GAAA,QAADmB,GAAA,CAAA,EACMR,EADN,CAEE,aAAWZ,GAAA,SAAW,QAASK,GAApBD,EAAA,CAAA,EAAAiB,GAAAjB,EAAA,MAAA,OACFe,CADE,EACIA,CADJ,EAAAE,GAAAjB,EAET,eAAgBO,CAFP,EAAAP,EAAA,CAFb,CAAA,EAOER,GAAA,QAAA,cAAA,MAAA,CACE,aAAWI,GAAA,SAAW,CACpB,aAAcS,CADM,CAAX,EAGX,QAAS,UAAM,CACb,OAAOQ,EAAMP,MAAQF,GAAYU,EAAS,CAAER,IAAKF,CAAP,CAAD,CAC1C,EACD,IAAKS,EAAMP,IACX,IAAKJ,CARP,CAAA,CAPF,CAmBH,EA4CDJ,GAAMoB,aAAe,CACnBC,SAAU,QADS,SAINrB,kHC7Ff,IAAAsB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EAEAG,GAAAH,GAAA,GAAA,sbAEA,IAAMI,GAAY,SAAAC,EAAqC,CAAA,IAAlCC,EAAkCD,EAAlCC,UAAWC,EAAuBF,EAAvBE,OAAWC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,QAAA,CAAA,EACrD,OACEN,GAAA,QAAA,cAACI,GAAA,QAAD,CAAS,OAAQI,EAAQ,aAAWN,GAAA,SAAW,aAAcK,CAAzB,CAApC,EACEP,GAAA,QAAA,cAACG,GAAA,QAAUM,CAAX,CADF,CAIH,EAIDJ,GAAUM,aAAe,CAAA,SAEVN,kHClBf,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAc,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC/C,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,eAAgBI,CAA3B,CAA/B,CAAA,CAAA,CAEH,EAIDF,GAAYM,aAAe,CAAA,SAEZN,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAkB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACnD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EACMF,EADN,CAEE,aAAWL,GAAA,SAAW,oBAAqBI,CAAhC,CAFb,CAAA,CAAA,CAKH,EAIDF,GAAgBM,aAAe,CAAA,SAEhBN,kHClBf,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAiB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAClD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,mBAAoBI,CAA/B,CAA/B,CAAA,CAAA,CAEH,EAIDF,GAAeM,aAAe,CAAA,SAEfN,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAa,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC9C,OACEP,GAAA,QAAA,cAACK,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWP,GAAA,SAAW,cAAeM,CAA1B,CAA/B,CAAA,CAAA,CAEH,EAEDF,GAAWM,MAAQC,GAAAA,QAEnBP,GAAWQ,KAAOC,GAAAA,QAIlBT,GAAWU,aAAe,CAAA,SAEXV,sLCrBf,IAAAW,GAAAC,GAAA,IAAA,wJCAA,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAiB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAClD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,mBAAoBI,CAA/B,CAA/B,CAAA,CAAA,CAEH,EAIDF,GAAeM,aAAe,CAAA,SAEfN,kHCdf,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC9C,OACEN,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,cAAeK,CAA1B,CAA/B,CAAA,CAAA,CAEH,EAEDF,GAAWM,KAAOC,GAAAA,QAIlBP,GAAWQ,aAAe,CAAA,SAEXR,sLClBf,IAAAS,GAAAC,GAAA,IAAA,wJCAA,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EAEAM,GAAAN,GAAA,GAAA,yoBAEA,IAAMO,GAAO,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,UAAWC,EAAyBF,EAAzBE,SAAaC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,UAAA,CAAA,EAClD,OACET,GAAA,QAAA,cAACO,GAAA,QAADO,GAAA,CAAS,aAAWZ,GAAA,SAAW,OAAQQ,CAAnB,CAApB,EAAuDE,CAAvD,EACGD,CADH,CAIH,EAEDH,GAAKO,MAAQC,GAAAA,QAEbR,GAAKS,QAAUC,GAAAA,QAEfV,GAAKW,OAASC,GAAAA,QAEdZ,GAAKa,OAASC,GAAAA,QAIdd,GAAKe,aAAe,CAAA,SAELf,kHC9Bf,IAAAgB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,iwBAEA,IAAMI,GAAS,SAAAC,EAaT,CAAA,IAAAC,EAZJC,EAYIF,EAZJE,SACAC,EAWIH,EAXJG,UACAC,EAUIJ,EAVJI,KACAC,EASIL,EATJK,OACAC,EAQIN,EARJM,OAQIC,EAAAP,EAPJQ,OAAAA,EAOID,IAAA,OAPK,CAAA,EAOLA,EAAAE,EAAAT,EANJU,OAAAA,EAMID,IAAA,OANK,CAAA,EAMLA,EAAAE,EAAAX,EALJY,QAAAA,EAKID,IAAA,OALM,CAAA,EAKNA,EAAAE,EAAAb,EAJJc,WAAAA,EAIID,IAAA,OAJS,CAAA,EAITA,EAAAE,EAAAf,EAHJgB,OAAAA,EAGID,IAAA,OAHK,CAAA,EAGLA,EAAAE,EAAAjB,EAFJkB,MAAAA,EAEID,IAAA,OAFI,CAAA,EAEJA,EADDE,EACCC,GAAApB,EAAA,CAAA,WAAA,YAAA,OAAA,SAAA,SAAA,SAAA,SAAA,UAAA,aAAA,SAAA,OAAA,CAAA,EACJ,OACEN,GAAA,QAAA,cAACI,GAAA,QAADuB,GAAA,CAAA,EACMF,EADN,CAEQX,OAAAA,EAAQE,OAAAA,EAAQE,QAAAA,EAASE,WAAAA,EAAYE,OAAAA,EAAQE,MAAAA,EACnD,aAAWrB,GAAA,SAAWM,EAAW,UAAtBF,EAAA,CAAA,EAAAqB,EAAArB,EAAA,MAAA,OACFG,CADE,EACOA,CADP,EAAAkB,EAAArB,EAAA,MAAA,OAEFiB,EAAMd,KAFJ,SAAA,EAEoBc,EAAMd,IAF1B,EAAAkB,EAAArB,EAAA,MAAA,OAGFO,EAAOJ,KAHL,SAAA,EAGqBI,EAAOJ,IAH5B,EAAAkB,EAAArB,EAAA,MAAA,OAIFS,EAAON,KAJL,SAAA,EAIqBM,EAAON,IAJ5B,EAAAkB,EAAArB,EAAA,MAAA,OAKFW,EAAQR,KALN,UAAA,EAKuBQ,EAAQR,IAL/B,EAAAkB,EAAArB,EAAA,MAAA,OAMFa,EAAWV,KANT,aAAA,EAM6BU,EAAWV,IANxC,EAAAkB,EAAArB,EAAA,MAAA,OAOFe,EAAOZ,KAPL,SAAA,EAOqBY,EAAOZ,IAP5B,EAAAkB,EAAArB,EAAA,aAAA,OAQKiB,EAAMb,OARX,SAAA,EAQ6Ba,EAAMb,MARnC,EAAAiB,EAAArB,EAAA,aAAA,OASKO,EAAOH,OATZ,SAAA,EAS8BG,EAAOH,MATrC,EAAAiB,EAAArB,EAAA,aAAA,OAUKS,EAAOL,OAVZ,SAAA,EAU8BK,EAAOL,MAVrC,EAAAiB,EAAArB,EAAA,aAAA,OAWKW,EAAQP,OAXb,UAAA,EAWgCO,EAAQP,MAXxC,EAAAiB,EAAArB,EAAA,aAAA,OAYKa,EAAWT,OAZhB,aAAA,EAYsCS,EAAWT,MAZjD,EAAAiB,EAAArB,EAAA,aAAA,OAaKe,EAAOX,OAbZ,SAAA,EAa8BW,EAAOX,MAbrC,EAAAiB,EAAArB,EAAA,aAAA,OAcKI,CAdL,EAcgBA,CAdhB,EAAAiB,EAAArB,EAeT,YAAaK,CAfJ,EAAAgB,EAAArB,EAgBT,kBAAmBiB,EAAMZ,MAhBhB,EAAAgB,EAAArB,EAiBT,mBAAoBO,EAAOF,MAjBlB,EAAAgB,EAAArB,EAkBT,mBAAoBS,EAAOJ,MAlBlB,EAAAgB,EAAArB,EAmBT,oBAAqBW,EAAQN,MAnBpB,EAAAgB,EAAArB,EAoBT,uBAAwBa,EAAWR,MApB1B,EAAAgB,EAAArB,EAqBT,mBAAoBe,EAAOV,MArBlB,EAAAL,EAAA,CAHb,CAAA,EA2BGC,CA3BH,CA8BH,EAwXDH,GAAOwB,aAAe,CAAA,SAEPxB,yHC7aA,CACbyB,MAAO,CACLC,cAAe,iBACfC,UAAW,aACXC,KAAM,OACNC,SAAU,YACVC,WAAY,cACZC,SAAU,YACVC,UAAW,aACXC,YAAa,eACbC,WAAY,aATP,CADM,iHCAf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAAL,GAAA,GAAA,iwBAEA,IAAMM,GAAU,SAAAC,EAeV,CAAA,IAAAC,EAdJC,EAcIF,EAdJE,UACAC,EAaIH,EAbJG,WACAC,EAYIJ,EAZJI,IACAC,EAWIL,EAXJK,UACAC,EAUIN,EAVJM,SACAC,EASIP,EATJO,UACAC,EAQIR,EARJQ,YAQIC,EAAAT,EAPJU,OAAAA,EAOID,IAAA,OAPK,CAAA,EAOLA,EAAAE,EAAAX,EANJY,OAAAA,EAMID,IAAA,OANK,CAAA,EAMLA,EAAAE,EAAAb,EALJc,QAAAA,EAKID,IAAA,OALM,CAAA,EAKNA,EAAAE,EAAAf,EAJJgB,WAAAA,EAIID,IAAA,OAJS,CAAA,EAITA,EAAAE,EAAAjB,EAHJkB,OAAAA,EAGID,IAAA,OAHK,CAAA,EAGLA,EAAAE,EAAAnB,EAFJoB,MAAAA,EAEID,IAAA,OAFI,CAAA,EAEJA,EADDE,EACCC,GAAAtB,EAAA,CAAA,YAAA,aAAA,MAAA,YAAA,WAAA,YAAA,cAAA,SAAA,SAAA,UAAA,aAAA,SAAA,OAAA,CAAA,EACJ,OACER,GAAA,QAAA,cAACM,GAAA,QAADyB,GAAA,CAAA,EACMF,EADN,CAEQX,OAAAA,EAAQE,OAAAA,EAAQE,QAAAA,EAASE,WAAAA,EAAYE,OAAAA,EAAQE,MAAAA,EACnD,aAAWzB,GAAA,SAAWO,EAAW,WAAtBD,EAAA,CAAA,EAAAuB,EAAAvB,EAAA,MAAA,OACFE,CADE,EACaA,CADb,EAAAqB,EAAAvB,EAAA,MAAA,OAEFG,CAFE,EAEMA,IAAQqB,MAFd,EAAAD,EAAAvB,EAGT,eAAgBI,CAHP,EAAAmB,EAAAvB,EAIT,cAAeK,CAJN,EAAAkB,EAAAvB,EAKT,eAAgBM,CALP,EAAAiB,EAAAvB,EAMT,cACEG,IAAQqB,QACR,CAACL,EAAOV,EAAQE,EAAQE,EAASE,EAAYE,CAA7C,EAAqDQ,KAAK,SAACC,EAAM,CAC/D,OAAOA,EAAEvB,MAAQqB,MAClB,CAFD,CARO,EAAAD,EAAAvB,EAAA,MAAA,OAWFmB,EAAMhB,IAXJ,QAAA,EAWkBgB,EAAMhB,MAAQqB,MAXhC,EAAAD,EAAAvB,EAAA,MAAA,OAYFS,EAAON,IAZL,SAAA,EAYoBM,EAAON,MAAQqB,MAZnC,EAAAD,EAAAvB,EAAA,MAAA,OAaFW,EAAOR,IAbL,SAAA,EAaoBQ,EAAOR,MAAQqB,MAbnC,EAAAD,EAAAvB,EAAA,MAAA,OAcFa,EAAQV,IAdN,UAAA,EAcsBU,EAAQV,MAAQqB,MAdtC,EAAAD,EAAAvB,EAAA,MAAA,OAeFe,EAAWZ,IAfT,aAAA,EAe4BY,EAAWZ,MAAQqB,MAf/C,EAAAD,EAAAvB,EAAA,MAAA,OAgBFiB,EAAOd,IAhBL,SAAA,EAgBoBc,EAAOd,MAAQqB,MAhBnC,EAAAxB,EAAA,CAHb,CAAA,CAAA,CAuBH,EAEDF,GAAQ6B,OAASA,GAAAA,QAEjB7B,GAAQ8B,UAAYC,GAAAA,QAuFpB/B,GAAQgC,aAAe,CACrB1B,UAAW,EADU,SAIRN,kHC/If,IAAAiC,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAY,SAAAC,EAAwD,CAAA,IAArDC,EAAqDD,EAArDC,SAAUC,EAA2CF,EAA3CE,IAAKC,EAAsCH,EAAtCG,WAAYC,EAA0BJ,EAA1BI,UAAcC,EAAYC,GAAAN,EAAA,CAAA,WAAA,MAAA,aAAA,WAAA,CAAA,EAClEO,EAAY,CAAC,UAAW,YAAZ,EAA0BC,SAASL,CAAnC,EAClB,OACET,GAAA,QAAA,cAACI,GAAA,QAADW,GAAA,CAAA,EACMJ,EADN,CAEE,aAAWR,GAAA,SAAW,YAAaO,EAAxBM,GAAA,CAAA,EAAA,MAAA,OACFH,GAAaL,EAAM,OAAS,EAD1B,EAAA,OAC+BC,CAD/B,EAC8CA,CAD9C,CAAA,CAFb,CAAA,EAMGF,CANH,CASH,EAoBDF,GAAUY,aAAe,CAAA,SAEVZ,kHCxCf,IAAAa,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAU,SAAAC,EAA6C,CAAA,IAA1CC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,UAAWC,EAAqBH,EAArBG,KAASC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,MAAA,CAAA,EAC3D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWP,GAAA,SAAW,UAAWK,EAAtBK,GAAA,CAAA,EAAA,MAAA,OACFJ,CADE,EACOA,CADP,CAAA,CAFb,CAAA,EAMGF,CANH,CASH,EASDF,GAAQS,aAAe,CAAA,SAERT,kHC5Bf,IAAAU,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAS,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC1C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,SAAUI,CAArB,CAA/B,CAAA,CAAA,CACR,EAUDF,GAAOM,aAAe,CACpBC,SAAU,QADU,SAIPP,kHCtBf,IAAAQ,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAU,SAAAC,EASV,CAAA,IAAAC,EARJC,EAQIF,EARJE,SACAC,EAOIH,EAPJG,UACAC,EAMIJ,EANJI,KACAC,EAKIL,EALJK,SACAC,EAIIN,EAJJM,OACAC,EAGIP,EAHJO,OACAC,EAEIR,EAFJQ,QACGC,EACCC,GAAAV,EAAA,CAAA,WAAA,YAAA,OAAA,WAAA,SAAA,SAAA,SAAA,CAAA,EACJ,OACEN,GAAA,QAAA,cAACI,GAAA,QAADa,GAAA,CAAA,EACMF,EADN,CAEE,aAAWZ,GAAA,SAAWM,GAAXF,EAAA,CACTW,MAAO,CAACP,GAAY,CAACG,EACrBH,SAAAA,EACAG,QAAAA,CAHS,EAAAK,GAAAZ,EAAA,MAAA,OAIFG,CAJE,EAIOA,CAJP,EAAAS,GAAAZ,EAAA,mBAAA,OAKWK,CALX,EAKsBA,CALtB,EAAAO,GAAAZ,EAMT,YAAaM,GAAU,CAACF,CANf,EAAAJ,EAAA,CAFb,CAAA,EAWGC,CAXH,CAcH,EAmBDH,GAAQe,aAAe,CACrBC,SAAU,IADW,SAIRhB,kHCtDf,IAAAiB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC9C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAWI,EAAW,WAAtB,CAA/B,CAAA,CAAA,CACR,EAUDF,GAAWM,aAAe,CACxBC,SAAU,QADc,SAIXP,kHCtBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAW,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC5C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAWI,EAAW,WAAtB,CAA/B,CAAA,CAAA,CACR,EAEDF,GAASM,aAAe,CACtBC,SAAU,KADY,SAYTP,kHCtBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC9C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAWI,EAAW,WAAtB,CAA/B,CAAA,CAAA,CACR,EAUDF,GAAWM,aAAe,CACxBC,SAAU,QADc,SAIXP,kHCtBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EAEAM,GAAAN,GAAA,GAAA,kwBAEA,IAAMO,GAAO,SAAAC,EAQP,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,SACAC,EAMIH,EANJG,UACAC,EAKIJ,EALJI,MACAC,EAIIL,EAJJK,SACAC,EAGIN,EAHJM,KACAC,EAEIP,EAFJO,UACGC,EACCC,GAAAT,EAAA,CAAA,WAAA,YAAA,QAAA,WAAA,OAAA,WAAA,CAAA,EACJ,OACET,GAAA,QAAA,cAACO,GAAA,QAADY,GAAA,CAAA,EACMF,EADN,CAEE,aAAWd,GAAA,SAAW,OAAQS,GAAnBF,EAAA,CAAA,EAAAU,GAAAV,EAAA,MAAA,OACFG,CADE,EACQA,CADR,EAAAO,GAAAV,EAAA,MAAA,OAEFK,CAFE,EAEOA,GAAQ,CAACC,CAFhB,EAAAI,GAAAV,EAGT,UAAWI,CAHF,EAAAM,GAAAV,EAIT,4BAA6BM,CAJpB,EAAAN,EAAA,CAFb,CAAA,EASGC,CATH,CAYH,EAEDH,GAAKa,OAASC,GAAAA,QAEdd,GAAKe,KAAOC,GAAAA,QAEZhB,GAAKiB,OAASC,GAAAA,QA6BdlB,GAAKmB,aAAe,CAClBC,SAAU,SADQ,SAILpB,kHCtEf,IAAAqB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAY,SAAAC,EAAoC,CAAA,IAAjCC,EAAiCD,EAAjCC,UAAWC,EAAsBF,EAAtBE,MAAUC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,OAAA,CAAA,EACpD,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EACMF,EADN,CAEE,aAAWN,GAAA,SAAWI,EAAXK,GAAA,CAAA,EAAA,SAAA,OACCJ,CADD,EACWA,CADX,CAAA,CAFb,CAAA,CAAA,CAOH,EAMDH,GAAUQ,aAAe,CACvBL,MAAO,MADgB,SAIVH,kHCzBf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAY,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACvD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,aAAcK,EAAW,CAAA,CAApC,CAA/B,CAAA,EACGD,CADH,CAIH,KAIcF,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAAL,GAAA,GAAA,kwBAEA,IAAMM,GAAQ,SAAAC,EAAmD,CAAA,IAAhDC,EAAgDD,EAAhDC,SAAUC,EAAsCF,EAAtCE,UAAWC,EAA2BH,EAA3BG,WAAeC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,YAAA,CAAA,EAC/D,OACER,GAAA,QAAA,cAACM,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWT,GAAA,SAAW,QAASO,EAApBK,GAAA,CAAA,EAAA,MAAA,OACFJ,CADE,EACaA,CADb,CAAA,CAFb,CAAA,EAMGF,CANH,CASH,EAEDF,GAAMS,KAAOC,GAAAA,QAEbV,GAAMW,KAAOC,GAAAA,QAWbZ,GAAMa,aAAe,CACnBC,SAAU,KADS,SAINd,kHCtCf,IAAAe,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAY,SAAAC,EAA8C,CAAA,IAA3CC,EAA2CD,EAA3CC,SAAUC,EAAiCF,EAAjCE,UAAWC,EAAsBH,EAAtBG,MAAUC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,OAAA,CAAA,EACxDM,EAAIH,IAAU,SAAW,UAAYA,EAC3C,OACET,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CAAA,EACMH,EADN,CAEE,aAAWP,GAAA,SAAWK,EAAXM,GAAA,CAAA,EAAA,SAAA,OACCF,CADD,EACOA,CADP,CAAA,CAFb,CAAA,EAMGL,CANH,CASH,EAMDF,GAAUU,aAAe,CACvBN,MAAO,QADgB,SAIVJ,kHC5Bf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAQ,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACnD,OACEP,GAAA,QAAA,cAACK,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWP,GAAA,SAAW,QAASM,EAAW,CAAA,CAA/B,CAA/B,CAAA,EACGD,CADH,CAIH,EAEDF,GAAMO,KAAOC,GAAAA,QAUbR,GAAMS,aAAe,CACnBC,SAAU,SADS,SAINV,kHC9Bf,IAAAW,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAe,SAAAC,EAA2C,CAAA,IAAAC,EAAxCC,EAAwCF,EAAxCE,UAAWC,EAA6BH,EAA7BG,MAAOC,EAAsBJ,EAAtBI,MAAUC,EAAYC,GAAAN,EAAA,CAAA,YAAA,QAAA,OAAA,CAAA,EAC9D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CAAA,EACMF,EADN,CAEE,aAAWR,GAAA,SACT,gBADSI,EAAA,CAAA,EAAAO,GAAAP,EAAA,MAAA,OAGAE,CAHA,EAGUA,CAHV,EAAAK,GAAAP,EAIP,WAAYG,CAJL,EAAAH,GAMTC,CANS,CAFb,CAAA,CAAA,CAYH,KAmBcH,kHCvCf,IAAAU,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAW,SAAAC,EAAsD,CAAA,IAAAC,EAAnDC,EAAmDF,EAAnDE,UAAWC,EAAwCH,EAAxCG,MAAOC,EAAiCJ,EAAjCI,IAAKC,EAA4BL,EAA5BK,MAAOC,EAAqBN,EAArBM,KAASC,EAAYC,GAAAR,EAAA,CAAA,YAAA,QAAA,MAAA,QAAA,MAAA,CAAA,EACrE,OACEN,GAAA,QAAA,cAACI,GAAA,QAADW,GAAA,CAAA,EACMF,EADN,CAEE,MAAOJ,EACP,IAAKC,EACL,aAAWP,GAAA,SAAW,WAAYK,GAAvBD,EAAA,CAAA,EAAAS,GAAAT,EAAA,MAAA,OACFI,CADE,EACQA,CADR,EAAAK,GAAAT,EAAA,MAAA,OAEFK,CAFE,EAEOA,CAFP,EAAAL,EAAA,CAJb,CAAA,CAAA,CAUH,EA6BDF,GAASY,aAAe,CACtBC,SAAU,UADY,SAITb,kHCnDf,IAAAc,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAU,SAAAC,EAA6C,CAAA,IAA1CC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,UAAWC,EAAqBH,EAArBG,KAASC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,MAAA,CAAA,EAC3D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWP,GAAA,SAAW,UAAWK,EAAtBK,GAAA,CAAA,EAAA,MAAA,OACFJ,CADE,EACOA,CADP,CAAA,CAFb,CAAA,EAMGF,CANH,CASH,EAcDF,GAAQS,aAAe,CACrBC,SAAU,SADW,SAIRV,kHCnCf,IAAAW,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,sbAEA,IAAMI,GAAM,SAAAC,EAA8D,CAAA,IAA3DC,EAA2DD,EAA3DC,SAAUC,EAAiDF,EAAjDE,UAAWC,EAAsCH,EAAtCG,MAAOC,EAA+BJ,EAA/BI,OAAQC,EAAuBL,EAAvBK,OAAWC,EAAYC,GAAAP,EAAA,CAAA,WAAA,YAAA,QAAA,SAAA,QAAA,CAAA,EACxE,OACEN,GAAA,QAAA,cAAA,KAAA,CACE,IAAKW,EACL,MAAOF,EACP,aAAWN,GAAA,SAAWK,EAAW,CAC/B,YAAaE,CADkB,CAAtB,CAHb,EAOEV,GAAA,QAAA,cAACI,GAAA,QAAYQ,EAAQL,CAArB,CAPF,CAUH,EAWDF,GAAIS,aAAe,CACjBC,SAAU,GADO,SAIJV,kHCjCf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,EACAK,GAAA,owBAEA,IAAMC,GAAO,SAAAC,EAQP,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,SACAC,EAMIH,EANJG,UACAC,EAKIJ,EALJI,MACAC,EAIIL,EAJJK,KACAC,EAGIN,EAHJM,KACAC,EAEIP,EAFJO,UACGC,EACCC,GAAAT,EAAA,CAAA,WAAA,YAAA,QAAA,OAAA,OAAA,WAAA,CAAA,EACJ,OACER,GAAA,QAAA,cAACK,GAAA,QAADa,GAAA,CAAA,EACMF,EADN,CAEE,aAAWb,GAAA,SAAW,OAAQQ,GAAnBF,EAAA,CAAA,EAAAU,GAAAV,EAAA,MAAA,UACFH,GAAA,gBAAeM,CAAf,CADE,EACwBA,CADxB,EAAAO,GAAAV,EAAA,MAAA,OAEFI,CAFE,EAEOA,CAFP,EAAAM,GAAAV,EAIT,YAAaK,IAAS,gBAJb,EAAAK,GAAAV,EAAA,MAAA,OAKFK,CALE,EAKOA,CALP,EAAAK,GAAAV,EAMT,eAAgBM,CANP,EAAAN,EAAA,CAFb,CAAA,EAWET,GAAA,QAAA,cAAA,KAAA,KAAKU,CAAL,CAXF,CAcH,EAEDH,GAAKa,IAAMA,GAAAA,eAaIb,kHC/Cf,IAAAc,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAiB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAClD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,kBAAmBI,CAA9B,CAA/B,CAAA,CAAA,CAEH,EAIDF,GAAeM,aAAe,CAAA,SAEfN,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,EACAI,GAAAJ,GAAA,IAAA,kwBAEA,IAAMK,GAAQ,SAAAC,EAQR,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,SACAC,EAMIH,EANJG,UACAC,EAKIJ,EALJI,KACAC,EAIIL,EAJJK,QACAC,EAGIN,EAHJM,SACAC,EAEIP,EAFJO,UACGC,EACCC,GAAAT,EAAA,CAAA,WAAA,YAAA,OAAA,UAAA,WAAA,WAAA,CAAA,EACJ,OACEP,GAAA,QAAA,cAACI,GAAA,QAADa,GAAA,CAAA,EACMF,EADN,CAEE,SAAS,QACT,aAAWZ,GAAA,SAAW,QAASO,GAApBF,EAAA,CAAA,EAAAU,GAAAV,EAAA,MAAA,OACFG,CADE,EACOA,CADP,EAAAO,GAAAV,EAET,cAAeK,CAFN,EAAAK,GAAAV,EAGT,aAAcI,CAHL,EAAAM,GAAAV,EAIT,eAAgBM,CAJP,EAAAN,EAAA,CAHb,CAAA,EAUGC,CAVH,CAaH,EASDH,GAAMa,aAAe,CAAA,EAErBb,GAAMc,UAAYA,GAAAA,eAEHd,kHC3Cf,IAAAe,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAW,SAAAC,EAA2D,CAAA,IAAxDC,EAAwDD,EAAxDC,SAAUC,EAA8CF,EAA9CE,UAAWC,EAAmCH,EAAnCG,QAASC,EAA0BJ,EAA1BI,UAAcC,EAAYC,GAAAN,EAAA,CAAA,WAAA,YAAA,UAAA,WAAA,CAAA,EAC1E,OACEN,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CAAA,EACMF,EADN,CAEE,aAAWR,GAAA,SAAW,OAAQK,EAAW,CACvC,aAAcC,GAAWC,CADc,CAA9B,CAFb,CAAA,EAMGH,CANH,CASH,EAeDF,GAASS,aAAe,CACtBC,SAAU,MADY,SAITV,kHCpCf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,GAAA,kwBAEA,IAAMK,GAAM,SAAAC,EAQN,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,SACAC,EAMIH,EANJG,UACAC,EAKIJ,EALJI,MACAC,EAIIL,EAJJK,KACAC,EAGIN,EAHJM,QACAC,EAEIP,EAFJO,OACGC,EACCC,GAAAT,EAAA,CAAA,WAAA,YAAA,QAAA,OAAA,UAAA,QAAA,CAAA,EACJ,OACEP,GAAA,QAAA,cAACK,GAAA,QAADY,GAAA,CAAA,EACMF,EADN,CAEE,aAAWZ,GAAA,SAAW,MAAOO,GAAlBF,EAAA,CAAA,EAAAU,GAAAV,EAAA,MAAA,OACFI,CADE,EACOA,CADP,EAAAM,GAAAV,EAAA,MAAA,OAEFG,CAFE,EAEQA,CAFR,EAAAO,GAAAV,EAGT,aAAcK,CAHL,EAAAK,GAAAV,EAIT,YAAaM,CAJJ,EAAAN,EAAA,CAFb,CAAA,EASG,CAACM,GAAUL,CATd,CAYH,EAEDH,GAAIa,MAAQC,GAAAA,QA6BZd,GAAIe,aAAe,CACjBC,SAAU,MADO,SAIJhB,kHChEf,IAAAiB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAO,SAAAC,EAQP,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,SACAC,EAMIH,EANJG,UACAC,EAKIJ,EALJI,KACAC,EAIIL,EAJJK,SACAC,EAGIN,EAHJM,KACAC,EAEIP,EAFJO,MACGC,EACCC,GAAAT,EAAA,CAAA,WAAA,YAAA,OAAA,WAAA,OAAA,OAAA,CAAA,EACJ,OACEN,GAAA,QAAA,cAACI,GAAA,QAADY,GAAA,CAAA,EACMF,EADN,CAEE,aAAWX,GAAA,SAAW,OAAQM,GAAnBF,EAAA,CAAA,EAAAU,GAAAV,EAAA,MAAA,OACFG,CADE,EACOA,CADP,EAAAO,GAAAV,EAAA,MAAA,OAEFK,CAFE,EAEOA,CAFP,EAAAK,GAAAV,EAAA,MAAA,OAGFM,CAHE,EAGQA,CAHR,EAAAI,GAAAV,EAIT,cAAeI,CAJN,EAAAJ,EAAA,CAFb,CAAA,EASGC,CATH,CAYH,KAYcH,kHCxCf,IAAAa,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAe,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EAC1D,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,gBAAiBK,CAA5B,CAA/B,CAAA,EACGD,CADH,CAIH,KAIcF,wYCff,IAAAO,GAAAC,GAAA,UAAA,qhBAEO,IAAMC,GAAeC,GAAAA,QAAMC,cAAc,CAC9CC,QAAS,UAAM,CAAE,CAD6B,CAApB,qBAI5B,IAAMC,GAAkB,UAAM,CAC5B,SAAON,GAAA,YAAWE,EAAX,CACR,KAEcI,kHCVf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,EACAK,GAAAL,GAAA,IAAA,yoBAEA,IAAMM,GAAgB,SAAAC,EAAkD,CAAA,IAA/CC,EAA+CD,EAA/CC,SAAUC,EAAqCF,EAArCE,UAAWC,EAA0BH,EAA1BG,UAAcC,EAAYC,GAAAL,EAAA,CAAA,WAAA,YAAA,WAAA,CAAA,EACtEM,KAAoBR,GAAA,SAAA,EAAZS,EAARD,EAAQC,QACR,OACEf,GAAA,QAAA,cAACK,GAAA,QAADW,GAAA,CAAA,EAAaJ,EAAb,CAAoB,aAAWT,GAAA,SAAW,kBAAmBO,CAA9B,CAA/B,CAAA,EACGD,EACAE,GAAaX,GAAA,QAAA,cAACI,GAAA,QAAD,CAAQ,OAAM,GAAC,QAASW,CAAxB,CAAA,CAFhB,CAKH,EAcDR,GAAcU,aAAe,CAC3BN,UAAW,GACXO,SAAU,QAFiB,SAKdX,kHCpCf,IAAAY,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAgB,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EAC3D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,kBAAmBK,CAA9B,CAA/B,CAAA,EACGD,CADH,CAIH,EAUDF,GAAcO,aAAe,CAC3BC,SAAU,SADiB,SAIdR,kHCzBf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAgB,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EAC3D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,kBAAmBK,CAA9B,CAA/B,CAAA,EACGD,CADH,CAIH,EAUDF,GAAcO,aAAe,CAC3BC,SAAU,QADiB,SAIdR,kHC1Bf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAiB,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EAC5D,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,mBAAoBK,CAA/B,CAA/B,CAAA,EACGD,CADH,CAIH,EAUDF,GAAeO,aAAe,CAC5BC,SAAU,GADkB,SAIfR,kHC1Bf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EAEAM,GAAAN,GAAA,GAAA,yoBAEA,IAAMO,GAAY,SAAAC,EAAgD,CAAA,IAA7CC,EAA6CD,EAA7CC,UAAWC,EAAkCF,EAAlCE,QAASC,EAAyBH,EAAzBG,SAAaC,EAAYC,GAAAL,EAAA,CAAA,YAAA,UAAA,UAAA,CAAA,EAChE,OACET,GAAA,QAAA,cAACO,GAAA,QAADQ,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWX,GAAA,SAAW,aAAcQ,CAAzB,CAA/B,CAAA,EACGE,CADH,CAIH,EAEDJ,GAAUQ,OAASC,GAAAA,QAEnBT,GAAUU,KAAOC,GAAAA,QAEjBX,GAAUY,OAASC,GAAAA,QAEnBb,GAAUc,MAAQC,GAAAA,QAIlBf,GAAUgB,aAAe,CAAA,SAEVhB,kHC9Bf,IAAAiB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,6XCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAA,KACAC,GAAAN,GAAA,GAAA;+rCAEA,IAAMO,GAAW,CACfC,OAAQ,EADO,EAIXC,GAAQ,SAAAC,EAUR,CAAA,IATJC,EASID,EATJC,OACAC,EAQIF,EARJE,SACAC,EAOIH,EAPJG,UACAC,EAMIJ,EANJI,KACAC,EAKIL,EALJK,YACAC,EAIIN,EAJJM,UACAC,EAGIP,EAHJO,QACAC,EAEIR,EAFJQ,WACGC,EACCC,GAAAV,EAAA,CAAA,SAAA,WAAA,YAAA,OAAA,cAAA,YAAA,UAAA,YAAA,CAAA,EACEW,KAAMxB,GAAA,QAAOc,CAAP,EACZW,KAA8CzB,GAAA,UAAA,EAA9C0B,EAAAC,GAAAF,EAAA,CAAA,EAAOG,EAAPF,EAAA,CAAA,EAAwBG,EAAxBH,EAAA,CAAA,EA2BA,SAzBA1B,GAAA,WAAU,UAAM,CACd,GAAKiB,EAGL,KAAMa,EAAMR,EAAMS,UAAYA,SACxBC,EAAYF,EAAIG,cAAc,KAAlB,EAClBD,EAAUE,aAAa,QAAS,iBAAhC,EACAJ,EAAIK,KAAKC,YAAYJ,CAArB,EACAH,EAAmBG,CAAD,EAElB,IAAMK,EAAgB,SAACC,EAAQ,CACzBA,EAAIC,UAAY7B,GAASC,QAAUM,GACrCG,EAAO,CAEV,EAED,OAAIC,GACFS,EAAIU,iBAAiB,UAAWH,CAAhC,EAEK,UAAM,CACXP,EAAIW,oBAAoB,UAAWJ,CAAnC,EACAL,EAAUU,WAAWC,YAAYX,CAAjC,CACD,EACF,EAAE,CAACf,CAAD,CAvBH,EAyBKW,EAIEgB,GAAAA,QAASC,aACd7C,GAAA,QAAA,cAACQ,GAAA,aAAa,SAAd,CAAuB,MAAO,CAAEY,QAAAA,CAAF,CAA9B,EACEpB,GAAA,QAAA,cAACS,GAAA,QAAD,CACE,OAAQe,EACR,aAAWnB,GAAA,SAAW,QAASW,EAAW,CACxC,YAAaC,CAD2B,CAA/B,CAFb,EAMEjB,GAAA,QAAA,cAAA,MAAA,CACE,KAAK,eACL,UAAU,mBACV,QAASkB,EAAcE,EAAU0B,MAHnC,CAAA,EAKC/B,EACAI,GACCnB,GAAA,QAAA,cAAA,SAAA,CACE,KAAK,SACL,QAASoB,EACT,UAAU,uBACV,aAAW,OAJb,CAAA,CAbJ,CADF,EAuBAQ,CAxBK,EAHE,IA6BV,EAEDhB,GAAMmC,QAAUC,GAAAA,QAChBpC,GAAMqC,KAAOC,GAAAA,QAYbtC,GAAMuC,aAAe,CACnB9B,WAAY,GACZF,UAAW,GAEXY,SAAUe,MAJS,SAONlC,kHC1Gf,IAAAwC,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAe,SAAAC,EAAsD,CAAA,IAAnDC,EAAmDD,EAAnDC,OAAQC,EAA2CF,EAA3CE,SAAUC,EAAiCH,EAAjCG,MAAOC,EAA0BJ,EAA1BI,UAAcC,EAAYC,GAAAN,EAAA,CAAA,SAAA,WAAA,QAAA,WAAA,CAAA,EACzE,OACEN,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CACE,MAAOJ,CADT,EAEME,EAFN,CAGE,KAAK,eACL,aAAWR,GAAA,SAAWO,EAAW,gBAAiB,CAChD,YAAaH,CADmC,CAAvC,CAJb,CAAA,EAQGC,CARH,CAWH,EAkBDH,GAAaS,aAAe,CAAA,SAEbT,kHCvCf,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAkB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACnD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,mBAAoBI,CAA/B,CAA/B,CAAA,CAAA,CAEH,EAIDF,GAAgBM,aAAe,CAC7BC,SAAU,IADmB,SAIhBP,wXCjBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAC,GAAA,GAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAAL,GAAA,GAAA;+rCAEA,IAAMM,GAAW,SAAAC,EAgBX,CAAA,IAfJC,EAeID,EAfJC,UACAC,EAcIF,EAdJE,SACAC,EAaIH,EAbJG,MACAC,EAYIJ,EAZJI,MACAC,EAWIL,EAXJK,MACAC,EAUIN,EAVJM,MACAC,EASIP,EATJO,GACAC,EAQIR,EARJQ,UACAC,EAOIT,EAPJS,MACAC,EAMIV,EANJU,SACAC,EAKIX,EALJW,cACAC,EAIIZ,EAJJY,KACAC,EAGIb,EAHJa,OACAC,EAEId,EAFJc,SACGC,EACCC,GAAAhB,EAAA,CAAA,YAAA,WAAA,QAAA,QAAA,QAAA,QAAA,KAAA,YAAA,QAAA,WAAA,gBAAA,OAAA,SAAA,UAAA,CAAA,EACEiB,KAAM3B,GAAA,QAAOuB,CAAP,EACZK,KAA4B5B,GAAA,UAAS,EAAT,EAA5B6B,EAAAC,GAAAF,EAAA,CAAA,EAAOG,EAAPF,EAAA,CAAA,EAAeG,EAAfH,EAAA,CAAA,EACMI,EAAQ,SAACC,EAAQ,CAInBhB,GACCgB,GAAOP,GAAOA,EAAIQ,SAAWR,EAAIQ,QAAQC,SAASF,EAAIG,MAAzB,GAI5BV,EAAIQ,SACNH,EAAU,EAAD,CAEZ,EAEKM,EAAW,SAACC,EAAkB,CAClC,OAAO,UAAM,CACPnB,GACFA,EAASmB,CAAD,EAENlB,GACFY,EAAK,CAER,CACF,KAEDjC,GAAA,WAAU,UAAM,CACdwC,cAAOC,iBAAiB,QAASR,CAAjC,EACO,UAAM,CACXO,OAAOE,oBAAoB,QAAST,CAApC,CACD,CACF,EAAE,CAAA,CALH,EAOA,IAAIE,EAAUhB,EAERwB,EAAgBC,GAAAA,QAAMC,SAASC,IAAIlC,EAAU,SAACmC,EAAOC,EAAM,CAC/D,OACED,EAAME,OAASC,GAAAA,UACbF,IAAM,GAAK,CAAC7B,GAAU4B,EAAMtB,MAAMZ,QAAUA,KAE9CsB,EAAUY,EAAMtB,MAAMb,UAEjBgC,GAAAA,QAAMO,aACXJ,EACAA,EAAME,OAASC,GAAAA,QACX,CACEE,OAAQL,EAAMtB,MAAMZ,QAAUA,EAC9BwC,QAASf,EAASS,EAAMtB,MAAMZ,KAAb,CAFnB,EAIA,CAAA,CAPC,CASR,CAhBqB,EAkBtB,OACEb,GAAA,QAAA,cAACQ,GAAA,QAAD8C,GAAA,CAAA,EACM7B,EADN,CAEE,OAAQE,EACR,aAAWvB,GAAA,SAAW,WAAYO,EAAW,CAC3C,YAAaoB,EACb,QAASd,EACT,WAAYD,GAASD,IAAU,QAC/B,eAAgBG,CAJ2B,CAAlC,CAHb,CAAA,EAUElB,GAAA,QAAA,cAAA,MAAA,CACE,UAAU,mBACV,KAAK,eACL,QAAS,UAAM,CACTwB,GAGJQ,EAAU,SAACuB,EAAS,CAClB,MAAO,CAACA,CACT,CAFQ,CAGV,CAVH,EAYEvD,GAAA,QAAA,cAACO,GAAA,QAAD,CAAQ,SAAUiB,EAAU,MAAOV,CAAnC,EACEd,GAAA,QAAA,cAAA,OAAA,KAAOmC,CAAP,EACCb,CAFH,CAZF,EAiBAtB,GAAA,QAAA,cAAA,MAAA,CAAK,UAAU,gBAAgB,GAAG,gBAAgB,KAAK,MAAvD,EACEA,GAAA,QAAA,cAAA,MAAA,CAAK,UAAU,kBAAf,EAAmC2C,CAAnC,CADF,CA3BF,CAgCH,EAEDlC,GAAS+C,KAAON,GAAAA,QAEhBzC,GAASgD,QAAUC,GAAAA,QAgEnBjD,GAASkD,aAAe,CACtBtC,cAAe,EADO,SAITZ,kHCzLf,IAAAmD,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAS,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACpD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,SAAUK,CAArB,CAA/B,CAAA,EACGD,CADH,CAIH,KAIcF,kHCff,IAAAO,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAc,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,UAAWC,EAAyBF,EAAzBE,SAAaC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,UAAA,CAAA,EACzD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,eAAgBI,CAA3B,CAA/B,CAAA,EACGC,CADH,CAIH,EAIDH,GAAYO,aAAe,CAAA,SAEZP,sHCjBf,IAAAQ,GAAAC,GAAA,UAAA,sDAEO,IAAMC,GAAcC,GAAAA,QAAMC,cAAc,EAApB,qHCF3B,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAA,KAEAC,GAAAH,GAAA,GAAA,g0CAEA,IAAMI,GAAe,SAAAC,EAAoC,CAAA,IAAjCC,EAAiCD,EAAjCC,MAAOC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,QAAA,WAAA,CAAA,EACvD,OACEN,GAAA,QAAA,cAACG,GAAA,YAAY,SAAb,KACG,SAACQ,EAAW,CACX,OACEX,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CACE,KAAK,SACL,SAAS,IACT,MAAKC,GAAA,CAAIC,QAAS,MAAb,EAAwBP,CAAxB,EACL,aAAWL,GAAA,SAAW,gBAAiBM,EAAW,CAChD,YAAaG,CADmC,CAAvC,CAJb,EAOMF,CAPN,EASET,GAAA,QAAA,cAAA,OAAA,IAAA,EACAA,GAAA,QAAA,cAAA,OAAA,IAAA,EACAA,GAAA,QAAA,cAAA,OAAA,IAAA,CAXF,CAcH,CAjBH,CAoBH,EAIDK,GAAaU,aAAe,CAAA,SAEbV,kHCnCf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAA,KAEAC,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,UAAWC,EAAyBF,EAAzBE,SAAaC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,UAAA,CAAA,EACxD,OACEN,GAAA,QAAA,cAACG,GAAA,YAAY,SAAb,KACG,SAACQ,EAAW,CACX,OACEX,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMH,EADN,CAEE,aAAWP,GAAA,SAAW,cAAeK,EAAW,CAC9C,YAAaI,CADiC,CAArC,CAFb,CAAA,EAMGH,CANH,CASH,CAZH,CAeH,EAIDH,GAAWQ,aAAe,CAAA,SAEXR,kHC9Bf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAiB,SAAAC,EAAqD,CAAA,IAAlDC,EAAkDD,EAAlDC,UAAWC,EAAuCF,EAAvCE,MAAOC,EAAgCH,EAAhCG,MAAOC,EAAyBJ,EAAzBI,SAAaC,EAAYC,GAAAN,EAAA,CAAA,YAAA,QAAA,QAAA,UAAA,CAAA,EAC1E,OACEN,GAAA,QAAA,cAACI,GAAA,QAADS,GAAA,CAAA,EACMF,EADN,CAEE,aAAWR,GAAA,SAAW,kBAAmBI,EAAW,CAClD,WAAYC,EACZ,WAAYC,CAFsC,CAAzC,CAFb,CAAA,EAOGC,CAPH,CAUH,EAmBDL,GAAeS,aAAe,CAC5BC,SAAU,KADkB,SAIfV,kHCzCf,IAAAW,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAa,SAAAC,EAQb,CAAA,IAAAC,EAPJC,EAOIF,EAPJE,UACAC,EAMIH,EANJG,OACAC,EAKIJ,EALJI,SACAC,EAIIL,EAJJK,UACAC,EAGIN,EAHJM,SACAC,EAEIP,EAFJO,UACGC,EACCC,GAAAT,EAAA,CAAA,YAAA,SAAA,WAAA,YAAA,WAAA,WAAA,CAAA,EACAU,EAAKJ,EAEHK,EAAWC,GAAAA,QAAMC,SAASC,QAAQV,CAAvB,EAAiCW,KAAK,SAACC,EAAU,CAChE,OAAOA,EAAMC,OAASC,GAAAA,OACvB,CAFgB,EAIjB,OAAIP,GAAYL,IAAa,MAC3BI,EAAK,OAGLjB,GAAA,QAAA,cAACK,GAAA,QAADqB,GAAA,CAAA,EACMX,EADN,CAEE,SAAUE,EACV,aAAWd,GAAA,SAAW,cAAeM,EAAW,CAC9C,YAAaC,EACb,eAAgBQ,EAChB,eAAgBN,EAChB,kBAAmBM,KAAQV,EAAIU,EAASH,SAAb,MAAAP,IAAA,OAAA,OAAIA,EAAgBmB,IAC/C,eAAgBb,CAL8B,CAArC,CAHb,CAAA,EAWGH,CAXH,CAcH,EAoBDL,GAAWsB,aAAe,CACxBf,SAAU,GADc,SAIXP,kHChEf,IAAAuB,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAgB,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACjD,OACEN,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,iBAAkBI,CAA7B,CAA/B,CAAA,CAAA,CAEH,EAUDF,GAAcM,aAAe,CAC3BC,SAAU,IADiB,SAIdP,kHCxBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAAkD,CAAA,IAA/CC,EAA+CD,EAA/CC,UAAWC,EAAoCF,EAApCE,SAAUC,EAA0BH,EAA1BG,UAAcC,EAAYC,GAAAL,EAAA,CAAA,YAAA,WAAA,WAAA,CAAA,EACnE,OACEN,GAAA,QAAA,cAACI,GAAA,QAADQ,GAAA,CAAA,EACMF,EADN,CAEE,aAAWP,GAAA,SAAW,cAAeI,EAAW,CAC9C,eAAgBE,CAD8B,CAArC,CAFb,CAAA,EAMGD,CANH,CASH,EAWDH,GAAWQ,aAAe,CACxBC,SAAU,MADc,SAIXT,kHChCf,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,kwBAEA,IAAMI,GAAc,CAClBC,KAAM,QACNC,MAAO,KAFW,EAKdC,GAAkB,SAAAC,EAA8C,CAAA,IAA3CC,EAA2CD,EAA3CC,UAAWC,EAAgCF,EAAhCE,SAAUC,EAAsBH,EAAtBG,MAAUC,EAAYC,GAAAL,EAAA,CAAA,YAAA,WAAA,OAAA,CAAA,EACpE,OACET,GAAA,QAAA,cAACI,GAAA,QAADW,GAAA,CAAA,EACMF,EADN,CAEE,aAAWV,GAAA,SAAAa,GAAA,CAAA,EAAA,UAAA,OAEIX,GAAYO,CAAD,CAFf,EAE2BP,GAAYO,CAAD,CAFtC,EAITF,CAJS,CAFb,CAAA,EASGC,CATH,CAYH,EAMDH,GAAgBS,aAAe,CAC7BL,MAAO,MADsB,SAIhBJ,wXCnCf,IAAAU,GAAAC,GAAA,UAAA,EACAC,GAAAC,GAAA,GAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EACAM,GAAAN,GAAA,IAAA,EACAO,GAAAP,GAAA,IAAA,EACAQ,GAAAR,GAAA,IAAA,EACAS,GAAAT,GAAA,IAAA,EACAU,GAAA,KACAC,GAAAX,GAAA,GAAA,qxCAEA,IAAMY,GAAS,SAAAC,EAST,CAAA,IAAAC,EARJC,EAQIF,EARJE,SACAC,EAOIH,EAPJG,UACAC,EAMIJ,EANJI,MACAC,EAKIL,EALJK,YACAC,EAIIN,EAJJM,MACAC,EAGIP,EAHJO,OACAC,EAEIR,EAFJQ,KACGC,EACCC,GAAAV,EAAA,CAAA,WAAA,YAAA,QAAA,cAAA,QAAA,SAAA,MAAA,CAAA,EACJ,SAAAhB,GAAA,WAAU,UAAM,CACd,IAAM2B,EAAOC,OAAOC,SAASC,cAAc,MAA9B,EACb,OAAKH,EAAKI,UAAUC,SAAf,oBAAA,OAA4CZ,CAA5C,CAAA,IACHO,EAAKI,UAAUE,OAAO,sBAAtB,EACAN,EAAKI,UAAUE,OAAO,yBAAtB,GAEEb,GACFO,EAAKI,UAAUG,IAAf,oBAAA,OAAuCd,CAAvC,CAAA,EAEK,UAAM,CACX,OAAOQ,OAAOC,SACXC,cAAc,MADV,EAEJC,UAAUE,OAFN,oBAAA,OAEiCb,CAFjC,CAAA,CAGR,CACF,EAAE,CAACA,CAAD,CAdH,EAgBEpB,GAAA,QAAA,cAACa,GAAA,YAAY,SAAb,CAAsB,MAAOU,CAA7B,EACEvB,GAAA,QAAA,cAACc,GAAA,QAADqB,GAAA,CAAA,EACMV,EADN,CAEE,KAAK,aACL,aAAWrB,GAAA,SAAW,SAAUe,GAArBF,EAAA,CACT,iBAAkBI,CADT,EAAAe,GAAAnB,EAAA,YAAA,OAEIG,CAFJ,EAEcA,CAFd,EAAAgB,GAAAnB,EAAA,MAAA,OAGFK,CAHE,EAGQA,CAHR,EAAAc,GAAAnB,EAAA,YAIMO,IAAS,OAJf,EAAAP,EAAA,CAHb,CAAA,EAUGC,CAVH,CADF,CAeH,EA2BDH,GAAOsB,aAAe,CACpBC,SAAU,KADU,EAItBvB,GAAOwB,MAAQA,GAAAA,QACfxB,GAAOyB,OAASA,GAAAA,QAChBzB,GAAO0B,KAAOA,GAAAA,QACd1B,GAAO2B,KAAOA,GAAAA,QACd3B,GAAO4B,SAAWA,GAAAA,QAClB5B,GAAO6B,KAAOA,GAAAA,QACd7B,GAAO8B,QAAUA,GAAAA,QACjB9B,GAAO+B,UAAYA,GAAAA,eAEJ/B,kHC/Ff,IAAAgC,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,EAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAA,IAEAC,GAAAJ,GAAA,GAAA,kwBAEA,IAAMK,GAAe,SAACC,EAASC,EAAMC,EAAU,CAC7C,GAAIF,IAAY,EACd,MAAO,GAGT,IAAMG,EAAUF,EAAOC,EAAQ,EACzBE,EAAOC,KAAKC,IAAIN,EAAUE,EAAOC,CAA1B,EAEb,OAAOC,GAAQ,EAAI,EAAIA,CACxB,EAEKG,GAAc,SAACP,EAASQ,EAAON,EAAU,CAC7C,GAAIF,IAAYQ,EACd,OAAOA,EAGT,IAAMC,EAAUP,EAAQ,EAAI,EACtBE,EAAOC,KAAKK,IAAIV,EAAUE,EAAOO,CAA1B,EACb,OAAOL,EAAOI,EAAQA,EAAQJ,CAC/B,EAEKO,GAAa,SAAAC,EAgBb,CAAA,IAAAC,EAfJb,EAeIY,EAfJZ,QACAc,EAcIF,EAdJE,SACAN,EAaII,EAbJJ,MACAO,EAYIH,EAZJG,KACAC,EAWIJ,EAXJI,SACAC,EAUIL,EAVJK,aACAC,EASIN,EATJM,cACAhB,EAQIU,EARJV,MACAiB,EAOIP,EAPJO,SACAC,EAMIR,EANJQ,UACAC,EAKIT,EALJS,KACAC,EAIIV,EAJJU,MACAC,EAGIX,EAHJW,QACAC,EAEIZ,EAFJY,SACGC,EACCC,GAAAd,EAAA,CAAA,UAAA,WAAA,QAAA,OAAA,WAAA,eAAA,gBAAA,QAAA,WAAA,YAAA,OAAA,QAAA,UAAA,UAAA,CAAA,EACJ,GAAKJ,GAAS,GAAKW,GAAanB,EAAUQ,EACxC,OAAO,KAGT,IAAMmB,EAAWpB,GAAYP,EAASQ,EAAON,CAAjB,EACtB0B,EAAY7B,GAAaC,EAAS2B,EAAUzB,CAApB,EACxB2B,EAAe7B,IAAY,GAAKc,EAChCgB,EAAe9B,IAAYQ,GAASM,EAE1C,OACErB,EAAA,QAAA,cAACK,GAAA,QAADiC,GAAA,CAAA,EACMN,EADN,CAEE,aAAW7B,GAAA,SAAW,aAAcwB,GAAzBP,EAAA,CAAA,EAAAmB,GAAAnB,EAAA,MAAA,OACFQ,CADE,EACOA,CADP,EAAAW,GAAAnB,EAAA,MAAA,UAEFhB,GAAA,gBAAeyB,CAAf,CAFE,EAEwBA,CAFxB,EAAAU,GAAAnB,EAGT,aAAcU,CAHL,EAAAV,EAAA,EAKX,aAAW,YAPb,CAAA,EASGI,GACCxB,EAAA,QAAA,cAAAA,EAAA,QAAA,SAAA,KACEA,EAAA,QAAA,cAAA,IAAA,CACE,KAAK,SACL,SAAU,EACV,QACEoC,EACII,OACA,UAAM,CACJ,OAAOT,EAASxB,EAAU,CAAX,CAChB,EAEP,UAAU,sBACV,MAAM,yBACN,SAAU6B,CAZZ,EAcGb,CAdH,EAgBAvB,EAAA,QAAA,cAAA,IAAA,CACE,KAAK,SACL,SAAU,EACV,QACEqC,EACIG,OACA,UAAM,CACJ,OAAOT,EAASxB,EAAU,CAAX,CAChB,EAEP,UAAU,kBACV,SAAU8B,CAXZ,EAaGf,CAbH,CAjBF,EAkCDb,EAAQ,GACPT,EAAA,QAAA,cAAAA,EAAA,QAAA,SAAA,KACEA,EAAA,QAAA,cAAA,KAAA,CAAI,UAAU,iBAAd,EACGyB,GAAiBlB,IAAY,GAAK4B,IAAc,GAC/CnC,EAAA,QAAA,cAAAA,EAAA,QAAA,SAAA,KACEA,EAAA,QAAA,cAAA,KAAA,CAAI,IAAK,CAAT,EACEA,EAAA,QAAA,cAAA,IAAA,CACE,KAAK,SACL,SAAU,EACV,UAAU,kBACV,QAAS,UAAM,CACb,OAAO+B,EAAS,CAAD,CAChB,EACD,aAAW,SACX,eAAa,OACb,SAAUV,CATZ,EAAA,GAAA,CADF,EAeArB,EAAA,QAAA,cAAA,KAAA,KACEA,EAAA,QAAA,cAAA,OAAA,CAAM,UAAU,qBAAhB,EAAA,QAAA,CADF,CAhBF,EAqBDyC,MAAMP,EAAWC,EAAY,CAAxB,EACHO,KAAK,CADP,EAEEC,IAAI,SAACC,EAAGC,EAAM,CACb,OAEE7C,EAAA,QAAA,cAAA,KAAA,CAAI,IAAK6C,EAAIV,CAAb,EACEnC,EAAA,QAAA,cAAA,IAAA,CACE,KAAK,SACL,SAAU,EACV,aAAWG,GAAA,SAAW,kBAAmB,CACvC,aAAcI,IAAYsC,EAAIV,CADS,CAA9B,EAGX,QACE5B,IAAY4B,EAAYU,EACpBL,OACA,UAAM,CACJ,OAAOT,EAASI,EAAYU,CAAb,CAChB,EAEP,aAAA,QAAA,OAAoBA,EAAIV,CAAxB,EACA,eAAa,OACb,SAAUd,CAfZ,EAiBGwB,EAAIV,CAjBP,CADF,CAsBH,CA3BF,EA4BAV,GAAiBlB,IAAY2B,GAAYnB,IAAUmB,GAClDlC,EAAA,QAAA,cAAAA,EAAA,QAAA,SAAA,KACEA,EAAA,QAAA,cAAA,KAAA,CAAI,IAAKe,CAAT,EACEf,EAAA,QAAA,cAAA,OAAA,CAAM,UAAU,qBAAhB,EAAA,QAAA,CADF,EAGAA,EAAA,QAAA,cAAA,KAAA,KACEA,EAAA,QAAA,cAAA,IAAA,CACE,KAAK,SACL,SAAU,EACV,UAAU,kBACV,QAAS,UAAM,CACb,OAAO+B,EAAShB,CAAD,CAChB,EACD,aAAA,QAAA,OAAoBA,CAApB,EACA,eAAa,OACb,SAAUM,CATZ,EAWGN,CAXH,CADF,CAJF,CApDJ,CADF,CA7CJ,CA4HH,EAuCDG,GAAW4B,aAAe,CACxB/B,MAAO,EACPR,QAAS,EACTE,MAAO,EACPa,KAAM,OACNC,SAAU,WACVwB,SAAU,MACVvB,aAAc,GACdE,SAAU,EARc,SAWXR,kHCrOf,IAAA8B,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAe,SAAAC,EAMf,CAAA,IALJC,EAKID,EALJC,SACAC,EAIIF,EAJJE,OACAC,EAGIH,EAHJG,UACQC,EAEJJ,EAFJK,OACGC,EACCC,GAAAP,EAAA,CAAA,WAAA,SAAA,YAAA,QAAA,CAAA,EACJ,GACE,OAAOC,GAAa,UACpBO,GAAAA,QAAMC,SAASC,QAAQT,CAAvB,EAAiCU,SAAW,GAC5CH,GAAAA,QAAMC,SAASG,KAAKX,CAApB,EAA8BY,OAASC,GAAAA,QACvC,CACA,IAAMC,EAAQP,GAAAA,QAAMC,SAASG,KAAKX,CAApB,EACd,OACER,GAAA,QAAA,cAAA,KAAA,CAAI,IAAKW,CAAT,EACEX,GAAA,QAAA,cAACK,GAAA,QAADkB,GAAA,CACE,aAAWpB,GAAA,SAAWO,EAAW,CAAE,YAAaD,CAAf,CAAtB,CADb,EAEMI,CAFN,EAIGS,EAAMT,MAAMW,KAJf,EAMCT,GAAAA,QAAMU,aAAaH,EAAO,CAAEE,MAAOE,MAAT,CAA1B,CAPH,CAUH,CAED,OACE1B,GAAA,QAAA,cAAA,KAAA,CAAI,IAAKW,CAAT,EACEX,GAAA,QAAA,cAACK,GAAA,QAADkB,GAAA,CACE,aAAWpB,GAAA,SAAWO,EAAW,CAAE,YAAaD,CAAf,CAAtB,CADb,EAEMI,CAFN,EAIGL,CAJH,CADF,CASH,EAWDF,GAAaqB,aAAe,CAC1BC,SAAU,GADgB,SAIbtB,kHC3Df,IAAAuB,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAW,SAAAC,EAAoC,CAAA,IAAjCC,EAAiCD,EAAjCC,UAAWC,EAAsBF,EAAtBE,MAAUC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,OAAA,CAAA,EACnD,OACEP,GAAA,QAAA,cAAAA,GAAA,QAAA,SAAA,KACGS,GAAST,GAAA,QAAA,cAAA,IAAA,CAAG,UAAU,YAAb,EAA2BS,CAA3B,EACVT,GAAA,QAAA,cAACK,GAAA,QAADO,GAAA,CAAS,aAAWT,GAAA,SAAW,YAAaK,CAAxB,CAApB,EAA4DE,CAA5D,CAAA,CAFF,CAKH,EAEDJ,GAASO,KAAOC,GAAAA,QAchBR,GAASS,aAAe,CACtBC,SAAU,IADY,SAITV,sLCnCf,IAAAW,GAAAC,GAAA,IAAA,wJCAA,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EAEAI,GAAAJ,GAAA,GAAA,yoBAEA,IAAMK,GAAO,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EACxC,OAAOP,GAAA,QAAA,cAACK,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,OAAQK,CAAnB,CAA/B,CAAA,CAAA,CACR,EAEDF,GAAKM,KAAOC,GAAAA,QAUZP,GAAKQ,aAAe,CAClBC,SAAU,OADQ,SAILT,kHCzBf,IAAAU,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAc,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EACzD,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,eAAgBK,CAA3B,CAA/B,CAAA,EACGD,CADH,CAIH,KAIcF,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAgB,SAAAC,EAAuC,CAAA,IAApCC,EAAoCD,EAApCC,SAAUC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,WAAA,WAAA,CAAA,EAC3D,OACEL,GAAA,QAAA,cAACG,GAAA,QAADO,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,iBAAkBK,CAA7B,CAA/B,CAAA,EACGD,CADH,CAIH,KAIcF,kHCff,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EACAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EAEAK,GAAAL,GAAA,GAAA,kwBAEA,IAAMM,GAAU,SAAAC,EAAoD,CAAA,IAAAC,EAAjDC,EAAiDF,EAAjDE,SAAUC,EAAuCH,EAAvCG,UAAWC,EAA4BJ,EAA5BI,MAAOC,EAAqBL,EAArBK,KAASC,EAAYC,GAAAP,EAAA,CAAA,WAAA,YAAA,QAAA,MAAA,CAAA,EAClE,OACER,GAAA,QAAA,cAACM,GAAA,QAADU,GAAA,CAAA,EACMF,EADN,CAEE,aAAWX,GAAA,SAAW,UAAWQ,GAAtBF,EAAA,CAAA,EAAAQ,GAAAR,EAAA,MAAA,OACFG,CADE,EACQA,CADR,EAAAK,GAAAR,EAAA,MAAA,OAEFI,CAFE,EAEOA,CAFP,EAAAJ,EAAA,CAFb,CAAA,EAOGC,CAPH,CAUH,EAEDH,GAAQW,KAAOC,GAAAA,QAEfZ,GAAQa,OAASC,GAAAA,QAiCjBd,GAAQe,aAAe,CACrBC,SAAU,SADW,SAIRhB,kHC7Df,IAAAiB,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,uHCFf,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAa,SAAAC,EAAqC,CAAA,IAAlCC,EAAkCD,EAAlCC,UAAWC,EAAuBF,EAAvBE,OAAWC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,QAAA,CAAA,EACtD,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EACMF,EADN,CAEE,aAAWN,GAAA,SAAW,cAAeI,EAAW,CAC9C,YAAaC,CADiC,CAArC,CAFb,CAAA,CAAA,CAOH,KAMcH,kHCrBf,IAAAO,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EAEAE,GAAAF,GAAA,GAAA,yoBAEA,IAAMG,GAAc,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC/C,OACEL,GAAA,QAAA,cAACG,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,gBAAiBI,CAA5B,CAA/B,CAAA,CAAA,CAEH,KAIcF,kHCbf,IAAAM,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAY,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC7C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWL,GAAA,SAAW,aAAcI,CAAzB,CAA/B,CAAA,CAAA,CACR,EAUDF,GAAUM,aAAe,CACvBC,SAAU,MADa,SAIVP,kHCtBf,IAAAQ,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAe,SAAAC,EAAqC,CAAA,IAAlCC,EAAkCD,EAAlCC,UAAWC,EAAuBF,EAAvBE,OAAWC,EAAYC,GAAAJ,EAAA,CAAA,YAAA,QAAA,CAAA,EACxD,OACEN,GAAA,QAAA,cAACI,GAAA,QAADO,GAAA,CAAA,EACMF,EADN,CAEE,aAAWN,GAAA,SAAWI,EAAW,CAC/B,YAAaC,CADkB,CAAtB,CAFb,CAAA,CAAA,CAOH,EAWDH,GAAaO,aAAe,CAC1BC,SAAU,GADgB,SAIbR,kHC9Bf,IAAAS,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,IAAA,EAEAG,GAAAH,GAAA,GAAA,yoBAEA,IAAMI,GAAY,SAAAC,EAA6B,CAAA,IAA1BC,EAA0BD,EAA1BC,UAAcC,EAAYC,GAAAH,EAAA,CAAA,WAAA,CAAA,EAC7C,OAAON,GAAA,QAAA,cAACI,GAAA,QAADM,GAAA,CAAA,EAAaF,EAAb,CAAoB,aAAWN,GAAA,SAAW,aAAcK,CAAzB,CAA/B,CAAA,CAAA,CACR,EAEDF,GAAUM,IAAMA,GAAAA,eAIDN,sLCdf,IAAAO,GAAAC,GAAA,IAAA,wJCAA,IAAAC,GAAAC,GAAA,UAAA,EACAC,GAAAD,GAAA,GAAA,EACAE,GAAAF,GAAA,GAAA,EAEAG,GAAAH,GAAA,IAAA,EACAI,GAAAJ,GAAA,IAAA,EACAK,GAAAL,GAAA,IAAA,EACAM,GAAAN,GAAA,IAAA,EAEAO,GAAAP,GAAA,GAAA,kwBAEA,IAAMQ,GAAQ,SAAAC,EAAoC,CAAA,IAAjCC,EAAiCD,EAAjCC,MAAOC,EAA0BF,EAA1BE,UAAcC,EAAYC,GAAAJ,EAAA,CAAA,QAAA,WAAA,CAAA,EAChD,OACEV,GAAA,QAAA,cAACQ,GAAA,QAADO,GAAA,CAAA,EACMF,EADN,CAEE,aAAWV,GAAA,SAAW,QAASS,EAApBI,GAAA,CAAA,EAAA,MAAA,OACFL,CADE,EACQA,CADR,CAAA,CAFb,CAAA,CAAA,CAOH,EAEDF,GAAMQ,OAASA,GAAAA,QAEfR,GAAMS,KAAOA,GAAAA,QAEbT,GAAMU,MAAQA,GAAAA,QAEdV,GAAMW,KAAOA,GAAAA,QAuBbX,GAAMY,aAAe,CACnBC,SAAU,KADS,SAINb,kHCvDf,IAAAc,GAAAC,GAAA,IAAA,6DAEeC,GAAAA,q6FCFf,IAAAC,GAAAC,GAAA,IAAA,YAEA,IAAAC,GAAAC,EAAA,IAAA,EACAC,GAAAD,EAAA,IAAA,EACAE,GAAAF,EAAA,IAAA,EACAG,GAAAH,EAAA,IAAA,EACAI,GAAAJ,EAAA,IAAA,EACAK,GAAAL,EAAA,IAAA,EACAM,GAAAN,EAAA,IAAA,EACAO,GAAAP,EAAA,IAAA,EACAQ,GAAAR,EAAA,IAAA,EAEAS,GAAAT,EAAA,IAAA,EACAU,GAAAV,EAAA,IAAA,EACAW,GAAAX,EAAA,IAAA,EACAY,GAAAZ,EAAA,IAAA,EACAa,GAAAb,EAAA,IAAA,EACAc,GAAAd,EAAA,IAAA,EACAe,GAAAf,EAAA,IAAA,EACAgB,GAAAhB,EAAA,IAAA,EACAiB,GAAAjB,EAAA,IAAA,EACAkB,GAAAlB,EAAA,IAAA,EACAmB,GAAAnB,EAAA,IAAA,EACAoB,GAAApB,EAAA,IAAA,EACAqB,GAAArB,EAAA,IAAA,EACAsB,GAAAtB,EAAA,IAAA,EACAuB,GAAAvB,EAAA,IAAA,EACAwB,GAAAxB,EAAA,IAAA,EACAyB,GAAAzB,EAAA,IAAA,EACA0B,GAAA1B,EAAA,IAAA,EACA2B,GAAA3B,EAAA,IAAA,EACA4B,GAAA5B,EAAA,IAAA,EACA6B,GAAA7B,EAAA,IAAA,EACA8B,GAAA9B,EAAA,GAAA,2kBCjCA+B,KCAAC,KAAsDA,KCAtD,IAAIC,GAAE,SAASC,EAAEC,EAAEC,EAAE,EAAE,CAAC,IAAIC,EAAEF,EAAE,CAAC,EAAE,EAAE,QAAQG,EAAE,EAAEA,EAAEH,EAAE,OAAOG,IAAI,CAAC,IAAIC,EAAEJ,EAAEG,GAAG,EAAEE,EAAEL,EAAEG,CAAC,GAAGH,EAAE,CAAC,GAAGI,EAAE,EAAE,EAAEH,EAAED,EAAEG,GAAG,CAAC,GAAGH,EAAE,EAAEG,CAAC,EAAMC,IAAJ,EAAM,EAAE,CAAC,EAAEC,EAAMD,IAAJ,EAAM,EAAE,CAAC,EAAE,OAAO,OAAO,EAAE,CAAC,GAAG,CAAC,EAAEC,CAAC,EAAMD,IAAJ,GAAO,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,GAAGJ,EAAE,EAAEG,CAAC,CAAC,EAAEE,EAAMD,IAAJ,EAAM,EAAE,CAAC,EAAEJ,EAAE,EAAEG,CAAC,CAAC,GAAGE,EAAE,GAAGD,GAAGF,EAAEH,EAAE,MAAMM,EAAEP,GAAEC,EAAEM,EAAEJ,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,EAAE,KAAKC,CAAC,EAAEG,EAAE,CAAC,EAAEL,EAAE,CAAC,GAAG,GAAGA,EAAEG,EAAE,CAAC,EAAE,EAAEH,EAAEG,CAAC,EAAED,IAAI,EAAE,KAAKG,CAAC,CAAC,CAAC,OAAO,CAAC,EAAEN,GAAE,IAAI,IAAmB,SAARO,GAAiBN,EAAE,CAAC,IAAI,EAAED,GAAE,IAAI,IAAI,EAAE,OAAO,IAAI,EAAE,IAAI,IAAIA,GAAE,IAAI,KAAK,CAAC,IAAI,EAAED,GAAE,KAAK,EAAE,IAAIE,CAAC,IAAI,EAAE,IAAIA,EAAE,GAAE,SAASF,EAAE,CAAC,QAAQC,EAAEC,EAAEC,EAAE,EAAEM,EAAE,GAAGL,EAAE,GAAGC,EAAE,CAAC,CAAC,EAAEC,EAAE,SAASN,EAAE,CAAKG,IAAJ,IAAQH,IAAIS,EAAEA,EAAE,QAAQ,uBAAuB,EAAE,IAAIJ,EAAE,KAAK,EAAEL,EAAES,CAAC,EAAMN,IAAJ,IAAQH,GAAGS,IAAIJ,EAAE,KAAK,EAAEL,EAAES,CAAC,EAAEN,EAAE,GAAOA,IAAJ,GAAeM,IAAR,OAAWT,EAAEK,EAAE,KAAK,EAAEL,EAAE,CAAC,EAAMG,IAAJ,GAAOM,GAAG,CAACT,EAAEK,EAAE,KAAK,EAAE,EAAE,GAAGI,CAAC,EAAEN,GAAG,KAAKM,GAAG,CAACT,GAAOG,IAAJ,KAASE,EAAE,KAAKF,EAAE,EAAEM,EAAEP,CAAC,EAAEC,EAAE,GAAGH,IAAIK,EAAE,KAAKF,EAAEH,EAAE,EAAEE,CAAC,EAAEC,EAAE,IAAIM,EAAE,EAAE,EAAEF,EAAE,EAAEA,EAAEP,EAAE,OAAOO,IAAI,CAACA,IAAQJ,IAAJ,GAAOG,EAAE,EAAEA,EAAEC,CAAC,GAAG,QAAQG,EAAE,EAAEA,EAAEV,EAAEO,CAAC,EAAE,OAAOG,IAAIT,EAAED,EAAEO,CAAC,EAAEG,CAAC,EAAMP,IAAJ,EAAYF,IAAN,KAASK,EAAE,EAAED,EAAE,CAACA,CAAC,EAAEF,EAAE,GAAGM,GAAGR,EAAME,IAAJ,EAAaM,IAAP,MAAgBR,IAAN,KAASE,EAAE,EAAEM,EAAE,IAAIA,EAAER,EAAEQ,EAAE,CAAC,EAAEL,EAAEH,IAAIG,EAAEA,EAAE,GAAGK,GAAGR,EAAQA,IAAN,KAAeA,IAAN,IAAQG,EAAEH,EAAQA,IAAN,KAASK,EAAE,EAAEH,EAAE,GAAGA,IAAUF,IAAN,KAASE,EAAE,EAAED,EAAEO,EAAEA,EAAE,IAAUR,IAAN,MAAUE,EAAE,GAASH,EAAEO,CAAC,EAAEG,EAAE,CAAC,IAAd,MAAkBJ,EAAE,EAAMH,IAAJ,IAAQE,EAAEA,EAAE,CAAC,GAAGF,EAAEE,GAAGA,EAAEA,EAAE,CAAC,GAAG,KAAK,EAAE,EAAEF,CAAC,EAAEA,EAAE,GAASF,IAAN,KAAgBA,IAAP,KAAiBA,IAAP;AAAA,GAAiBA,IAAP,MAAUK,EAAE,EAAEH,EAAE,GAAGM,GAAGR,GAAOE,IAAJ,GAAeM,IAAR,QAAYN,EAAE,EAAEE,EAAEA,EAAE,CAAC,EAAE,CAAC,OAAOC,EAAE,EAAED,CAAC,GAAEH,CAAC,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,GAAG,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC,CDArkC,IAAIS,GAAEC,GAAE,KAAKC,CAAC,EDE9HC,KGFO,IAAMC,GAAN,cAAgC,KAAM,CAC7C,EACAA,GAAkB,UAAU,KAAO,oBACnC,SAASC,GAAiBC,EAAK,CAC3B,OAAO,mBAAmB,KAAKA,CAAG,EAAE,QAAQ,OAAQ,CAACC,EAAGC,IAAM,CAC1D,IAAIC,EAAOD,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAY,EACpD,OAAIC,EAAK,OAAS,IACdA,EAAO,IAAMA,GAEV,IAAMA,CACjB,CAAC,CAAC,CACN,CACA,SAASC,GAAgBJ,EAAK,CAC1B,IAAIK,EAASL,EAAI,QAAQ,KAAM,GAAG,EAAE,QAAQ,KAAM,GAAG,EACrD,OAAQK,EAAO,OAAS,EAAG,CACvB,IAAK,GACD,MACJ,IAAK,GACDA,GAAU,KACV,MACJ,IAAK,GACDA,GAAU,IACV,MACJ,QACI,MAAM,IAAI,MAAM,4CAA4C,CACpE,CACA,GAAI,CACA,OAAON,GAAiBM,CAAM,CAClC,MACY,CACR,OAAO,KAAKA,CAAM,CACtB,CACJ,CACO,SAASC,GAAUC,EAAOC,EAAS,CACtC,GAAI,OAAOD,GAAU,SACjB,MAAM,IAAIT,GAAkB,2CAA2C,EAE3EU,IAAYA,EAAU,CAAC,GACvB,IAAMC,EAAMD,EAAQ,SAAW,GAAO,EAAI,EACpCE,EAAOH,EAAM,MAAM,GAAG,EAAEE,CAAG,EACjC,GAAI,OAAOC,GAAS,SAChB,MAAM,IAAIZ,GAAkB,0CAA0CW,EAAM,CAAC,EAAE,EAEnF,IAAIE,EACJ,GAAI,CACAA,EAAUP,GAAgBM,CAAI,CAClC,OACOE,EAAG,CACN,MAAM,IAAId,GAAkB,qDAAqDW,EAAM,CAAC,KAAKG,EAAE,OAAO,GAAG,CAC7G,CACA,GAAI,CACA,OAAO,KAAK,MAAMD,CAAO,CAC7B,OACOC,EAAG,CACN,MAAM,IAAId,GAAkB,mDAAmDW,EAAM,CAAC,KAAKG,EAAE,OAAO,GAAG,CAC3G,CACJ,CCzCA,IAAMC,GAAqB,CACvB,MAAO,IAAA,GACP,KAAM,IAAA,GACN,KAAM,IAAA,GACN,MAAO,IAAA,EACX,EAEIC,GACAC,GAOQC,IAAAA,IACRA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,MAAA,CAAA,EAAA,QACAA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,MAAA,CAAA,EAAA,QALQA,IAAAA,IAAA,CAAA,CAAA,GAaKA,GAAV,CACI,SAASC,GAAc,CAC1BH,GAAQ,EACRC,GAASF,EACb,CAHOG,EAAS,MAAAC,EAKT,SAASC,EAASC,EAAkB,CACvC,GAAI,EAAE,GAAYA,GAASA,GAAS,GAChC,MAAM,IAAI,MAAM,mBAAmB,EAEvCL,GAAQK,CACZ,CALOH,EAAS,SAAAE,EAOT,SAASE,EAAUD,EAAsB,CAC5CJ,GAASI,CACb,CAFOH,EAAS,UAAAI,CAAA,GAbHJ,KAAAA,GAAA,CAAA,EAAA,EAuBV,IAAMK,EAAN,MAAMC,EAAO,CAET,YAAoBC,EAAe,CAAf,KAAA,MAAAA,CAAgB,CAGpC,SAASC,EAAuB,CAC/BV,IAAS,GACTC,GAAO,MAAMO,GAAO,QAAQ,KAAK,MAAO,KAAK,OAAO,EAAG,GAAGE,CAAI,CAEtE,CACO,QAAQA,EAAuB,CAC9BV,IAAS,GACTC,GAAO,KAAKO,GAAO,QAAQ,KAAK,MAAO,KAAK,OAAO,EAAG,GAAGE,CAAI,CAErE,CACO,QAAQA,EAAuB,CAC9BV,IAAS,GACTC,GAAO,KAAKO,GAAO,QAAQ,KAAK,MAAO,KAAK,OAAO,EAAG,GAAGE,CAAI,CAErE,CACO,SAASA,EAAuB,CAC/BV,IAAS,GACTC,GAAO,MAAMO,GAAO,QAAQ,KAAK,MAAO,KAAK,OAAO,EAAG,GAAGE,CAAI,CAEtE,CAGO,MAAMC,EAAmB,CAC5B,WAAK,MAAMA,CAAG,EACRA,CACV,CAEO,OAAOC,EAAwB,CAClC,IAAMC,EAAuB,OAAO,OAAO,IAAI,EAC/C,OAAAA,EAAa,QAAUD,EACvBC,EAAa,MAAM,OAAO,EACnBA,CACX,CAEA,OAAc,aAAaC,EAAcC,EAA8B,CACnE,IAAMC,EAAe,IAAIR,GAAO,GAAGM,CAAI,IAAIC,CAAY,EAAE,EACzD,OAAAC,EAAa,MAAM,OAAO,EACnBA,CACX,CAEA,OAAe,QAAQF,EAAcF,EAAiB,CAClD,IAAMK,EAAS,IAAIH,CAAI,IACvB,OAAOF,EAAS,GAAGK,CAAM,IAAIL,CAAM,IAAMK,CAC7C,CAIA,OAAc,MAAMH,KAAiBJ,EAAuB,CACpDV,IAAS,GACTC,GAAO,MAAMO,GAAO,QAAQM,CAAI,EAAG,GAAGJ,CAAI,CAElD,CACA,OAAc,KAAKI,KAAiBJ,EAAuB,CACnDV,IAAS,GACTC,GAAO,KAAKO,GAAO,QAAQM,CAAI,EAAG,GAAGJ,CAAI,CAEjD,CACA,OAAc,KAAKI,KAAiBJ,EAAuB,CACnDV,IAAS,GACTC,GAAO,KAAKO,GAAO,QAAQM,CAAI,EAAG,GAAGJ,CAAI,CAEjD,CACA,OAAc,MAAMI,KAAiBJ,EAAuB,CACpDV,IAAS,GACTC,GAAO,MAAMO,GAAO,QAAQM,CAAI,EAAG,GAAGJ,CAAI,CAElD,CAEJ,EAEAR,GAAI,MAAM,ECpIH,IAAMgB,GAAN,KAAe,CAElB,OAAc,OAAOC,EAA0B,CAC3C,GAAI,CACA,OAAOC,GAAqBD,CAAK,CACrC,OACOR,EAAK,CACR,MAAAJ,EAAO,MAAM,kBAAmBI,CAAG,EAC7BA,CACV,CACJ,CAEA,aAAoB,kBAAkBU,EAAgBC,EAAiBC,EAAyC,CAC5G,IAAMC,EAAgBC,EAAY,gBAAgB,IAAI,YAAY,EAAE,OAAO,KAAK,UAAUJ,CAAM,CAAC,CAAC,EAC5FK,EAAiBD,EAAY,gBAAgB,IAAI,YAAY,EAAE,OAAO,KAAK,UAAUH,CAAO,CAAC,CAAC,EAC9FK,EAAe,GAAGH,CAAa,IAAIE,CAAc,GAEjDE,EAAY,MAAM,OAAO,OAAO,OAAO,KACzC,CACI,KAAM,QACN,KAAM,CAAE,KAAM,SAAU,CAC5B,EACAL,EACA,IAAI,YAAY,EAAE,OAAOI,CAAY,CACzC,EAEME,EAAmBJ,EAAY,gBAAgB,IAAI,WAAWG,CAAS,CAAC,EAC9E,MAAO,GAAGD,CAAY,IAAIE,CAAgB,EAC9C,CACJ,EC3BMC,GAAmB,uCAEnBC,GAAYC,GACd,KAAK,CAAC,GAAG,IAAI,WAAWA,CAAG,CAAC,EACvB,IAAKC,GAAQ,OAAO,aAAaA,CAAG,CAAC,EACrC,KAAK,EAAE,CAAC,EAKJC,GAAN,MAAMA,EAAY,CACrB,OAAe,aAAsB,CACjC,IAAMC,EAAM,IAAI,YAAY,CAAC,EAC7B,cAAO,gBAAgBA,CAAG,EACnBA,EAAI,CAAC,CAChB,CAKA,OAAc,gBAAyB,CAInC,OAHaL,GAAiB,QAAQ,SAAUM,IAC3C,CAACA,EAAIF,GAAY,YAAY,EAAI,IAAM,CAACE,EAAI,GAAG,SAAS,EAAE,CAC/D,EACY,QAAQ,KAAM,EAAE,CAChC,CAKA,OAAc,sBAA+B,CACzC,OAAOF,GAAY,eAAe,EAAIA,GAAY,eAAe,EAAIA,GAAY,eAAe,CACpG,CAKA,aAAoB,sBAAsBG,EAAwC,CAC9E,GAAI,CAAC,OAAO,OACR,MAAM,IAAI,MAAM,6DAA6D,EAGjF,GAAI,CAEA,IAAMC,EADU,IAAI,YAAY,EACX,OAAOD,CAAa,EACnCE,EAAS,MAAM,OAAO,OAAO,OAAO,UAAWD,CAAI,EACzD,OAAOP,GAASQ,CAAM,EAAE,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,EAAE,CACrF,OACO5B,EAAK,CACR,MAAAJ,EAAO,MAAM,oCAAqCI,CAAG,EAC/CA,CACV,CACJ,CAKA,OAAc,kBAAkB6B,EAAmBC,EAA+B,CAE9E,IAAMH,EADU,IAAI,YAAY,EACX,OAAO,CAACE,EAAWC,CAAa,EAAE,KAAK,GAAG,CAAC,EAChE,OAAOV,GAASO,CAAI,CACxB,CAOA,aAAoB,KAAKI,EAAaC,EAAuC,CACzE,IAAMC,EAAW,IAAI,YAAY,EAAE,OAAOD,CAAO,EAC3CE,EAAa,MAAM,OAAO,OAAO,OAAOH,EAAKE,CAAQ,EAC3D,OAAO,IAAI,WAAWC,CAAU,CACpC,CAaA,aAAoB,6BAA6BC,EAAkC,CAC/E,IAAIC,EACJ,OAAQD,EAAI,IAAK,CACb,IAAK,MACDC,EAAa,CACT,EAAKD,EAAI,EACT,IAAOA,EAAI,IACX,EAAKA,EAAI,CACb,EACA,MACJ,IAAK,KACDC,EAAa,CACT,IAAOD,EAAI,IACX,IAAOA,EAAI,IACX,EAAKA,EAAI,EACT,EAAKA,EAAI,CACb,EACA,MACJ,IAAK,MACDC,EAAa,CACT,IAAOD,EAAI,IACX,IAAOA,EAAI,IACX,EAAKA,EAAI,CACb,EACA,MACJ,IAAK,MACDC,EAAa,CACT,IAAOD,EAAI,EACX,IAAOA,EAAI,GACf,EACA,MACJ,QACI,MAAM,IAAI,MAAM,kBAAkB,CAC1C,CACA,IAAME,EAAuB,MAAMd,GAAY,KAAK,UAAW,KAAK,UAAUa,CAAU,CAAC,EACzF,OAAOb,GAAY,gBAAgBc,CAAoB,CAC3D,CAEA,aAAoB,kBAAkB,CAClC,IAAAC,EACA,YAAAC,EACA,WAAAC,EACA,QAAAC,EACA,MAAAC,CACJ,EAA2C,CACvC,IAAIC,EACAC,EAEEjC,EAA2C,CAC7C,IAAO,OAAO,OAAO,WAAW,EAChC,IAAO6B,GAAc,MACrB,IAAOF,EACP,IAAO,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,CACvC,EAEIC,IACAI,EAAc,MAAMpB,GAAY,KAAK,UAAWgB,CAAW,EAC3DK,EAAcrB,GAAY,gBAAgBoB,CAAW,EACrDhC,EAAQ,IAAMiC,GAGdF,IACA/B,EAAQ,MAAQ+B,GAGpB,GAAI,CACA,IAAMG,EAAY,MAAM,OAAO,OAAO,UAAU,MAAOJ,EAAQ,SAAS,EAClE/B,EAAS,CACX,IAAO,QACP,IAAO,WACP,IAAO,CACH,IAAOmC,EAAU,IACjB,IAAOA,EAAU,IACjB,EAAKA,EAAU,EACf,EAAKA,EAAU,CACnB,CACJ,EACA,OAAO,MAAMtC,GAAS,kBAAkBG,EAAQC,EAAS8B,EAAQ,UAAU,CAC/E,OAASzC,EAAK,CACV,MAAIA,aAAe,UACT,IAAI,MAAM,oCAAoCA,EAAI,OAAO,EAAE,EAE3DA,CAEd,CACJ,CAEA,aAAoB,gBAAgByC,EAA0C,CAC1E,GAAI,CACA,IAAMI,EAAY,MAAM,OAAO,OAAO,UAAU,MAAOJ,EAAQ,SAAS,EACxE,OAAO,MAAMlB,GAAY,6BAA6BsB,CAAS,CACnE,OAAS7C,EAAK,CACV,MAAIA,aAAe,UACT,IAAI,MAAM,8CAA8CA,EAAI,OAAO,EAAE,EAErEA,CAEd,CACJ,CAEA,aAAoB,kBAA4C,CAC5D,OAAO,MAAM,OAAO,OAAO,OAAO,YAC9B,CACI,KAAM,QACN,WAAY,OAChB,EACA,GACA,CAAC,OAAQ,QAAQ,CACrB,CACJ,CACJ,EAzLauB,GAmEK,gBAAmBuB,GACtB1B,GAAS0B,CAAK,EAAE,QAAQ,KAAM,EAAE,EAAE,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,EApEhF,IAAMhC,EAANS,GCRMwB,GAAN,KAAyC,CAKrC,YAA+BjD,EAAe,CAAf,KAAA,MAAAA,EAFtC,KAAiB,WAAyC,CAAC,EAGvD,KAAK,QAAU,IAAIF,EAAO,UAAU,KAAK,KAAK,IAAI,CACtD,CAEO,WAAWoD,EAAqC,CACnD,YAAK,WAAW,KAAKA,CAAE,EAChB,IAAM,KAAK,cAAcA,CAAE,CACtC,CAEO,cAAcA,EAA+B,CAChD,IAAMC,EAAM,KAAK,WAAW,YAAYD,CAAE,EACtCC,GAAO,GACP,KAAK,WAAW,OAAOA,EAAK,CAAC,CAErC,CAEA,MAAa,SAASC,EAA8B,CAChD,KAAK,QAAQ,MAAM,SAAU,GAAGA,CAAE,EAClC,QAAWF,KAAM,KAAK,WAClB,MAAMA,EAAG,GAAGE,CAAE,CAEtB,CACJ,EClBaC,GAAN,KAAiB,CAMpB,OAAO,OAAO,CAAE,GAAGC,CAAS,EAA6C,CA5B7E,IAAAC,EAAAC,EAAAC,EA6BQ,OAAIH,EAAS,OAAS,OAClBA,EAAS,OAAQC,EAAA,CAAC,IAAK,IAAK,IAAK,GAAG,EAAE,KAAKG,GAASA,GAAS,OAAO,WAAa,KAAK,IAArE,KAAAH,EAA0E,MAC/FC,EAAAF,EAAS,OAAT,OAAAA,EAAS,KAAS,KAAK,IAAI,EAAG,KAAK,MAAM,OAAO,SAAW,OAAO,WAAaA,EAAS,OAAS,CAAC,CAAC,GAC/FA,EAAS,QAAU,QACnBG,EAAAH,EAAS,MAAT,OAAAA,EAAS,IAAQ,KAAK,IAAI,EAAG,KAAK,MAAM,OAAO,SAAW,OAAO,YAAcA,EAAS,QAAU,CAAC,CAAC,IACjGA,CACX,CAEA,OAAO,UAAUA,EAAuC,CACpD,OAAO,OAAO,QAAQA,CAAQ,EACzB,OAAO,CAAC,CAAC,CAAE1D,CAAK,IAAMA,GAAS,IAAI,EACnC,IAAI,CAAC,CAAC+D,EAAK/D,CAAK,IAAM,GAAG+D,CAAG,IAAI,OAAO/D,GAAU,UAAYA,EAAkBA,EAAQ,MAAQ,IAAI,EAAE,EACrG,KAAK,GAAG,CACjB,CACJ,EClCagE,GAAN,MAAMC,WAAcZ,EAAc,CAAlC,aAAA,CAAA,MAAA,GAAA,SAAA,EACH,KAAmB,QAAU,IAAInD,EAAO,UAAU,KAAK,KAAK,IAAI,EAChE,KAAQ,aAAsD,KAC9D,KAAQ,YAAc,EAyCtB,KAAU,UAAY,IAAY,CAC9B,IAAMgE,EAAO,KAAK,YAAcD,GAAM,aAAa,EACnD,KAAK,QAAQ,MAAM,qBAAsBC,CAAI,EAEzC,KAAK,aAAeD,GAAM,aAAa,IACvC,KAAK,OAAO,EACP,MAAM,MAAM,EAEzB,CAAA,CA9CA,OAAc,cAAuB,CACjC,OAAO,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,CACvC,CAEO,KAAKE,EAAiC,CACzC,IAAMvE,EAAS,KAAK,QAAQ,OAAO,MAAM,EACzCuE,EAAoB,KAAK,IAAI,KAAK,MAAMA,CAAiB,EAAG,CAAC,EAC7D,IAAMC,EAAaH,GAAM,aAAa,EAAIE,EAC1C,GAAI,KAAK,aAAeC,GAAc,KAAK,aAAc,CAErDxE,EAAO,MAAM,uDAAwD,KAAK,UAAU,EACpF,MACJ,CAEA,KAAK,OAAO,EAEZA,EAAO,MAAM,iBAAkBuE,CAAiB,EAChD,KAAK,YAAcC,EAKnB,IAAMC,EAAyB,KAAK,IAAIF,EAAmB,CAAC,EAC5D,KAAK,aAAe,YAAY,KAAK,UAAWE,EAAyB,GAAI,CACjF,CAEA,IAAW,YAAqB,CAC5B,OAAO,KAAK,WAChB,CAEO,QAAe,CAClB,KAAK,QAAQ,OAAO,QAAQ,EACxB,KAAK,eACL,cAAc,KAAK,YAAY,EAC/B,KAAK,aAAe,KAE5B,CAWJ,ECxDaC,GAAN,KAAe,CAClB,OAAc,WAAW1B,EAAa2B,EAAqC,QAA0B,CACjG,GAAI,CAAC3B,EAAK,MAAM,IAAI,UAAU,aAAa,EAG3C,IAAM4B,EADY,IAAI,IAAI5B,EAAK,kBAAkB,EACxB2B,IAAiB,WAAa,OAAS,QAAQ,EACxE,OAAO,IAAI,gBAAgBC,EAAO,MAAM,CAAC,CAAC,CAC9C,CACJ,EAKaC,GAAsB,ICRtBC,GAAN,cAA4B,KAAM,CAqB9B,YACHrE,EAKgBsE,EAClB,CAvCN,IAAAhB,EAAAC,EAAAC,EA0CQ,GAFA,MAAMxD,EAAK,mBAAqBA,EAAK,OAAS,EAAE,EAFhC,KAAA,KAAAsE,EAzBpB,KAAgB,KAAe,gBA6BvB,CAACtE,EAAK,MACN,MAAAH,EAAO,MAAM,gBAAiB,iBAAiB,EACzC,IAAI,MAAM,iBAAiB,EAGrC,KAAK,MAAQG,EAAK,MAClB,KAAK,mBAAoBsD,EAAAtD,EAAK,oBAAL,KAAAsD,EAA0B,KACnD,KAAK,WAAYC,EAAAvD,EAAK,YAAL,KAAAuD,EAAkB,KAEnC,KAAK,MAAQvD,EAAK,UAClB,KAAK,eAAgBwD,EAAAxD,EAAK,gBAAL,KAAAwD,EAAsB,KAC3C,KAAK,UAAYxD,EAAK,SAC1B,CACJ,EC/CauE,GAAN,cAA2B,KAAM,CAI7B,YAAYtC,EAAkB,CACjC,MAAMA,CAAO,EAHjB,KAAgB,KAAe,cAI/B,CACJ,ECDauC,GAAN,KAAwB,CAOpB,YAAYxE,EAAqD,CANxE,KAAmB,QAAU,IAAIH,EAAO,mBAAmB,EAE3D,KAAiB,eAAiB,IAAI8D,GAAM,uBAAuB,EACnE,KAAiB,cAAgB,IAAIA,GAAM,sBAAsB,EAI7D,KAAK,mCAAqC3D,EAAK,iCACnD,CAEA,MAAa,KAAKyE,EAAgC,CAC9C,IAAMlF,EAAS,KAAK,QAAQ,OAAO,MAAM,EAEzC,GAAIkF,EAAU,cAAgBA,EAAU,aAAe,OAAW,CAC9D,IAAMC,EAAWD,EAAU,WAG3B,GAFAlF,EAAO,MAAM,4CAA6CmF,CAAQ,EAE9DA,EAAW,EAAG,CAEd,IAAIC,EAAWD,EAAW,KAAK,mCAC3BC,GAAY,IACZA,EAAW,GAGfpF,EAAO,MAAM,yCAA0CoF,EAAU,SAAS,EAC1E,KAAK,eAAe,KAAKA,CAAQ,CACrC,MAEIpF,EAAO,MAAM,kEAAkE,EAC/E,KAAK,eAAe,OAAO,EAI/B,IAAMqF,EAAUF,EAAW,EAC3BnF,EAAO,MAAM,wCAAyCqF,EAAS,SAAS,EACxE,KAAK,cAAc,KAAKA,CAAO,CACnC,MAEI,KAAK,eAAe,OAAO,EAC3B,KAAK,cAAc,OAAO,CAElC,CAEA,MAAa,QAAwB,CACjC,KAAK,QAAQ,MAAM,gDAAgD,EACnE,KAAK,eAAe,OAAO,EAC3B,KAAK,cAAc,OAAO,CAC9B,CAKO,uBAAuB3B,EAAqC,CAC/D,OAAO,KAAK,eAAe,WAAWA,CAAE,CAC5C,CAIO,0BAA0BA,EAA+B,CAC5D,KAAK,eAAe,cAAcA,CAAE,CACxC,CAKO,sBAAsBA,EAAqC,CAC9D,OAAO,KAAK,cAAc,WAAWA,CAAE,CAC3C,CAIO,yBAAyBA,EAA+B,CAC3D,KAAK,cAAc,cAAcA,CAAE,CACvC,CACJ,ECjFa4B,GAAN,KAAyB,CAOrB,YACKC,EACAC,EACRxC,EACQyC,EACAC,EACV,CALU,KAAA,UAAAH,EACA,KAAA,WAAAC,EAEA,KAAA,mBAAAC,EACA,KAAA,aAAAC,EAXZ,KAAiB,QAAU,IAAIpF,EAAO,oBAAoB,EAG1D,KAAQ,OAAgD,KACxD,KAAQ,eAAgC,KAmCxC,KAAQ,SAAYqF,GAAkC,CAC9CA,EAAE,SAAW,KAAK,eAClBA,EAAE,SAAW,KAAK,OAAO,gBAErBA,EAAE,OAAS,SACX,KAAK,QAAQ,MAAM,4CAA4C,EAC3D,KAAK,cACL,KAAK,KAAK,GAGTA,EAAE,OAAS,WAChB,KAAK,QAAQ,MAAM,8CAA8C,EACjE,KAAK,KAAK,EACL,KAAK,UAAU,GAGpB,KAAK,QAAQ,MAAMA,EAAE,KAAO,uCAAuC,EAG/E,EA7CI,IAAMC,EAAY,IAAI,IAAI5C,CAAG,EAC7B,KAAK,cAAgB4C,EAAU,OAE/B,KAAK,OAAS,OAAO,SAAS,cAAc,QAAQ,EAGpD,KAAK,OAAO,MAAM,WAAa,SAC/B,KAAK,OAAO,MAAM,SAAW,QAC7B,KAAK,OAAO,MAAM,KAAO,UACzB,KAAK,OAAO,MAAM,IAAM,IACxB,KAAK,OAAO,MAAQ,IACpB,KAAK,OAAO,OAAS,IACrB,KAAK,OAAO,IAAMA,EAAU,IAChC,CAEO,MAAsB,CACzB,OAAO,IAAI,QAAeC,GAAY,CAClC,KAAK,OAAO,OAAS,IAAM,CACvBA,EAAQ,CACZ,EAEA,OAAO,SAAS,KAAK,YAAY,KAAK,MAAM,EAC5C,OAAO,iBAAiB,UAAW,KAAK,SAAU,EAAK,CAC3D,CAAC,CACL,CAuBO,MAAMC,EAA6B,CACtC,GAAI,KAAK,iBAAmBA,EACxB,OAGJ,KAAK,QAAQ,OAAO,OAAO,EAE3B,KAAK,KAAK,EAEV,KAAK,eAAiBA,EAEtB,IAAMC,EAAO,IAAM,CACX,CAAC,KAAK,OAAO,eAAiB,CAAC,KAAK,gBAIxC,KAAK,OAAO,cAAc,YAAY,KAAK,WAAa,IAAM,KAAK,eAAgB,KAAK,aAAa,CACzG,EAGAA,EAAK,EAGL,KAAK,OAAS,YAAYA,EAAM,KAAK,mBAAqB,GAAI,CAClE,CAEO,MAAa,CAChB,KAAK,QAAQ,OAAO,MAAM,EAC1B,KAAK,eAAiB,KAElB,KAAK,SAEL,cAAc,KAAK,MAAM,EACzB,KAAK,OAAS,KAEtB,CACJ,ECjGaC,GAAN,KAA4C,CAA5C,aAAA,CACH,KAAiB,QAAU,IAAI1F,EAAO,oBAAoB,EAC1D,KAAQ,MAAgC,CAAC,CAAA,CAElC,OAAc,CACjB,KAAK,QAAQ,OAAO,OAAO,EAC3B,KAAK,MAAQ,CAAC,CAClB,CAEO,QAAQ6D,EAAqB,CAChC,YAAK,QAAQ,OAAO,YAAYA,CAAG,IAAI,EAChC,KAAK,MAAMA,CAAG,CACzB,CAEO,QAAQA,EAAa/D,EAAqB,CAC7C,KAAK,QAAQ,OAAO,YAAY+D,CAAG,IAAI,EACvC,KAAK,MAAMA,CAAG,EAAI/D,CACtB,CAEO,WAAW+D,EAAmB,CACjC,KAAK,QAAQ,OAAO,eAAeA,CAAG,IAAI,EAC1C,OAAO,KAAK,MAAMA,CAAG,CACzB,CAEA,IAAW,QAAiB,CACxB,OAAO,OAAO,oBAAoB,KAAK,KAAK,EAAE,MAClD,CAEO,IAAI8B,EAAuB,CAC9B,OAAO,OAAO,oBAAoB,KAAK,KAAK,EAAEA,CAAK,CACvD,CACJ,ECvCaC,GAAN,cAA6B,KAAM,CAK/B,YAAY9C,EAAeV,EAAkB,CAChD,MAAMA,CAAO,EAJjB,KAAgB,KAAe,iBAK3B,KAAK,MAAQU,CACjB,CACJ,EC2Ba+C,GAAN,KAAkB,CAKd,YACHC,EAAmC,CAAC,EAC5BC,EAAiC,KACjCC,EAA6C,CAAC,EACxD,CAFU,KAAA,YAAAD,EACA,KAAA,cAAAC,EAPZ,KAAiB,QAAU,IAAIhG,EAAO,aAAa,EAEnD,KAAQ,cAA0B,CAAC,EAO/B,KAAK,cAAc,KAAK,GAAG8F,EAAwB,kBAAkB,EACjEC,GACA,KAAK,cAAc,KAAK,iBAAiB,CAEjD,CAEA,MAAgB,iBAAiB7C,EAAoB+C,EAAoD,CAAC,EAAG,CACzG,GAAM,CAAE,iBAAAC,EAAkB,GAAGC,CAAU,EAAIF,EAC3C,GAAI,CAACC,EACD,OAAO,MAAM,MAAMhD,EAAOiD,CAAS,EAGvC,IAAMC,EAAa,IAAI,gBACjBC,EAAY,WAAW,IAAMD,EAAW,MAAM,EAAGF,EAAmB,GAAI,EAE9E,GAAI,CAKA,OAJiB,MAAM,MAAMhD,EAAO,CAChC,GAAG+C,EACH,OAAQG,EAAW,MACvB,CAAC,CAEL,OACOhG,EAAK,CACR,MAAIA,aAAe,cAAgBA,EAAI,OAAS,aACtC,IAAIsE,GAAa,mBAAmB,EAExCtE,CACV,QAAA,CAEI,aAAaiG,CAAS,CAC1B,CACJ,CAEA,MAAa,QAAQ3D,EAAa,CAC9B,MAAA9B,EACA,YAAA0F,EACA,iBAAAJ,CACJ,EAAiB,CAAC,EAAqC,CACnD,IAAMxG,EAAS,KAAK,QAAQ,OAAO,SAAS,EACtC6G,EAAuB,CACzB,OAAU,KAAK,cAAc,KAAK,IAAI,CAC1C,EACI3F,IACAlB,EAAO,MAAM,4CAA4C,EACzD6G,EAAQ,cAAmB,UAAY3F,GAG3C,KAAK,oBAAoB2F,CAAO,EAEhC,IAAIC,EACJ,GAAI,CACA9G,EAAO,MAAM,OAAQgD,CAAG,EACxB8D,EAAW,MAAM,KAAK,iBAAiB9D,EAAK,CAAE,OAAQ,MAAO,QAAA6D,EAAS,iBAAAL,EAAkB,YAAAI,CAAY,CAAC,CACzG,OACOlG,EAAK,CACRV,MAAAA,EAAO,MAAM,eAAe,EACtBU,CACV,CAEAV,EAAO,MAAM,iCAAkC8G,EAAS,MAAM,EAC9D,IAAMC,EAAcD,EAAS,QAAQ,IAAI,cAAc,EAIvD,GAHIC,GAAe,CAAC,KAAK,cAAc,KAAKC,GAAQD,EAAY,WAAWC,CAAI,CAAC,GAC5EhH,EAAO,MAAM,IAAI,MAAM,kCAAmC+G,GAAe,WAAY,eAAe/D,CAAG,EAAE,CAAC,EAE1G8D,EAAS,IAAM,KAAK,aAAeC,GAAa,WAAW,iBAAA,EAC3D,OAAO,MAAM,KAAK,YAAY,MAAMD,EAAS,KAAK,CAAC,EAEvD,IAAIG,EACJ,GAAI,CACAA,EAAO,MAAMH,EAAS,KAAK,CAC/B,OACOpG,EAAK,CAER,MADAV,EAAO,MAAM,8BAA+BU,CAAG,EAC3CoG,EAAS,GAAUpG,EACjB,IAAI,MAAM,GAAGoG,EAAS,UAAU,KAAKA,EAAS,MAAM,GAAG,CACjE,CACA,GAAI,CAACA,EAAS,GAEV,MADA9G,EAAO,MAAM,qBAAsBiH,CAAI,EACnCA,EAAK,MACC,IAAInC,GAAcmC,CAAI,EAE1B,IAAI,MAAM,GAAGH,EAAS,UAAU,KAAKA,EAAS,MAAM,MAAM,KAAK,UAAUG,CAAI,CAAC,EAAE,EAE1F,OAAOA,CACX,CAEA,MAAa,SAASjE,EAAa,CAC/B,KAAAkE,EACA,UAAAC,EACA,iBAAAX,EACA,gBAAAY,EACA,aAAAC,CACJ,EAAmD,CAC/C,IAAMrH,EAAS,KAAK,QAAQ,OAAO,UAAU,EACvC6G,EAAuB,CACzB,OAAU,KAAK,cAAc,KAAK,IAAI,EACtC,eAAgB,oCAChB,GAAGQ,CACP,EACIF,IAAc,SACdN,EAAQ,cAAmB,SAAWM,GAG1C,KAAK,oBAAoBN,CAAO,EAEhC,IAAIC,EACJ,GAAI,CACA9G,EAAO,MAAM,OAAQgD,CAAG,EACxB8D,EAAW,MAAM,KAAK,iBAAiB9D,EAAK,CAAE,OAAQ,OAAQ,QAAA6D,EAAS,KAAAK,EAAM,iBAAAV,EAAkB,YAAaY,CAAgB,CAAC,CACjI,OACO1G,EAAK,CACRV,MAAAA,EAAO,MAAM,eAAe,EACtBU,CACV,CAEAV,EAAO,MAAM,iCAAkC8G,EAAS,MAAM,EAC9D,IAAMC,EAAcD,EAAS,QAAQ,IAAI,cAAc,EACvD,GAAIC,GAAe,CAAC,KAAK,cAAc,KAAKC,GAAQD,EAAY,WAAWC,CAAI,CAAC,EAC5E,MAAM,IAAI,MAAM,kCAAmCD,GAAe,WAAY,eAAe/D,CAAG,EAAE,EAGtG,IAAMsE,EAAe,MAAMR,EAAS,KAAK,EAErCG,EAAgC,CAAC,EACrC,GAAIK,EACA,GAAI,CACAL,EAAO,KAAK,MAAMK,CAAY,CAClC,OACO5G,EAAK,CAER,MADAV,EAAO,MAAM,8BAA+BU,CAAG,EAC3CoG,EAAS,GAAUpG,EACjB,IAAI,MAAM,GAAGoG,EAAS,UAAU,KAAKA,EAAS,MAAM,GAAG,CACjE,CAGJ,GAAI,CAACA,EAAS,GAAI,CAEd,GADA9G,EAAO,MAAM,qBAAsBiH,CAAI,EACnCH,EAAS,QAAQ,IAAI,YAAY,EAAG,CACpC,IAAM1D,EAAQ0D,EAAS,QAAQ,IAAI,YAAY,EAC/C,MAAM,IAAIZ,GAAe9C,EAAO,GAAG,KAAK,UAAU6D,CAAI,CAAC,EAAE,CAC7D,CACA,MAAIA,EAAK,MACC,IAAInC,GAAcmC,EAAMC,CAAI,EAEhC,IAAI,MAAM,GAAGJ,EAAS,UAAU,KAAKA,EAAS,MAAM,MAAM,KAAK,UAAUG,CAAI,CAAC,EAAE,CAC1F,CAEA,OAAOA,CACX,CAEQ,oBACJJ,EACI,CACJ,IAAM7G,EAAS,KAAK,QAAQ,OAAO,oBAAoB,EACjDuH,EAAa,OAAO,KAAK,KAAK,aAAa,EAC3CC,EAAmB,CACrB,SACA,cACJ,EACMC,EAAkB,CACpB,eACJ,EACIF,EAAW,SAAW,GAG1BA,EAAW,QAASG,GAAe,CAC/B,GAAIF,EAAiB,SAASE,EAAW,kBAAkB,CAAC,EAAG,CAC3D1H,EAAO,KAAK,oCAAqC0H,EAAYF,CAAgB,EAC7E,MACJ,CACA,GAAIC,EAAgB,SAASC,EAAW,kBAAkB,CAAC,GACvD,OAAO,KAAKb,CAAO,EAAE,SAASa,CAAU,EAAG,CAC3C1H,EAAO,KAAK,iCAAkC0H,EAAYD,CAAe,EACzE,MACJ,CACA,IAAME,EAAW,OAAO,KAAK,cAAcD,CAAU,GAAM,WACtD,KAAK,cAAcA,CAAU,EAAiB,EAC/C,KAAK,cAAcA,CAAU,EAC7BC,GAAWA,IAAY,KACvBd,EAAQa,CAAU,EAAIC,EAE9B,CAAC,CACL,CACJ,ECzNaC,GAAN,KAAsB,CAUlB,YAA6BC,EAAoC,CAApC,KAAA,UAAAA,EATpC,KAAiB,QAAU,IAAIvH,EAAO,iBAAiB,EAKvD,KAAQ,aAAoC,KAC5C,KAAQ,UAA0C,KAI9C,KAAK,aAAe,KAAK,UAAU,YACnC,KAAK,aAAe,IAAI6F,GACpB,CAAC,0BAA0B,EAC3B,KACA,KAAK,UAAU,YACnB,EACI,KAAK,UAAU,cACf,KAAK,QAAQ,MAAM,iCAAiC,EACpD,KAAK,aAAe,KAAK,UAAU,aAGnC,KAAK,UAAU,WACf,KAAK,QAAQ,MAAM,8BAA8B,EACjD,KAAK,UAAY,KAAK,UAAU,UAGhC,KAAK,UAAU,0BACf,KAAK,QAAQ,MAAM,6CAA6C,EAChE,KAAK,yBAA2B,KAAK,UAAU,wBAEvD,CAEO,kBAAyB,CAC5B,KAAK,aAAe,IACxB,CAEA,MAAa,aAA8C,CACvD,IAAMnG,EAAS,KAAK,QAAQ,OAAO,aAAa,EAChD,GAAI,KAAK,UACLA,OAAAA,EAAO,MAAM,qBAAqB,EAC3B,KAAK,UAGhB,GAAI,CAAC,KAAK,aACNA,MAAAA,EAAO,MAAM,IAAI,MAAM,oDAAoD,CAAC,EAEtE,KAGVA,EAAO,MAAM,wBAAyB,KAAK,YAAY,EACvD,IAAM8H,EAAW,MAAM,KAAK,aAAa,QAAQ,KAAK,aAAc,CAAE,YAAa,KAAK,yBAA0B,iBAAkB,KAAK,UAAU,uBAAwB,CAAC,EAE5K9H,OAAAA,EAAO,MAAM,wCAAwC,EACrD,KAAK,UAAY,OAAO,OAAO,CAAC,EAAG8H,EAAU,KAAK,UAAU,YAAY,EACjE,KAAK,SAChB,CAEO,WAA6B,CAChC,OAAO,KAAK,qBAAqB,QAAQ,CAC7C,CAEO,0BAA4C,CAC/C,OAAO,KAAK,qBAAqB,wBAAwB,CAC7D,CAEO,qBAAuC,CAC1C,OAAO,KAAK,qBAAqB,mBAAmB,CACxD,CAIO,iBAAiBC,EAAW,GAAmC,CAClE,OAAO,KAAK,qBAAqB,iBAAkBA,CAAQ,CAC/D,CAEO,uBAAqD,CACxD,OAAO,KAAK,qBAAqB,uBAAwB,EAAI,CACjE,CAEO,uBAAqD,CACxD,OAAO,KAAK,qBAAqB,uBAAwB,EAAI,CACjE,CAIO,sBAAsBA,EAAW,GAAmC,CACvE,OAAO,KAAK,qBAAqB,sBAAuBA,CAAQ,CACpE,CAIO,gBAAgBA,EAAW,GAAmC,CACjE,OAAO,KAAK,qBAAqB,WAAYA,CAAQ,CACzD,CAEA,MAAgB,qBAAqBlH,EAA0BkH,EAAS,GAAyD,CAC7H,IAAM/H,EAAS,KAAK,QAAQ,OAAO,yBAAyBa,CAAI,IAAI,EAE9DiH,EAAW,MAAM,KAAK,YAAY,EAGxC,GAFA9H,EAAO,MAAM,UAAU,EAEnB8H,EAASjH,CAAI,IAAM,OAAW,CAC9B,GAAIkH,IAAa,GAAM,CACnB/H,EAAO,KAAK,6CAA6C,EACzD,MACJ,CAEAA,EAAO,MAAM,IAAI,MAAM,sCAAwCa,CAAI,CAAC,CACxE,CAEA,OAAOiH,EAASjH,CAAI,CACxB,CAEA,MAAa,gBAA+C,CACxD,IAAMb,EAAS,KAAK,QAAQ,OAAO,gBAAgB,EACnD,GAAI,KAAK,aACLA,OAAAA,EAAO,MAAM,kCAAkC,EACxC,KAAK,aAGhB,IAAMgI,EAAW,MAAM,KAAK,gBAAgB,EAAK,EACjDhI,EAAO,MAAM,eAAgBgI,CAAQ,EAErC,IAAMC,EAAS,MAAM,KAAK,aAAa,QAAQD,EAAU,CAAE,iBAAkB,KAAK,UAAU,uBAAwB,CAAC,EAGrH,GAFAhI,EAAO,MAAM,cAAeiI,CAAM,EAE9B,CAAC,MAAM,QAAQA,EAAO,IAAI,EAC1BjI,MAAAA,EAAO,MAAM,IAAI,MAAM,wBAAwB,CAAC,EAE1C,KAGV,YAAK,aAAeiI,EAAO,KACpB,KAAK,YAChB,CACJ,EC1IaC,GAAN,KAAiD,CAM7C,YAAY,CACf,OAAAlH,EAAS,QACT,MAAAmH,EAAQ,YACZ,EAAyD,CAAC,EAAG,CAR7D,KAAiB,QAAU,IAAI7H,EAAO,sBAAsB,EASxD,KAAK,OAAS6H,EACd,KAAK,QAAUnH,CACnB,CAEA,MAAa,IAAImD,EAAa/D,EAA8B,CACxD,KAAK,QAAQ,OAAO,QAAQ+D,CAAG,IAAI,EAEnCA,EAAM,KAAK,QAAUA,EACrB,MAAM,KAAK,OAAO,QAAQA,EAAK/D,CAAK,CACxC,CAEA,MAAa,IAAI+D,EAAqC,CAClD,YAAK,QAAQ,OAAO,QAAQA,CAAG,IAAI,EAEnCA,EAAM,KAAK,QAAUA,EACR,MAAM,KAAK,OAAO,QAAQA,CAAG,CAE9C,CAEA,MAAa,OAAOA,EAAqC,CACrD,KAAK,QAAQ,OAAO,WAAWA,CAAG,IAAI,EAEtCA,EAAM,KAAK,QAAUA,EACrB,IAAM6C,EAAO,MAAM,KAAK,OAAO,QAAQ7C,CAAG,EAC1C,aAAM,KAAK,OAAO,WAAWA,CAAG,EACzB6C,CACX,CAEA,MAAa,YAAgC,CACzC,KAAK,QAAQ,OAAO,YAAY,EAChC,IAAMoB,EAAM,MAAM,KAAK,OAAO,OAExBC,EAAO,CAAC,EACd,QAASpC,EAAQ,EAAGA,EAAQmC,EAAKnC,IAAS,CACtC,IAAM9B,EAAM,MAAM,KAAK,OAAO,IAAI8B,CAAK,EACnC9B,GAAOA,EAAI,QAAQ,KAAK,OAAO,IAAM,GACrCkE,EAAK,KAAKlE,EAAI,OAAO,KAAK,QAAQ,MAAM,CAAC,CAEjD,CACA,OAAOkE,CACX,CACJ,ECpDMC,GAAsB,OACtBC,GAAe,SACfC,GAA8B,qBAC9BC,GAAgC,IAiKzBC,GAAN,KAA8B,CA+C1B,YAAY,CAEf,UAAAC,EAAW,YAAAC,EAAa,SAAAd,EAAU,YAAAe,EAAa,aAAAC,EAE/C,UAAAvG,EAAW,cAAAC,EAAe,cAAAuG,EAAgBT,GAAqB,MAAAU,EAAQT,GACvE,aAAAU,EAAc,yBAAAC,EACd,sBAAAC,EAAwBX,GAExB,OAAAY,EAAQ,QAAAC,EAAS,QAAAC,EAAS,WAAAC,EAAY,WAAAC,EAAY,SAAAC,EAAU,cAAAC,EAE5D,qBAAAC,EAAuB,GACvB,aAAAC,EAAe,GACf,wBAAAC,EACA,uBAAAC,EAAyBrB,GACzB,oBAAAsB,EAAsB,CAAE,MAAO,SAAU,EACzC,YAAAC,EAAc,GAEd,WAAAC,EACA,kCAAAC,EACA,wBAAAC,EACA,yBAAAC,EAEA,iBAAAC,GAAmB,CAAC,EACpB,iBAAAC,GAAmB,CAAC,EACpB,aAAAjD,GAAe,CAAC,EAChB,KAAAkD,GACA,wBAAAC,GAA0B,EAC9B,EAAuB,CAvP3B,IAAAzG,GAsSQ,GA7CA,KAAK,UAAY4E,EAEbC,EACA,KAAK,YAAcA,GAEnB,KAAK,YAAcD,EACfA,IACK,KAAK,YAAY,SAAS,GAAG,IAC9B,KAAK,aAAe,KAExB,KAAK,aAAe,qCAI5B,KAAK,SAAWb,EAChB,KAAK,aAAegB,EACpB,KAAK,YAAcD,EAEnB,KAAK,UAAYtG,EACjB,KAAK,cAAgBC,EACrB,KAAK,cAAgBuG,EACrB,KAAK,MAAQC,EACb,KAAK,aAAeC,EACpB,KAAK,yBAA2BC,EAChC,KAAK,sBAAwBC,EAE7B,KAAK,OAASC,EACd,KAAK,QAAUC,EACf,KAAK,QAAUC,EACf,KAAK,WAAaC,EAClB,KAAK,WAAaC,EAClB,KAAK,SAAWC,EAChB,KAAK,cAAgBC,EAErB,KAAK,qBAAuBC,GAAwB,GACpD,KAAK,aAAe,CAAC,CAACC,EACtB,KAAK,uBAAyBE,EAC9B,KAAK,oBAAsBC,EAC3B,KAAK,wBAA0BS,GAC/B,KAAK,YAAc,CAAC,CAACR,EACrB,KAAK,kCAAoCE,EAEzC,KAAK,wBAA0BC,GAAoD,cACnF,KAAK,wBAA0BN,EAE3BI,EACA,KAAK,WAAaA,MAEjB,CACD,IAAM9B,GAAQ,OAAO,OAAW,IAAc,OAAO,aAAe,IAAInC,GACxE,KAAK,WAAa,IAAIkC,GAAqB,CAAE,MAAAC,EAAM,CAAC,CACxD,CASA,GAPA,KAAK,yBAA2BiC,EAEhC,KAAK,iBAAmBC,GACxB,KAAK,iBAAmBC,GACxB,KAAK,aAAejD,GAEpB,KAAK,KAAOkD,GACR,KAAK,MAAQ,GAACxG,GAAA,KAAK,OAAL,MAAAA,GAAW,OACzB,MAAM,IAAI,MAAM,8CAA8C,CAEtE,CACJ,EC7Sa0G,GAAN,KAAsB,CAIlB,YAA6B5C,EACf6C,EACnB,CAFkC,KAAA,UAAA7C,EACf,KAAA,iBAAA6C,EAJrB,KAAmB,QAAU,IAAIpK,EAAO,iBAAiB,EAgCzD,KAAU,kBAAoB,MAAOgH,GAA6C,CAC9E,IAAMtH,EAAS,KAAK,QAAQ,OAAO,mBAAmB,EACtD,GAAI,CACA,IAAMqB,EAAUJ,GAAS,OAAOqG,CAAY,EAC5CtH,OAAAA,EAAO,MAAM,yBAAyB,EAE/BqB,CACX,OAASX,EAAK,CACVV,MAAAA,EAAO,MAAM,4BAA4B,EACnCU,CACV,CACJ,EArCI,KAAK,aAAe,IAAIyF,GACpB,OACA,KAAK,kBACL,KAAK,UAAU,YACnB,CACJ,CAEA,MAAa,UAAUjF,EAAmC,CACtD,IAAMlB,EAAS,KAAK,QAAQ,OAAO,WAAW,EACzCkB,GACD,KAAK,QAAQ,MAAM,IAAI,MAAM,iBAAiB,CAAC,EAGnD,IAAM8B,EAAM,MAAM,KAAK,iBAAiB,oBAAoB,EAC5DhD,EAAO,MAAM,mBAAoBgD,CAAG,EAEpC,IAAM2H,EAAS,MAAM,KAAK,aAAa,QAAQ3H,EAAK,CAChD,MAAA9B,EACA,YAAa,KAAK,UAAU,wBAC5B,iBAAkB,KAAK,UAAU,uBACrC,CAAC,EACDlB,OAAAA,EAAO,MAAM,aAAc2K,CAAM,EAE1BA,CACX,CAcJ,ECSaC,GAAN,KAAkB,CAId,YACc/C,EACA6C,EACnB,CAFmB,KAAA,UAAA7C,EACA,KAAA,iBAAA6C,EALrB,KAAiB,QAAU,IAAIpK,EAAO,aAAa,EAO/C,KAAK,aAAe,IAAI6F,GACpB,KAAK,UAAU,kCACf,KACA,KAAK,UAAU,YACnB,CACJ,CAOA,MAAa,aAAa,CACtB,WAAA0E,EAAa,qBACb,aAAA5B,EAAe,KAAK,UAAU,aAC9B,UAAA1G,EAAY,KAAK,UAAU,UAC3B,cAAAC,EAAgB,KAAK,UAAU,cAC/B,aAAA6E,EACA,GAAG5G,CACP,EAAuD,CACnD,IAAMT,EAAS,KAAK,QAAQ,OAAO,cAAc,EAC5CuC,GACDvC,EAAO,MAAM,IAAI,MAAM,yBAAyB,CAAC,EAEhDiJ,GACDjJ,EAAO,MAAM,IAAI,MAAM,4BAA4B,CAAC,EAEnDS,EAAK,MACNT,EAAO,MAAM,IAAI,MAAM,oBAAoB,CAAC,EAGhD,IAAM4E,EAAS,IAAI,gBAAgB,CAAE,WAAAiG,EAAY,aAAA5B,CAAa,CAAC,EAC/D,OAAW,CAAC9E,EAAK/D,CAAK,IAAK,OAAO,QAAQK,CAAI,EACtCL,GAAS,MACTwE,EAAO,IAAIT,EAAK/D,CAAK,EAG7B,IAAI+G,EACJ,OAAQ,KAAK,UAAU,sBAAuB,CAC1C,IAAK,sBACD,GAAmC3E,GAAkB,KACjDxC,MAAAA,EAAO,MAAM,IAAI,MAAM,6BAA6B,CAAC,EAE/C,KAEVmH,EAAY3F,EAAY,kBAAkBe,EAAWC,CAAa,EAClE,MACJ,IAAK,qBACDoC,EAAO,OAAO,YAAarC,CAAS,EAChCC,GACAoC,EAAO,OAAO,gBAAiBpC,CAAa,EAEhD,KACR,CAEA,IAAMQ,EAAM,MAAM,KAAK,iBAAiB,iBAAiB,EAAK,EAC9DhD,EAAO,MAAM,oBAAoB,EAEjC,IAAM8G,EAAW,MAAM,KAAK,aAAa,SAAS9D,EAAK,CACnD,KAAM4B,EACN,UAAAuC,EACA,iBAAkB,KAAK,UAAU,wBACjC,gBAAiB,KAAK,UAAU,wBAChC,aAAAE,CACJ,CAAC,EAEDrH,OAAAA,EAAO,MAAM,cAAc,EAEpB8G,CACX,CAOA,MAAa,oBAAoB,CAC7B,WAAA+D,EAAa,WACb,UAAAtI,EAAY,KAAK,UAAU,UAC3B,cAAAC,EAAgB,KAAK,UAAU,cAC/B,MAAAwG,EAAQ,KAAK,UAAU,MACvB,GAAGvI,CACP,EAA8D,CAC1D,IAAMT,EAAS,KAAK,QAAQ,OAAO,qBAAqB,EAEnDuC,GACDvC,EAAO,MAAM,IAAI,MAAM,yBAAyB,CAAC,EAGrD,IAAM4E,EAAS,IAAI,gBAAgB,CAAE,WAAAiG,CAAW,CAAC,EAC5C,KAAK,UAAU,yBAChBjG,EAAO,IAAI,QAASoE,CAAK,EAE7B,OAAW,CAAC7E,EAAK/D,CAAK,IAAK,OAAO,QAAQK,CAAI,EACtCL,GAAS,MACTwE,EAAO,IAAIT,EAAK/D,CAAK,EAI7B,IAAI+G,EACJ,OAAQ,KAAK,UAAU,sBAAuB,CAC1C,IAAK,sBACD,GAAmC3E,GAAkB,KACjDxC,MAAAA,EAAO,MAAM,IAAI,MAAM,6BAA6B,CAAC,EAE/C,KAEVmH,EAAY3F,EAAY,kBAAkBe,EAAWC,CAAa,EAClE,MACJ,IAAK,qBACDoC,EAAO,OAAO,YAAarC,CAAS,EAChCC,GACAoC,EAAO,OAAO,gBAAiBpC,CAAa,EAEhD,KACR,CAEA,IAAMQ,EAAM,MAAM,KAAK,iBAAiB,iBAAiB,EAAK,EAC9DhD,EAAO,MAAM,oBAAoB,EAEjC,IAAM8G,EAAW,MAAM,KAAK,aAAa,SAAS9D,EAAK,CAAE,KAAM4B,EAAQ,UAAAuC,EAAW,iBAAkB,KAAK,UAAU,wBAAyB,gBAAiB,KAAK,UAAU,uBAAwB,CAAC,EACrMnH,OAAAA,EAAO,MAAM,cAAc,EAEpB8G,CACX,CAOA,MAAa,qBAAqB,CAC9B,WAAA+D,EAAa,gBACb,UAAAtI,EAAY,KAAK,UAAU,UAC3B,cAAAC,EAAgB,KAAK,UAAU,cAC/B,iBAAAgE,EACA,aAAAa,EACA,GAAG5G,CACP,EAA+D,CAC3D,IAAMT,EAAS,KAAK,QAAQ,OAAO,sBAAsB,EACpDuC,GACDvC,EAAO,MAAM,IAAI,MAAM,yBAAyB,CAAC,EAEhDS,EAAK,eACNT,EAAO,MAAM,IAAI,MAAM,6BAA6B,CAAC,EAGzD,IAAM4E,EAAS,IAAI,gBAAgB,CAAE,WAAAiG,CAAW,CAAC,EACjD,OAAW,CAAC1G,EAAK/D,CAAK,IAAK,OAAO,QAAQK,CAAI,EACtC,MAAM,QAAQL,CAAK,EACnBA,EAAM,QAAQ0K,GAASlG,EAAO,OAAOT,EAAK2G,CAAK,CAAC,EAE3C1K,GAAS,MACdwE,EAAO,IAAIT,EAAK/D,CAAK,EAG7B,IAAI+G,EACJ,OAAQ,KAAK,UAAU,sBAAuB,CAC1C,IAAK,sBACD,GAAmC3E,GAAkB,KACjDxC,MAAAA,EAAO,MAAM,IAAI,MAAM,6BAA6B,CAAC,EAE/C,KAEVmH,EAAY3F,EAAY,kBAAkBe,EAAWC,CAAa,EAClE,MACJ,IAAK,qBACDoC,EAAO,OAAO,YAAarC,CAAS,EAChCC,GACAoC,EAAO,OAAO,gBAAiBpC,CAAa,EAEhD,KACR,CAEA,IAAMQ,EAAM,MAAM,KAAK,iBAAiB,iBAAiB,EAAK,EAC9DhD,EAAO,MAAM,oBAAoB,EAEjC,IAAM8G,EAAW,MAAM,KAAK,aAAa,SAAS9D,EAAK,CAAE,KAAM4B,EAAQ,UAAAuC,EAAW,iBAAAX,EAAkB,gBAAiB,KAAK,UAAU,wBAAyB,aAAAa,CAAa,CAAC,EAC3KrH,OAAAA,EAAO,MAAM,cAAc,EAEpB8G,CACX,CAOA,MAAa,OAAOrG,EAAiC,CAtQzD,IAAAsD,EAuQQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,QAAQ,EACtCS,EAAK,OACNT,EAAO,MAAM,IAAI,MAAM,qBAAqB,CAAC,EAGjD,IAAMgD,EAAM,MAAM,KAAK,iBAAiB,sBAAsB,EAAK,EAEnEhD,EAAO,MAAM,sCAAqC+D,EAAAtD,EAAK,kBAAL,KAAAsD,EAAwB,oBAAoB,EAAE,EAEhG,IAAMa,EAAS,IAAI,gBACnB,OAAW,CAACT,EAAK/D,CAAK,IAAK,OAAO,QAAQK,CAAI,EACtCL,GAAS,MACTwE,EAAO,IAAIT,EAAK/D,CAAK,EAG7BwE,EAAO,IAAI,YAAa,KAAK,UAAU,SAAS,EAC5C,KAAK,UAAU,eACfA,EAAO,IAAI,gBAAiB,KAAK,UAAU,aAAa,EAG5D,MAAM,KAAK,aAAa,SAAS5B,EAAK,CAAE,KAAM4B,EAAQ,iBAAkB,KAAK,UAAU,uBAAwB,CAAC,EAChH5E,EAAO,MAAM,cAAc,CAC/B,CACJ,ECzQa+K,GAAN,KAAwB,CAKpB,YACgBlD,EACA6C,EACAM,EACrB,CAHqB,KAAA,UAAAnD,EACA,KAAA,iBAAA6C,EACA,KAAA,eAAAM,EAPvB,KAAmB,QAAU,IAAI1K,EAAO,mBAAmB,EASvD,KAAK,iBAAmB,IAAImK,GAAgB,KAAK,UAAW,KAAK,gBAAgB,EACjF,KAAK,aAAe,IAAIG,GAAY,KAAK,UAAW,KAAK,gBAAgB,CAC7E,CAEA,MAAa,uBAAuB9D,EAA0BmE,EAAoB5D,EAA2D,CACzI,IAAMrH,EAAS,KAAK,QAAQ,OAAO,wBAAwB,EAE3D,KAAK,oBAAoB8G,EAAUmE,CAAK,EACxCjL,EAAO,MAAM,iBAAiB,EAE9B,MAAM,KAAK,aAAa8G,EAAUmE,EAAO5D,CAAY,EACrDrH,EAAO,MAAM,gBAAgB,EAEzB8G,EAAS,UACT,KAAK,2BAA2BA,CAAQ,EAE5C9G,EAAO,MAAM,kBAAkB,EAE/B,MAAM,KAAK,eAAe8G,EAAUmE,GAAO,aAAcnE,EAAS,QAAQ,EAC1E9G,EAAO,MAAM,kBAAkB,CACnC,CAEA,MAAa,4BAA4B8G,EAA0BoE,EAAsC,CACrG,IAAMlL,EAAS,KAAK,QAAQ,OAAO,6BAA6B,EAC1DmL,EAAyBrE,EAAS,UAAY,CAAC,CAACA,EAAS,SAE3DqE,GACA,KAAK,2BAA2BrE,CAAQ,EAE5C9G,EAAO,MAAM,kBAAkB,EAE/B,MAAM,KAAK,eAAe8G,EAAUoE,EAAcC,CAAsB,EACxEnL,EAAO,MAAM,kBAAkB,CACnC,CAEA,MAAa,wBAAwB8G,EAA0BmE,EAAoC,CAlEvG,IAAAlH,EAAAC,EAmEQ,IAAMhE,EAAS,KAAK,QAAQ,OAAO,yBAAyB,EAE5D8G,EAAS,UAAYmE,EAAM,MAE3BlH,EAAA+C,EAAS,gBAAT,OAAAA,EAAS,cAAkBmE,EAAM,gBAEjCjH,EAAA8C,EAAS,QAAT,OAAAA,EAAS,MAAUmE,EAAM,OAIrBnE,EAAS,UAAcA,EAAS,WAChC,KAAK,2BAA2BA,EAAUmE,EAAM,QAAQ,EACxDjL,EAAO,MAAM,oBAAoB,GAGhC8G,EAAS,WAEVA,EAAS,SAAWmE,EAAM,SAE1BnE,EAAS,QAAUmE,EAAM,SAG7B,IAAMG,EAAatE,EAAS,UAAY,CAAC,CAACA,EAAS,SACnD,MAAM,KAAK,eAAeA,EAAU,GAAOsE,CAAU,EACrDpL,EAAO,MAAM,kBAAkB,CACnC,CAEO,wBAAwB8G,EAA2BmE,EAAoB,CAC1E,IAAMjL,EAAS,KAAK,QAAQ,OAAO,yBAAyB,EAW5D,GAVIiL,EAAM,KAAOnE,EAAS,OACtB9G,EAAO,MAAM,IAAI,MAAM,sBAAsB,CAAC,EAMlDA,EAAO,MAAM,iBAAiB,EAC9B8G,EAAS,UAAYmE,EAAM,KAEvBnE,EAAS,MACT9G,MAAAA,EAAO,KAAK,qBAAsB8G,EAAS,KAAK,EAC1C,IAAIhC,GAAcgC,CAAQ,CAExC,CAEU,oBAAoBA,EAA0BmE,EAA0B,CAhHtF,IAAAlH,EAiHQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,qBAAqB,EA8BxD,GA7BIiL,EAAM,KAAOnE,EAAS,OACtB9G,EAAO,MAAM,IAAI,MAAM,sBAAsB,CAAC,EAG7CiL,EAAM,WACPjL,EAAO,MAAM,IAAI,MAAM,uBAAuB,CAAC,EAG9CiL,EAAM,WACPjL,EAAO,MAAM,IAAI,MAAM,uBAAuB,CAAC,EAI/C,KAAK,UAAU,YAAciL,EAAM,WACnCjL,EAAO,MAAM,IAAI,MAAM,iDAAiD,CAAC,EAEzE,KAAK,UAAU,WAAa,KAAK,UAAU,YAAciL,EAAM,WAC/DjL,EAAO,MAAM,IAAI,MAAM,iDAAiD,CAAC,EAM7EA,EAAO,MAAM,iBAAiB,EAC9B8G,EAAS,UAAYmE,EAAM,KAC3BnE,EAAS,UAAYmE,EAAM,WAE3BlH,EAAA+C,EAAS,QAAT,OAAAA,EAAS,MAAUmE,EAAM,OAErBnE,EAAS,MACT9G,MAAAA,EAAO,KAAK,qBAAsB8G,EAAS,KAAK,EAC1C,IAAIhC,GAAcgC,CAAQ,EAGhCmE,EAAM,eAAiB,CAACnE,EAAS,MACjC9G,EAAO,MAAM,IAAI,MAAM,2BAA2B,CAAC,CAG3D,CAEA,MAAgB,eAAe8G,EAA0BoE,EAAe,GAAOG,EAAc,GAAqB,CAC9G,IAAMrL,EAAS,KAAK,QAAQ,OAAO,gBAAgB,EAGnD,GAFA8G,EAAS,QAAU,KAAK,eAAe,qBAAqBA,EAAS,OAAO,EAExEoE,GAAgB,CAAC,KAAK,UAAU,cAAgB,CAACpE,EAAS,aAAc,CACxE9G,EAAO,MAAM,uBAAuB,EACpC,MACJ,CAEAA,EAAO,MAAM,mBAAmB,EAChC,IAAM2K,EAAS,MAAM,KAAK,iBAAiB,UAAU7D,EAAS,YAAY,EAC1E9G,EAAO,MAAM,mDAAmD,EAE5DqL,GAAeV,EAAO,MAAQ7D,EAAS,QAAQ,KAC/C9G,EAAO,MAAM,IAAI,MAAM,mEAAmE,CAAC,EAG/F8G,EAAS,QAAU,KAAK,eAAe,YAAYA,EAAS,QAAS,KAAK,eAAe,qBAAqB6D,CAAuB,CAAC,EACtI3K,EAAO,MAAM,8CAA+C8G,EAAS,OAAO,CAChF,CAEA,MAAgB,aAAaA,EAA0BmE,EAAoB5D,EAA2D,CAClI,IAAMrH,EAAS,KAAK,QAAQ,OAAO,cAAc,EACjD,GAAI8G,EAAS,KAAM,CACf9G,EAAO,MAAM,iBAAiB,EAC9B,IAAMsL,EAAgB,MAAM,KAAK,aAAa,aAAa,CACvD,UAAWL,EAAM,UACjB,cAAeA,EAAM,cACrB,KAAMnE,EAAS,KACf,aAAcmE,EAAM,aACpB,cAAeA,EAAM,cACrB,aAAA5D,EACA,GAAG4D,EAAM,gBACb,CAAC,EACD,OAAO,OAAOnE,EAAUwE,CAAa,CACzC,MACItL,EAAO,MAAM,oBAAoB,CAEzC,CAEU,2BAA2B8G,EAA0ByE,EAA8B,CAlMjG,IAAAxH,EAmMQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,4BAA4B,EAE/DA,EAAO,MAAM,uBAAuB,EACpC,IAAMwL,EAAWvK,GAAS,QAAO8C,EAAA+C,EAAS,WAAT,KAAA/C,EAAqB,EAAE,EAMxD,GAJKyH,EAAS,KACVxL,EAAO,MAAM,IAAI,MAAM,qCAAqC,CAAC,EAG7DuL,EAAe,CACf,IAAME,EAAWxK,GAAS,OAAOsK,CAAa,EAC1CC,EAAS,MAAQC,EAAS,KAC1BzL,EAAO,MAAM,IAAI,MAAM,4CAA4C,CAAC,EAEpEwL,EAAS,WAAaA,EAAS,YAAcC,EAAS,WACtDzL,EAAO,MAAM,IAAI,MAAM,yDAAyD,CAAC,EAEjFwL,EAAS,KAAOA,EAAS,MAAQC,EAAS,KAC1CzL,EAAO,MAAM,IAAI,MAAM,6CAA6C,CAAC,EAErE,CAACwL,EAAS,KAAOC,EAAS,KAC1BzL,EAAO,MAAM,IAAI,MAAM,uDAAuD,CAAC,CAEvF,CAEA8G,EAAS,QAAU0E,CACvB,CACJ,ECrNaE,GAAN,MAAMC,EAAM,CASR,YAAYlL,EAMhB,CACC,KAAK,GAAKA,EAAK,IAAMe,EAAY,eAAe,EAChD,KAAK,KAAOf,EAAK,KAEbA,EAAK,SAAWA,EAAK,QAAU,EAC/B,KAAK,QAAUA,EAAK,QAGpB,KAAK,QAAU2D,GAAM,aAAa,EAEtC,KAAK,aAAe3D,EAAK,aACzB,KAAK,UAAYA,EAAK,SAC1B,CAEO,iBAA0B,CAC7B,WAAIH,EAAO,OAAO,EAAE,OAAO,iBAAiB,EACrC,KAAK,UAAU,CAClB,GAAI,KAAK,GACT,KAAM,KAAK,KACX,QAAS,KAAK,QACd,aAAc,KAAK,aACnB,UAAW,KAAK,SACpB,CAAC,CACL,CAEA,OAAc,kBAAkBsL,EAAuC,CACnE,OAAAtL,EAAO,aAAa,QAAS,mBAAmB,EACzC,QAAQ,QAAQ,IAAIqL,GAAM,KAAK,MAAMC,CAAa,CAAC,CAAC,CAC/D,CAEA,aAAoB,gBAAgBC,EAAqBC,EAA4B,CACjF,IAAM9L,EAASM,EAAO,aAAa,QAAS,iBAAiB,EACvDyL,EAAS3H,GAAM,aAAa,EAAI0H,EAEhCzD,EAAO,MAAMwD,EAAQ,WAAW,EACtC7L,EAAO,MAAM,WAAYqI,CAAI,EAE7B,QAAS,EAAI,EAAG,EAAIA,EAAK,OAAQ,IAAK,CAClC,IAAMlE,EAAMkE,EAAK,CAAC,EACZrB,EAAO,MAAM6E,EAAQ,IAAI1H,CAAG,EAC9B6H,EAAS,GAEb,GAAIhF,EACA,GAAI,CACA,IAAMiE,EAAQ,MAAMU,GAAM,kBAAkB3E,CAAI,EAEhDhH,EAAO,MAAM,qBAAsBmE,EAAK8G,EAAM,OAAO,EACjDA,EAAM,SAAWc,IACjBC,EAAS,GAEjB,OACOtL,EAAK,CACRV,EAAO,MAAM,+BAAgCmE,EAAKzD,CAAG,EACrDsL,EAAS,EACb,MAGAhM,EAAO,MAAM,8BAA+BmE,CAAG,EAC/C6H,EAAS,GAGTA,IACAhM,EAAO,MAAM,wBAAyBmE,CAAG,EACpC0H,EAAQ,OAAO1H,CAAG,EAE/B,CACJ,CACJ,ECzDa8H,GAAN,MAAMC,WAAoBR,EAAM,CAyB3B,YAAYjL,EAAuB,CACvC,MAAMA,CAAI,EAEV,KAAK,cAAgBA,EAAK,cAC1B,KAAK,eAAiBA,EAAK,eAC3B,KAAK,UAAYA,EAAK,UACtB,KAAK,UAAYA,EAAK,UACtB,KAAK,aAAeA,EAAK,aACzB,KAAK,MAAQA,EAAK,MAClB,KAAK,cAAgBA,EAAK,cAC1B,KAAK,iBAAmBA,EAAK,iBAE7B,KAAK,cAAgBA,EAAK,cAC1B,KAAK,aAAeA,EAAK,YAC7B,CAEA,aAAoB,OAAOA,EAAmD,CAC1E,IAAM2B,EAAgB3B,EAAK,gBAAkB,GAAOe,EAAY,qBAAqB,EAAKf,EAAK,eAAiB,OAC1G0L,EAAiB/J,EAAiB,MAAMZ,EAAY,sBAAsBY,CAAa,EAAK,OAElG,OAAO,IAAI8J,GAAY,CACnB,GAAGzL,EACH,cAAA2B,EACA,eAAA+J,CACJ,CAAC,CACL,CAEO,iBAA0B,CAC7B,WAAI7L,EAAO,aAAa,EAAE,OAAO,iBAAiB,EAC3C,KAAK,UAAU,CAClB,GAAI,KAAK,GACT,KAAM,KAAK,KACX,QAAS,KAAK,QACd,aAAc,KAAK,aACnB,UAAW,KAAK,UAEhB,cAAe,KAAK,cACpB,UAAW,KAAK,UAChB,UAAW,KAAK,UAChB,aAAc,KAAK,aACnB,MAAO,KAAK,MACZ,cAAe,KAAK,cACpB,iBAAmB,KAAK,iBACxB,cAAe,KAAK,cACpB,aAAc,KAAK,YACvB,CAAC,CACL,CAEA,OAAc,kBAAkBsL,EAA6C,CACzEtL,EAAO,aAAa,cAAe,mBAAmB,EACtD,IAAM+B,EAAO,KAAK,MAAMuJ,CAAa,EACrC,OAAOM,GAAY,OAAO7J,CAAI,CAClC,CACJ,EC5Da+J,GAAN,MAAMA,EAAc,CAMf,YAAY3L,EAGjB,CACC,KAAK,IAAMA,EAAK,IAChB,KAAK,MAAQA,EAAK,KACtB,CAEA,aAAoB,OAAO,CAEvB,IAAAuC,EAAK,UAAA2F,EAAW,UAAApG,EAAW,aAAA0G,EAAc,cAAAF,EAAe,MAAAC,EAExD,WAAAqD,EAAY,cAAA3C,EAAe,aAAA4C,EAAc,cAAA9J,EAAe,MAAAY,EAAO,UAAAmJ,EAC/D,SAAA9C,EACA,aAAAyB,EACA,iBAAAb,EACA,iBAAAC,EACA,YAAAN,EACA,QAAAwC,EACA,wBAAAhC,EACA,GAAGiC,CACP,EAAoD,CAChD,GAAI,CAACzJ,EACD,WAAK,QAAQ,MAAM,uBAAuB,EACpC,IAAI,MAAM,KAAK,EAEzB,GAAI,CAACT,EACD,WAAK,QAAQ,MAAM,6BAA6B,EAC1C,IAAI,MAAM,WAAW,EAE/B,GAAI,CAAC0G,EACD,WAAK,QAAQ,MAAM,gCAAgC,EAC7C,IAAI,MAAM,cAAc,EAElC,GAAI,CAACF,EACD,WAAK,QAAQ,MAAM,iCAAiC,EAC9C,IAAI,MAAM,eAAe,EAEnC,GAAI,CAACC,EACD,WAAK,QAAQ,MAAM,yBAAyB,EACtC,IAAI,MAAM,OAAO,EAE3B,GAAI,CAACL,EACD,WAAK,QAAQ,MAAM,6BAA6B,EAC1C,IAAI,MAAM,WAAW,EAG/B,IAAMsC,EAAQ,MAAMgB,GAAY,OAAO,CACnC,KAAMI,EACN,aAAAC,EACA,UAAAC,EACA,cAAe,CAACvC,EAChB,UAAAzH,EAAW,UAAAoG,EAAW,aAAAM,EACtB,cAAAS,EACA,cAAAlH,EAAe,MAAAwG,EAAO,iBAAAsB,EACtB,aAAAY,CACJ,CAAC,EAEKtF,EAAY,IAAI,IAAI5C,CAAG,EAC7B4C,EAAU,aAAa,OAAO,YAAarD,CAAS,EACpDqD,EAAU,aAAa,OAAO,eAAgBqD,CAAY,EAC1DrD,EAAU,aAAa,OAAO,gBAAiBmD,CAAa,EACvDyB,GACD5E,EAAU,aAAa,OAAO,QAASoD,CAAK,EAE5C5F,GACAwC,EAAU,aAAa,OAAO,QAASxC,CAAK,EAG5CoJ,GACA5G,EAAU,aAAa,OAAO,WAAY4G,CAAO,EAGrD,IAAIE,EAAazB,EAAM,GACnBsB,IACAG,EAAa,GAAGA,CAAU,GAAG7H,EAAmB,GAAG0H,CAAS,IAEhE3G,EAAU,aAAa,OAAO,QAAS8G,CAAU,EAC7CzB,EAAM,iBACNrF,EAAU,aAAa,OAAO,iBAAkBqF,EAAM,cAAc,EACpErF,EAAU,aAAa,OAAO,wBAAyB,MAAM,GAG7D6D,IAEkB,MAAM,QAAQA,CAAQ,EAAIA,EAAW,CAACA,CAAQ,GAE3D,QAAQkD,GAAK/G,EAAU,aAAa,OAAO,WAAY+G,CAAC,CAAC,EAGlE,OAAW,CAACxI,EAAK/D,CAAK,IAAK,OAAO,QAAQ,CAAE,cAAAsJ,EAAe,GAAG+C,EAAgB,GAAGpC,CAAiB,CAAC,EAC3FjK,GAAS,MACTwF,EAAU,aAAa,OAAOzB,EAAK/D,EAAM,SAAS,CAAC,EAI3D,OAAO,IAAIgM,GAAc,CACrB,IAAKxG,EAAU,KACf,MAAAqF,CACJ,CAAC,CACL,CACJ,EA3GamB,GACe,QAAU,IAAI9L,EAAO,eAAe,EADzD,IAAMsM,GAANR,GC9CDS,GAAY,SAOLC,GAAN,KAAqB,CAsCjB,YAAYlI,EAAyB,CAGxC,GApBJ,KAAO,aAAe,GAEtB,KAAO,WAAa,GAapB,KAAO,QAAuB,CAAC,EAG3B,KAAK,MAAQA,EAAO,IAAI,OAAO,EAC/B,KAAK,cAAgBA,EAAO,IAAI,eAAe,EAC3C,KAAK,MAAO,CACZ,IAAMmI,EAAa,mBAAmB,KAAK,KAAK,EAAE,MAAMlI,EAAmB,EAC3E,KAAK,MAAQkI,EAAW,CAAC,EACrBA,EAAW,OAAS,IACpB,KAAK,UAAYA,EAAW,MAAM,CAAC,EAAE,KAAKlI,EAAmB,EAErE,CAEA,KAAK,MAAQD,EAAO,IAAI,OAAO,EAC/B,KAAK,kBAAoBA,EAAO,IAAI,mBAAmB,EACvD,KAAK,UAAYA,EAAO,IAAI,WAAW,EAEvC,KAAK,KAAOA,EAAO,IAAI,MAAM,CACjC,CAEA,IAAW,YAAiC,CACxC,GAAI,KAAK,aAAe,OAGxB,OAAO,KAAK,WAAaR,GAAM,aAAa,CAChD,CACA,IAAW,WAAWhE,EAA2B,CAEzC,OAAOA,GAAU,WAAUA,EAAQ,OAAOA,CAAK,GAC/CA,IAAU,QAAaA,GAAS,IAChC,KAAK,WAAa,KAAK,MAAMA,CAAK,EAAIgE,GAAM,aAAa,EAEjE,CAEA,IAAW,UAAoB,CAnFnC,IAAAL,EAoFQ,QAAOA,EAAA,KAAK,QAAL,KAAA,OAAAA,EAAY,MAAM,GAAA,EAAK,SAAS8I,EAAA,IAAc,CAAC,CAAC,KAAK,QAChE,CACJ,ECxDaG,GAAN,KAAqB,CAMjB,YAAY,CACf,IAAAhK,EACA,WAAAqJ,EAAY,cAAAY,EAAe,yBAAA/D,EAA0B,iBAAAmB,EAAkB,aAAAiC,EAAc,UAAA/J,EAAW,UAAAgK,CACpG,EAAuB,CACnB,GATJ,KAAiB,QAAU,IAAIjM,EAAO,gBAAgB,EAS9C,CAAC0C,EACD,WAAK,QAAQ,MAAM,qBAAqB,EAClC,IAAI,MAAM,KAAK,EAGzB,IAAM4C,EAAY,IAAI,IAAI5C,CAAG,EAQ7B,GAPIiK,GACArH,EAAU,aAAa,OAAO,gBAAiBqH,CAAa,EAE5D1K,GACAqD,EAAU,aAAa,OAAO,YAAarD,CAAS,EAGpD2G,IACAtD,EAAU,aAAa,OAAO,2BAA4BsD,CAAwB,EAG9EmD,GAAcE,GAAW,CACzB,KAAK,MAAQ,IAAIb,GAAM,CAAE,KAAMW,EAAY,aAAAC,EAAc,UAAAC,CAAU,CAAC,EAEpE,IAAIG,EAAa,KAAK,MAAM,GACxBH,IACAG,EAAa,GAAGA,CAAU,GAAG7H,EAAmB,GAAG0H,CAAS,IAEhE3G,EAAU,aAAa,OAAO,QAAS8G,CAAU,CACrD,CAGJ,OAAW,CAACvI,EAAK/D,CAAK,IAAK,OAAO,QAAQ,CAAE,GAAGiK,CAAiB,CAAC,EACzDjK,GAAS,MACTwF,EAAU,aAAa,OAAOzB,EAAK/D,EAAM,SAAS,CAAC,EAI3D,KAAK,IAAMwF,EAAU,IACzB,CACJ,ECnEasH,GAAN,KAAsB,CAelB,YAAYtI,EAAyB,CAExC,GADA,KAAK,MAAQA,EAAO,IAAI,OAAO,EAC3B,KAAK,MAAO,CACZ,IAAMmI,EAAa,mBAAmB,KAAK,KAAK,EAAE,MAAMlI,EAAmB,EAC3E,KAAK,MAAQkI,EAAW,CAAC,EACrBA,EAAW,OAAS,IACpB,KAAK,UAAYA,EAAW,MAAM,CAAC,EAAE,KAAKlI,EAAmB,EAErE,CAEA,KAAK,MAAQD,EAAO,IAAI,OAAO,EAC/B,KAAK,kBAAoBA,EAAO,IAAI,mBAAmB,EACvD,KAAK,UAAYA,EAAO,IAAI,WAAW,CAC3C,CACJ,ECrBMuI,GAAwB,CAC1B,MACA,MACA,YACA,QACA,MACA,MACA,MACA,SACJ,EAQMC,GAAiC,CAAC,MAAO,MAAO,MAAO,MAAO,KAAK,EAK5DC,GAAN,KAAoB,CAEhB,YACgBxF,EACrB,CADqB,KAAA,UAAAA,EAFvB,KAAmB,QAAU,IAAIvH,EAAO,eAAe,CAGpD,CAEI,qBAAqBqK,EAAkC,CAC1D,IAAM2C,EAAS,CAAE,GAAG3C,CAAO,EAE3B,GAAI,KAAK,UAAU,qBAAsB,CACrC,IAAI4C,EACA,MAAM,QAAQ,KAAK,UAAU,oBAAoB,EACjDA,EAAiB,KAAK,UAAU,qBAEhCA,EAAiBJ,GAGrB,QAAWK,KAASD,EACXH,GAA+B,SAASI,CAAK,GAC9C,OAAOF,EAAOE,CAAK,CAG/B,CAEA,OAAOF,CACX,CAGO,YAAYG,EAAsBC,EAAiC,CACtE,IAAMJ,EAAS,CAAE,GAAGG,CAAQ,EAC5B,OAAW,CAACD,EAAOG,CAAM,IAAK,OAAO,QAAQD,CAAO,EAChD,GAAIJ,EAAOE,CAAK,IAAMG,EAClB,GAAI,MAAM,QAAQL,EAAOE,CAAK,CAAC,GAAK,MAAM,QAAQG,CAAM,EACpD,GAAI,KAAK,UAAU,oBAAoB,OAAS,UAC5CL,EAAOE,CAAK,EAAIG,MACb,CACH,IAAMC,EAAe,MAAM,QAAQN,EAAOE,CAAK,CAAC,EAAIF,EAAOE,CAAK,EAAiB,CAACF,EAAOE,CAAK,CAAC,EAC/F,QAAWpN,KAAS,MAAM,QAAQuN,CAAM,EAAIA,EAAS,CAACA,CAAM,EACnDC,EAAa,SAASxN,CAAK,GAC5BwN,EAAa,KAAKxN,CAAK,EAG/BkN,EAAOE,CAAK,EAAII,CACpB,MACO,OAAON,EAAOE,CAAK,GAAM,UAAY,OAAOG,GAAW,SAC9DL,EAAOE,CAAK,EAAI,KAAK,YAAYF,EAAOE,CAAK,EAAgBG,CAAmB,EAEhFL,EAAOE,CAAK,EAAIG,EAK5B,OAAOL,CACX,CACJ,EChFaO,GAAN,KAAgB,CACZ,YACaxF,EACTjF,EACT,CAFkB,KAAA,KAAAiF,EACT,KAAA,MAAAjF,CACP,CACR,ECwDa0K,GAAN,KAAiB,CAWb,YAAYC,EAAwDC,EAAmC,CAT9G,KAAmB,QAAU,IAAI1N,EAAO,YAAY,EAUhD,KAAK,SAAWyN,aAAoBrF,GAA0BqF,EAAW,IAAIrF,GAAwBqF,CAAQ,EAE7G,KAAK,gBAAkBC,GAAmB,IAAIpG,GAAgB,KAAK,QAAQ,EAC3E,KAAK,eAAiB,IAAIyF,GAAc,KAAK,QAAQ,EACrD,KAAK,WAAa,IAAItC,GAAkB,KAAK,SAAU,KAAK,gBAAiB,KAAK,cAAc,EAChG,KAAK,aAAe,IAAIH,GAAY,KAAK,SAAU,KAAK,eAAe,CAC3E,CAEA,MAAa,oBAAoB,CAC7B,MAAAK,EACA,QAAAgD,EACA,YAAAC,EACA,aAAA5B,EACA,cAAAW,EACA,WAAAkB,EACA,aAAAjD,EACA,MAAA9H,EACA,UAAAmJ,EACA,cAAAxD,EAAgB,KAAK,SAAS,cAC9B,MAAAC,EAAQ,KAAK,SAAS,MACtB,aAAAC,EAAe,KAAK,SAAS,aAC7B,OAAAG,EAAS,KAAK,SAAS,OACvB,QAAAC,EAAU,KAAK,SAAS,QACxB,QAAAC,EAAU,KAAK,SAAS,QACxB,WAAAC,EAAa,KAAK,SAAS,WAC3B,WAAAC,EAAa,KAAK,SAAS,WAC3B,SAAAC,EAAW,KAAK,SAAS,SACzB,cAAAC,EAAgB,KAAK,SAAS,cAC9B,iBAAAW,EAAmB,KAAK,SAAS,iBACjC,iBAAAC,EAAmB,KAAK,SAAS,iBACjC,QAAAkC,EACA,wBAAAhC,EAA0B,KAAK,SAAS,uBAC5C,EAAoD,CAChD,IAAMxK,EAAS,KAAK,QAAQ,OAAO,qBAAqB,EAExD,GAAI+I,IAAkB,OAClB,MAAM,IAAI,MAAM,2DAA2D,EAG/E,IAAM/F,EAAM,MAAM,KAAK,gBAAgB,yBAAyB,EAChEhD,EAAO,MAAM,kCAAmCgD,CAAG,EAEnD,IAAMoL,EAAgB,MAAMxB,GAAc,OAAO,CAC7C,IAAA5J,EACA,UAAW,KAAK,SAAS,UACzB,UAAW,KAAK,SAAS,UACzB,aAAAiG,EACA,cAAAF,EACA,MAAAC,EACA,WAAYiC,EACZ,UAAAsB,EACA,OAAAnD,EAAQ,QAAAC,EAAS,QAAAC,EAAS,WAAAC,EAAY,cAAA0D,EAAe,WAAAkB,EAAY,WAAA3E,EAAY,QAAAgD,EAC7E,SAAA/C,EAAU,QAAAwE,EAAS,YAAAC,EAAa,iBAAA7D,EAAkB,iBAAAC,EAAkB,aAAAgC,EAAc,cAAA5C,EAClF,cAAe,KAAK,SAAS,cAC7B,aAAAwB,EACA,MAAA9H,EACA,YAAa,KAAK,SAAS,YAC3B,wBAAAoH,CACJ,CAAC,EAGD,MAAM,KAAK,gBAAgB,EAE3B,IAAM6D,EAAcD,EAAc,MAClC,aAAM,KAAK,SAAS,WAAW,IAAIC,EAAY,GAAIA,EAAY,gBAAgB,CAAC,EACzED,CACX,CAEA,MAAa,wBAAwBpL,EAAasL,EAAc,GAAkE,CAC9H,IAAMtO,EAAS,KAAK,QAAQ,OAAO,yBAAyB,EAEtD8G,EAAW,IAAIgG,GAAepI,GAAS,WAAW1B,EAAK,KAAK,SAAS,aAAa,CAAC,EACzF,GAAI,CAAC8D,EAAS,MACV9G,MAAAA,EAAO,MAAM,IAAI,MAAM,sBAAsB,CAAC,EAGxC,KAGV,IAAMuO,EAAoB,MAAM,KAAK,SAAS,WAAWD,EAAc,SAAW,KAAK,EAAExH,EAAS,KAAK,EACvG,GAAI,CAACyH,EACDvO,MAAAA,EAAO,MAAM,IAAI,MAAM,oCAAoC,CAAC,EAEtD,KAIV,MAAO,CAAE,MADK,MAAMiM,GAAY,kBAAkBsC,CAAiB,EACnD,SAAAzH,CAAS,CAC7B,CAEA,MAAa,sBAAsB9D,EAAaqE,EAA4CiH,EAAc,GAA+B,CACrI,IAAMtO,EAAS,KAAK,QAAQ,OAAO,uBAAuB,EAEpD,CAAE,MAAAiL,EAAO,SAAAnE,CAAS,EAAI,MAAM,KAAK,wBAAwB9D,EAAKsL,CAAW,EAG/E,GAFAtO,EAAO,MAAM,kDAAkD,EAE3D,KAAK,SAAS,MAAQ,KAAK,SAAS,KAAK,MAAO,CAChD,IAAMwO,EAAY,MAAM,KAAK,aAAa,KAAK,SAAS,KAAK,KAAK,EAClEnH,EAAe,CAAE,GAAGA,EAAc,KAAQmH,CAAU,CACxD,CAUA,GAAI,CACA,MAAM,KAAK,WAAW,uBAAuB1H,EAAUmE,EAAO5D,CAAY,CAC9E,OACO3G,EAAK,CACR,GAAIA,aAAewF,IAAkB,KAAK,SAAS,KAAM,CACrD,IAAMsI,EAAY,MAAM,KAAK,aAAa,KAAK,SAAS,KAAK,MAAO9N,EAAI,KAAK,EAC7E2G,EAAc,KAAUmH,EACxB,MAAM,KAAK,WAAW,uBAAuB1H,EAAUmE,EAAO5D,CAAY,CAC9E,KACI,OAAM3G,CAEd,CAEA,OAAOoG,CACX,CAEA,MAAM,aAAa2H,EAAsBrL,EAAiC,CACtE,IAAID,EACAuL,EAEJ,OAAM,MAAMD,EAAU,WAAW,GAAG,SAAS,KAAK,SAAS,SAAS,GAKhEC,EAAY,MAAMD,EAAU,IAAI,KAAK,SAAS,SAAS,EAGnDC,EAAU,QAAUtL,GAASA,IAC7BsL,EAAU,MAAQtL,EAClB,MAAMqL,EAAU,IAAI,KAAK,SAAS,UAAWC,CAAS,KAT1DvL,EAAU,MAAM3B,EAAY,iBAAiB,EAC7CkN,EAAY,IAAIb,GAAU1K,EAASC,CAAK,EACxC,MAAMqL,EAAU,IAAI,KAAK,SAAS,UAAWC,CAAS,GAWnD,MAAMlN,EAAY,kBAAkB,CACvC,IAAK,MAAM,KAAK,gBAAgB,iBAAiB,EAAK,EACtD,WAAY,OACZ,QAASkN,EAAU,KACnB,MAAOA,EAAU,KACrB,CAAC,CACL,CAEA,MAAa,wCAAwC,CACjD,SAAAC,EACA,SAAAC,EACA,aAAA1D,EAAe,GACf,iBAAAZ,EAAmB,CAAC,CACxB,EAAyE,CACrE,IAAMgB,EAAyC,MAAM,KAAK,aAAa,oBAAoB,CAAE,SAAAqD,EAAU,SAAAC,EAAU,GAAGtE,CAAiB,CAAC,EAChIuE,EAAiC,IAAI/B,GAAe,IAAI,eAAiB,EAC/E,cAAO,OAAO+B,EAAgBvD,CAAa,EAC3C,MAAM,KAAK,WAAW,4BAA4BuD,EAAgB3D,CAAY,EACvE2D,CACX,CAEA,MAAa,gBAAgB,CACzB,MAAA5D,EACA,aAAAhC,EACA,SAAAQ,EACA,iBAAAjD,EACA,aAAAa,EACA,iBAAAiD,CACJ,EAAiD,CAjQrD,IAAAvG,EAkQQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,iBAAiB,EAKhDgJ,EACJ,GAAI,KAAK,SAAS,2BAA6B,OAC3CA,EAAQiC,EAAM,UACX,CACH,IAAM6D,EAAkB,KAAK,SAAS,yBAAyB,MAAM,GAAG,EAGxE9F,KAFuBjF,EAAAkH,EAAM,QAAN,KAAA,OAAAlH,EAAa,MAAM,GAAA,IAAQ,CAAC,GAE5B,OAAOgL,GAAKD,EAAgB,SAASC,CAAC,CAAC,EAAE,KAAK,GAAG,CAC5E,CAEA,GAAI,KAAK,SAAS,MAAQ,KAAK,SAAS,KAAK,MAAO,CAChD,IAAMP,EAAY,MAAM,KAAK,aAAa,KAAK,SAAS,KAAK,KAAK,EAClEnH,EAAe,CAAE,GAAGA,EAAc,KAAQmH,CAAU,CACxD,CAUA,IAAIlB,EACJ,GAAI,CACAA,EAAS,MAAM,KAAK,aAAa,qBAAqB,CAClD,cAAerC,EAAM,cAErB,MAAAjC,EACA,aAAAC,EACA,SAAAQ,EACA,iBAAAjD,EACA,aAAAa,EACA,GAAGiD,CACP,CAAC,CACL,OAAS5J,EAAK,CACV,GAAIA,aAAewF,IAAkB,KAAK,SAAS,KAC/CmB,EAAc,KAAU,MAAM,KAAK,aAAa,KAAK,SAAS,KAAK,MAAO3G,EAAI,KAAK,EACnF4M,EAAS,MAAM,KAAK,aAAa,qBAAqB,CAClD,cAAerC,EAAM,cAErB,MAAAjC,EACA,aAAAC,EACA,SAAAQ,EACA,iBAAAjD,EACA,aAAAa,EACA,GAAGiD,CACP,CAAC,MAED,OAAM5J,CAEd,CAEA,IAAMoG,EAAW,IAAIgG,GAAe,IAAI,eAAiB,EACzD,cAAO,OAAOhG,EAAUwG,CAAM,EAC9BtN,EAAO,MAAM,sBAAuB8G,CAAQ,EAC5C,MAAM,KAAK,WAAW,wBAAwBA,EAAU,CACpD,GAAGmE,EAGH,MAAAjC,CACJ,CAAC,EACMlC,CACX,CAEA,MAAa,qBAAqB,CAC9B,MAAAmE,EACA,cAAAgC,EACA,UAAA1K,EACA,aAAA+J,EACA,UAAAC,EACA,yBAAArD,EAA2B,KAAK,SAAS,yBACzC,iBAAAmB,EAAmB,KAAK,SAAS,gBACrC,EAA8B,CAAC,EAA4B,CACvD,IAAMrK,EAAS,KAAK,QAAQ,OAAO,sBAAsB,EAEnDgD,EAAM,MAAM,KAAK,gBAAgB,sBAAsB,EAC7D,GAAI,CAACA,EACDhD,MAAAA,EAAO,MAAM,IAAI,MAAM,yBAAyB,CAAC,EAE3C,KAGVA,EAAO,MAAM,gCAAiCgD,CAAG,EAG7C,CAACT,GAAa2G,GAA4B,CAAC+D,IAC3C1K,EAAY,KAAK,SAAS,WAG9B,IAAM0L,EAAU,IAAIjB,GAAe,CAC/B,IAAAhK,EACA,cAAAiK,EACA,UAAA1K,EACA,yBAAA2G,EACA,WAAY+B,EACZ,iBAAAZ,EACA,aAAAiC,EACA,UAAAC,CACJ,CAAC,EAGD,MAAM,KAAK,gBAAgB,EAE3B,IAAMyC,EAAef,EAAQ,MAC7B,OAAIe,IACAhP,EAAO,MAAM,sCAAsC,EACnD,MAAM,KAAK,SAAS,WAAW,IAAIgP,EAAa,GAAIA,EAAa,gBAAgB,CAAC,GAG/Ef,CACX,CAEA,MAAa,yBAAyBjL,EAAasL,EAAc,GAAyE,CACtI,IAAMtO,EAAS,KAAK,QAAQ,OAAO,0BAA0B,EAEvD8G,EAAW,IAAIoG,GAAgBxI,GAAS,WAAW1B,EAAK,KAAK,SAAS,aAAa,CAAC,EAC1F,GAAI,CAAC8D,EAAS,MAAO,CAGjB,GAFA9G,EAAO,MAAM,sBAAsB,EAE/B8G,EAAS,MACT9G,MAAAA,EAAO,KAAK,sBAAuB8G,EAAS,KAAK,EAC3C,IAAIhC,GAAcgC,CAAQ,EAGpC,MAAO,CAAE,MAAO,OAAW,SAAAA,CAAS,CACxC,CAEA,IAAMyH,EAAoB,MAAM,KAAK,SAAS,WAAWD,EAAc,SAAW,KAAK,EAAExH,EAAS,KAAK,EACvG,GAAI,CAACyH,EACDvO,MAAAA,EAAO,MAAM,IAAI,MAAM,oCAAoC,CAAC,EAEtD,KAIV,MAAO,CAAE,MADK,MAAM0L,GAAM,kBAAkB6C,CAAiB,EAC7C,SAAAzH,CAAS,CAC7B,CAEA,MAAa,uBAAuB9D,EAAuC,CACvE,IAAMhD,EAAS,KAAK,QAAQ,OAAO,wBAAwB,EAErD,CAAE,MAAAiL,EAAO,SAAAnE,CAAS,EAAI,MAAM,KAAK,yBAAyB9D,EAAK,EAAI,EACzE,OAAIiI,GACAjL,EAAO,MAAM,kDAAkD,EAC/D,KAAK,WAAW,wBAAwB8G,EAAUmE,CAAK,GAEvDjL,EAAO,MAAM,qDAAqD,EAG/D8G,CACX,CAEO,iBAAiC,CACpC,YAAK,QAAQ,OAAO,iBAAiB,EAC9B4E,GAAM,gBAAgB,KAAK,SAAS,WAAY,KAAK,SAAS,sBAAsB,CAC/F,CAEA,MAAa,YAAYxK,EAAe+N,EAAwD,CAC5F,YAAK,QAAQ,OAAO,aAAa,EAC1B,MAAM,KAAK,aAAa,OAAO,CAClC,MAAA/N,EACA,gBAAiB+N,CACrB,CAAC,CACL,CACJ,ECjaaC,GAAN,KAAqB,CAMjB,YAA6BC,EAA2B,CAA3B,KAAA,aAAAA,EALpC,KAAiB,QAAU,IAAI7O,EAAO,gBAAgB,EAyCtD,KAAU,OAAS,MACf8O,GAIgB,CAChB,IAAMtJ,EAAgBsJ,EAAK,cAC3B,GAAI,CAACtJ,EACD,OAEJ,IAAM9F,EAAS,KAAK,QAAQ,OAAO,QAAQ,EAW3C,GATIoP,EAAK,SACL,KAAK,KAAOA,EAAK,QAAQ,IACzBpP,EAAO,MAAM,gBAAiB8F,EAAe,QAAS,KAAK,IAAI,IAG/D,KAAK,KAAO,OACZ9F,EAAO,MAAM,gBAAiB8F,EAAe,kBAAkB,GAG/D,KAAK,oBAAqB,CAC1B,KAAK,oBAAoB,MAAMA,CAAa,EAC5C,MACJ,CAEA,GAAI,CACA,IAAM9C,EAAM,MAAM,KAAK,aAAa,gBAAgB,sBAAsB,EAC1E,GAAIA,EAAK,CACLhD,EAAO,MAAM,mCAAmC,EAEhD,IAAMuC,EAAY,KAAK,aAAa,SAAS,UACvC8M,EAAoB,KAAK,aAAa,SAAS,8BAC/CC,EAAc,KAAK,aAAa,SAAS,wBAEzCC,EAAqB,IAAIjK,GAAmB,KAAK,UAAW/C,EAAWS,EAAKqM,EAAmBC,CAAW,EAChH,MAAMC,EAAmB,KAAK,EAC9B,KAAK,oBAAsBA,EAC3BA,EAAmB,MAAMzJ,CAAa,CAC1C,MAEI9F,EAAO,KAAK,+CAA+C,CAEnE,OACOU,EAAK,CAERV,EAAO,MAAM,oCAAqCU,aAAe,MAAQA,EAAI,QAAUA,CAAG,CAC9F,CACJ,EAEA,KAAU,MAAQ,IAAY,CAC1B,IAAMV,EAAS,KAAK,QAAQ,OAAO,OAAO,EAO1C,GANA,KAAK,KAAO,OAER,KAAK,qBACL,KAAK,oBAAoB,KAAK,EAG9B,KAAK,aAAa,SAAS,wBAAyB,CAIpD,IAAMwP,EAAc,YAAY,SAAY,CACxC,cAAcA,CAAW,EAEzB,GAAI,CACA,IAAMC,EAAU,MAAM,KAAK,aAAa,mBAAmB,EAC3D,GAAIA,EAAS,CACT,IAAMC,EAAU,CACZ,cAAeD,EAAQ,cACvB,QAASA,EAAQ,IAAM,CACnB,IAAKA,EAAQ,GACjB,EAAI,IACR,EACK,KAAK,OAAOC,CAAO,CAC5B,CACJ,OACOhP,EAAK,CAERV,EAAO,MAAM,gCAAiCU,aAAe,MAAQA,EAAI,QAAUA,CAAG,CAC1F,CACJ,EAAG,GAAI,CACX,CACJ,EAEA,KAAU,UAAY,SAA2B,CAC7C,IAAMV,EAAS,KAAK,QAAQ,OAAO,WAAW,EAC9C,GAAI,CACA,IAAMyP,EAAU,MAAM,KAAK,aAAa,mBAAmB,EACvDE,EAAa,GAEbF,GAAW,KAAK,oBACZA,EAAQ,MAAQ,KAAK,MACrBE,EAAa,GACb,KAAK,oBAAoB,MAAMF,EAAQ,aAAa,EAEpDzP,EAAO,MAAM,4GAA6GyP,EAAQ,aAAa,EAC/I,MAAM,KAAK,aAAa,OAAO,yBAAyB,GAGxDzP,EAAO,MAAM,mCAAoCyP,EAAQ,GAAG,EAIhEzP,EAAO,MAAM,kCAAkC,EAG/C2P,EACI,KAAK,KACL,MAAM,KAAK,aAAa,OAAO,oBAAoB,EAGnD,MAAM,KAAK,aAAa,OAAO,mBAAmB,EAGtD3P,EAAO,MAAM,kDAAkD,CAEvE,OACOU,EAAK,CACJ,KAAK,OACLV,EAAO,MAAM,oEAAqEU,CAAG,EACrF,MAAM,KAAK,aAAa,OAAO,oBAAoB,EAE3D,CACJ,EA/JSyO,GACD,KAAK,QAAQ,MAAM,IAAI,MAAM,wBAAwB,CAAC,EAG1D,KAAK,aAAa,OAAO,cAAc,KAAK,MAAM,EAClD,KAAK,aAAa,OAAO,gBAAgB,KAAK,KAAK,EAEnD,KAAK,MAAM,EAAE,MAAOzO,GAAiB,CAEjC,KAAK,QAAQ,MAAMA,CAAG,CAC1B,CAAC,CACL,CAEA,MAAgB,OAAuB,CACnC,KAAK,QAAQ,OAAO,OAAO,EAC3B,IAAM0O,EAAO,MAAM,KAAK,aAAa,QAAQ,EAG7C,GAAIA,EACK,KAAK,OAAOA,CAAI,UAEhB,KAAK,aAAa,SAAS,wBAAyB,CACzD,IAAMK,EAAU,MAAM,KAAK,aAAa,mBAAmB,EAC3D,GAAIA,EAAS,CACT,IAAMC,EAAU,CACZ,cAAeD,EAAQ,cACvB,QAASA,EAAQ,IAAM,CACnB,IAAKA,EAAQ,GACjB,EAAI,IACR,EACK,KAAK,OAAOC,CAAO,CAC5B,CACJ,CACJ,CA+HJ,EClKaE,GAAN,MAAMC,EAAK,CAuCP,YAAYpP,EAWhB,CAlEP,IAAAsD,EAmEQ,KAAK,SAAWtD,EAAK,SACrB,KAAK,eAAgBsD,EAAAtD,EAAK,gBAAL,KAAAsD,EAAsB,KAC3C,KAAK,aAAetD,EAAK,aACzB,KAAK,cAAgBA,EAAK,cAE1B,KAAK,WAAaA,EAAK,WACvB,KAAK,MAAQA,EAAK,MAClB,KAAK,QAAUA,EAAK,QACpB,KAAK,WAAaA,EAAK,WACvB,KAAK,MAAQA,EAAK,UAClB,KAAK,UAAYA,EAAK,SAC1B,CAGA,IAAW,YAAiC,CACxC,GAAI,KAAK,aAAe,OAGxB,OAAO,KAAK,WAAa2D,GAAM,aAAa,CAChD,CAEA,IAAW,WAAWhE,EAA2B,CACzCA,IAAU,SACV,KAAK,WAAa,KAAK,MAAMA,CAAK,EAAIgE,GAAM,aAAa,EAEjE,CAGA,IAAW,SAA+B,CACtC,IAAM0L,EAAa,KAAK,WACxB,GAAIA,IAAe,OAGnB,OAAOA,GAAc,CACzB,CAGA,IAAW,QAAmB,CAxGlC,IAAA/L,EAAAC,EAyGQ,OAAOA,GAAAD,EAAA,KAAK,QAAL,KAAA,OAAAA,EAAY,MAAM,GAAA,IAAlB,KAAAC,EAA0B,CAAC,CACtC,CAEO,iBAA0B,CAC7B,WAAI1D,EAAO,MAAM,EAAE,OAAO,iBAAiB,EACpC,KAAK,UAAU,CAClB,SAAU,KAAK,SACf,cAAe,KAAK,cACpB,aAAc,KAAK,aACnB,cAAe,KAAK,cACpB,WAAY,KAAK,WACjB,MAAO,KAAK,MACZ,QAAS,KAAK,QACd,WAAY,KAAK,UACrB,CAAC,CACL,CAEA,OAAc,kBAAkBsL,EAA6B,CACzD,OAAAtL,EAAO,aAAa,OAAQ,mBAAmB,EACxC,IAAIuP,GAAK,KAAK,MAAMjE,CAAa,CAAC,CAC7C,CACJ,ECxHMmE,GAAgB,cAcAC,GAAf,KAAsD,CAAtD,aAAA,CAEH,KAAmB,OAAS,IAAIvM,GAAuB,2BAA2B,EAClF,KAAmB,iBAAmB,IAAI,IAE1C,KAAU,QAA8B,IAAA,CAExC,MAAa,SAASmB,EAAmD,CACrE,IAAM5E,EAAS,KAAK,QAAQ,OAAO,UAAU,EAC7C,GAAI,CAAC,KAAK,QACN,MAAM,IAAI,MAAM,4CAA4C,EAGhEA,EAAO,MAAM,uBAAuB,EACpC,KAAK,QAAQ,SAAS,QAAQ4E,EAAO,GAAG,EAExC,GAAM,CAAE,IAAA5B,EAAK,SAAAiN,CAAS,EAAI,MAAM,IAAI,QAAqB,CAACpK,EAASqK,IAAW,CAC1E,IAAMC,EAAYxK,GAAoB,CArClD,IAAA5B,EAsCgB,IAAM1B,EAAgCsD,EAAE,KAClCyK,GAASrM,EAAAa,EAAO,eAAP,KAAAb,EAAuB,OAAO,SAAS,OACtD,GAAI,EAAA4B,EAAE,SAAWyK,GAAU/N,GAAM,SAAW0N,IAI5C,IAAI,CACA,IAAM9E,EAAQvG,GAAS,WAAWrC,EAAK,IAAKuC,EAAO,aAAa,EAAE,IAAI,OAAO,EAI7E,GAHKqG,GACDjL,EAAO,KAAK,gCAAgC,EAE5C2F,EAAE,SAAW,KAAK,SAAWsF,IAAUrG,EAAO,MAG9C,MAER,MACM,CACF,KAAK,SAAS,EACdsL,EAAO,IAAI,MAAM,8BAA8B,CAAC,CACpD,CACArK,EAAQxD,CAAI,EAChB,EACA,OAAO,iBAAiB,UAAW8N,EAAU,EAAK,EAClD,KAAK,iBAAiB,IAAI,IAAM,OAAO,oBAAoB,UAAWA,EAAU,EAAK,CAAC,EACtF,IAAME,EAAU,IAAI,iBAAiB,qBAAqBzL,EAAO,KAAK,EAAE,EACxEyL,EAAQ,iBAAiB,UAAWF,EAAU,EAAK,EACnD,KAAK,iBAAiB,IAAI,IAAME,EAAQ,MAAM,CAAC,EAC/C,KAAK,iBAAiB,IAAI,KAAK,OAAO,WAAYC,GAAW,CACzD,KAAK,SAAS,EACdJ,EAAOI,CAAM,CACjB,CAAC,CAAC,CACN,CAAC,EACDtQ,OAAAA,EAAO,MAAM,0BAA0B,EACvC,KAAK,SAAS,EAETiQ,GACD,KAAK,MAAM,EAGR,CAAE,IAAAjN,CAAI,CACjB,CAIQ,UAAiB,CACrB,KAAK,QAAQ,OAAO,UAAU,EAE9B,QAAWuN,KAAW,KAAK,iBACvBA,EAAQ,EAEZ,KAAK,iBAAiB,MAAM,CAChC,CAEA,OAAiB,cAAcC,EAAuBxN,EAAaiN,EAAW,GAAOQ,EAAe,OAAO,SAAS,OAAc,CAC9H,IAAMC,EAAuB,CACzB,OAAQX,GACR,IAAA/M,EACA,SAAAiN,CACJ,EACMjQ,EAAS,IAAIM,EAAO,eAAe,EACzC,GAAIkQ,EACAxQ,EAAO,MAAM,wCAAwC,EACrDwQ,EAAO,YAAYE,EAASD,CAAY,MACrC,CACHzQ,EAAO,MAAM,oCAAoC,EACjD,IAAMiL,EAAQ,IAAI,IAAIjI,CAAG,EAAE,aAAa,IAAI,OAAO,EACnD,GAAI,CAACiI,EACD,MAAM,IAAI,MAAM,6DAA6D,EAEjF,IAAMoF,EAAU,IAAI,iBAAiB,qBAAqBpF,CAAK,EAAE,EACjEoF,EAAQ,YAAYK,CAAO,EAC3BL,EAAQ,MAAM,CAClB,CACJ,CACJ,ECxGaM,GAAkD,CAC3D,SAAU,GACV,QAAS,GACT,OAAQ,IACR,+BAAgC,EACpC,EACaC,GAAqB,SAC5BC,GAAsD,GACtDC,GAAuC,EAChCC,GAAuC,GA4EvCC,GAAN,cAAuCtI,EAAwB,CA+B3D,YAAYjI,EAA2B,CAC1C,GAAM,CACF,mBAAAwQ,EAAqBxQ,EAAK,aAC1B,+BAAAyQ,EAAiCzQ,EAAK,yBACtC,oBAAA0Q,EAAsBR,GACtB,kBAAAS,EAAoBR,GACpB,eAAAS,EAAiB,SACjB,eAAAC,EAAiB,OAEjB,yBAAAC,EAA2B9Q,EAAK,yBAChC,mBAAA+Q,EAAqB/Q,EAAK,mBAE1B,wBAAAoJ,EACA,oBAAA4H,EAAsBhR,EAAK,aAC3B,8BAAAiR,EACA,qBAAAC,EAAuB,GACvB,yBAAAC,EAA2B,GAC3B,4BAAAC,EAA8B,GAE9B,eAAAC,EAAiB,GACjB,wBAAAC,EAA0B,GAC1B,8BAAAC,EAAgClB,GAChC,2BAAAmB,EAA6B,OAC7B,wBAAAC,EAA0B,GAE1B,iBAAAC,EAAmB,CAAC,eAAgB,eAAe,EACnD,sBAAAC,EAAwB,GACxB,8BAAAC,EAAgC,GAEhC,6CAAAC,EAA+CzB,GAE/C,UAAA0B,CACJ,EAAI9R,EAgCJ,GA9BA,MAAMA,CAAI,EAEV,KAAK,mBAAqBwQ,EAC1B,KAAK,+BAAiCC,EACtC,KAAK,oBAAsBC,EAC3B,KAAK,kBAAoBC,EACzB,KAAK,eAAiBC,EACtB,KAAK,eAAiBC,EAEtB,KAAK,yBAA2BC,EAChC,KAAK,mBAAqBC,EAE1B,KAAK,oBAAsBC,EAC3B,KAAK,8BAAgCC,GAAiC7H,GAA2BkH,GACjG,KAAK,qBAAuBY,EAC5B,KAAK,yBAA2BC,EAChC,KAAK,4BAA8BC,EAEnC,KAAK,eAAiBC,EACtB,KAAK,wBAA0BC,EAC/B,KAAK,8BAAgCC,EACrC,KAAK,wBAA0BE,EAC/B,KAAK,2BAA6BD,EAElC,KAAK,iBAAmBE,EACxB,KAAK,sBAAwBC,EAC7B,KAAK,8BAAgCC,EAErC,KAAK,6CAA+CC,EAEhDC,EACA,KAAK,UAAYA,MAEhB,CACD,IAAMpK,EAAQ,OAAO,OAAW,IAAc,OAAO,eAAiB,IAAInC,GAC1E,KAAK,UAAY,IAAIkC,GAAqB,CAAE,MAAAC,CAAM,CAAC,CACvD,CACJ,CACJ,EClLaqK,GAAN,MAAMC,WAAqBzC,EAAoB,CAK3C,YAAY,CACf,8BAAA0B,EAAgCX,EACpC,EAAuB,CACnB,MAAM,EAPV,KAAmB,QAAU,IAAIzQ,EAAO,cAAc,EAQlD,KAAK,kBAAoBoR,EAEzB,KAAK,OAASe,GAAa,mBAAmB,EAC9C,KAAK,QAAU,KAAK,OAAO,aAC/B,CAEA,OAAe,oBAAwC,CACnD,IAAMC,EAAS,OAAO,SAAS,cAAc,QAAQ,EAGrD,OAAAA,EAAO,MAAM,WAAa,SAC1BA,EAAO,MAAM,SAAW,QACxBA,EAAO,MAAM,KAAO,UACpBA,EAAO,MAAM,IAAM,IACnBA,EAAO,MAAQ,IACfA,EAAO,OAAS,IAEhB,OAAO,SAAS,KAAK,YAAYA,CAAM,EAChCA,CACX,CAEA,MAAa,SAAS9N,EAAmD,CACrE,KAAK,QAAQ,MAAM,8BAA+B,KAAK,iBAAiB,EACxE,IAAM+N,EAAQ,WAAW,IAAM,KAAK,KAAK,OAAO,MAAM,IAAI3N,GAAa,qCAAqC,CAAC,EAAG,KAAK,kBAAoB,GAAI,EAC7I,YAAK,iBAAiB,IAAI,IAAM,aAAa2N,CAAK,CAAC,EAE5C,MAAM,MAAM,SAAS/N,CAAM,CACtC,CAEO,OAAc,CAzDzB,IAAAb,EA0DY,KAAK,SACD,KAAK,OAAO,aACZ,KAAK,OAAO,iBAAiB,OAASH,GAAO,CA5D7D,IAAAG,EA6DoB,IAAM6O,EAAQhP,EAAG,QACjBG,EAAA6O,EAAM,aAAN,MAAA7O,EAAkB,YAAY6O,CAAA,EACzB,KAAK,OAAO,MAAM,IAAI,MAAM,yBAAyB,CAAC,CAC/D,EAAG,EAAI,GACP7O,EAAA,KAAK,OAAO,gBAAZ,MAAAA,EAA2B,SAAS,QAAQ,aAAA,GAEhD,KAAK,OAAS,MAElB,KAAK,QAAU,IACnB,CAEA,OAAc,aAAaf,EAAayN,EAA6B,CACjE,OAAO,MAAM,cAAc,OAAO,OAAQzN,EAAK,GAAOyN,CAAY,CACtE,CACJ,EChEaoC,GAAN,KAA4C,CAG/C,YAAoBhL,EAAqC,CAArC,KAAA,UAAAA,EAFpB,KAAiB,QAAU,IAAIvH,EAAO,iBAAiB,CAEG,CAE1D,MAAa,QAAQ,CACjB,8BAAAoR,EAAgC,KAAK,UAAU,6BACnD,EAA8C,CAC1C,OAAO,IAAIc,GAAa,CAAE,8BAAAd,CAA8B,CAAC,CAC7D,CAEA,MAAa,SAAS1O,EAA4B,CAC9C,KAAK,QAAQ,OAAO,UAAU,EAC9BwP,GAAa,aAAaxP,EAAK,KAAK,UAAU,wBAAwB,CAC1E,CACJ,EClBM8P,GAA8B,IAC9BC,GAAS,IAeFC,GAAN,cAA0BhD,EAAoB,CAK1C,YAAY,CACf,kBAAAoB,EAAoBR,GACpB,oBAAAO,EAAsB,CAAC,EACvB,YAAA8B,CACJ,EAAsB,CAClB,MAAM,EATV,KAAmB,QAAU,IAAI3S,EAAO,aAAa,EAUjD,IAAM4S,EAAgBrP,GAAW,OAAO,CAAE,GAAG8M,GAA4B,GAAGQ,CAAoB,CAAC,EACjG,KAAK,QAAU,OAAO,KAAK,OAAWC,EAAmBvN,GAAW,UAAUqP,CAAa,CAAC,EAExFD,GACAA,EAAY,iBAAiB,QAAS,IAAM,CAvCxD,IAAAlP,EAwCqB,KAAK,OAAO,MAAM,IAAI,OAAMA,EAAAkP,EAAY,SAAZ,KAAAlP,EAAsB,eAAe,CAAC,CAC3E,CAAC,EAGDoN,EAAoB,gCAAkCA,EAAoB,+BAAiC,GAC3G,WAAW,IAAM,CACb,GAAI,CAAC,KAAK,SAAW,OAAO,KAAK,QAAQ,QAAW,WAAa,KAAK,QAAQ,OAAQ,CAC7E,KAAK,OAAO,MAAM,IAAI,MAAM,uBAAuB,CAAC,EACzD,MACJ,CAEA,KAAK,MAAM,CACf,EAAGA,EAAoB,+BAAiC4B,EAAM,CAEtE,CAEA,MAAa,SAASnO,EAAmD,CAxD7E,IAAAb,GAyDQA,EAAA,KAAK,UAAL,MAAAA,EAAc,MAAA,EAEd,IAAMoP,EAAsB,YAAY,IAAM,EACtC,CAAC,KAAK,SAAW,KAAK,QAAQ,UAC9B,KAAK,QAAQ,MAAM,8CAA8C,EACjEC,EAAyB,EACzB,KAAK,iBAAiB,OAAOA,CAAwB,EAE7D,EAAGN,EAA2B,EACxBM,EAA2B,IAAM,cAAcD,CAAmB,EACxE,YAAK,iBAAiB,IAAIC,CAAwB,EAE3C,MAAM,MAAM,SAASxO,CAAM,CACtC,CAEO,OAAc,CACb,KAAK,UACA,KAAK,QAAQ,SACd,KAAK,QAAQ,MAAM,EACd,KAAK,OAAO,MAAM,IAAI,MAAM,cAAc,CAAC,IAGxD,KAAK,QAAU,IACnB,CAEA,OAAc,aAAa5B,EAAaiN,EAAyB,CAC7D,MAAM,cAAc,OAAO,OAAQjN,EAAKiN,CAAQ,EAC5C,CAACA,GAAY,CAAC,OAAO,QACrB,OAAO,MAAM,CAErB,CACJ,EC7EaoD,GAAN,KAA2C,CAG9C,YAAoBxL,EAAqC,CAArC,KAAA,UAAAA,EAFpB,KAAiB,QAAU,IAAIvH,EAAO,gBAAgB,CAEK,CAE3D,MAAa,QAAQ,CACjB,oBAAA6Q,EAAsB,KAAK,UAAU,oBACrC,kBAAAC,EAAoB,KAAK,UAAU,kBACnC,YAAA6B,CACJ,EAA4C,CACxC,OAAO,IAAID,GAAY,CAAE,oBAAA7B,EAAqB,kBAAAC,EAAmB,YAAA6B,CAAY,CAAC,CAClF,CAEA,MAAa,SAASjQ,EAAa,CAAE,SAAAiN,EAAW,EAAM,EAAkB,CACpE,KAAK,QAAQ,OAAO,UAAU,EAE9B+C,GAAY,aAAahQ,EAAKiN,CAAQ,CAC1C,CACJ,ECVaqD,GAAN,KAA8C,CAGjD,YAAoBzL,EAAqC,CAArC,KAAA,UAAAA,EAFpB,KAAiB,QAAU,IAAIvH,EAAO,mBAAmB,CAEC,CAE1D,MAAa,QAAQ,CACjB,eAAA+Q,EAAiB,KAAK,UAAU,eAChC,eAAAC,EAAiB,KAAK,UAAU,cACpC,EAAqC,CA3BzC,IAAAvN,EA4BQ,KAAK,QAAQ,OAAO,SAAS,EAC7B,IAAIwP,EAAe,OAAO,KAEtBjC,IAAmB,QACnBiC,GAAexP,EAAA,OAAO,MAAP,KAAAA,EAAc,OAAO,MAGxC,IAAMyP,EAAWD,EAAa,SAASlC,CAAc,EAAE,KAAKkC,EAAa,QAAQ,EAC7EE,EACJ,MAAO,CACH,SAAU,MAAO7O,GAA2B,CACxC,KAAK,QAAQ,OAAO,UAAU,EAE9B,IAAM8O,EAAU,IAAI,QAAQ,CAAC7N,EAASqK,IAAW,CAC7CuD,EAAQvD,CACZ,CAAC,EACD,OAAAsD,EAAS5O,EAAO,GAAG,EACZ,MAAO8O,CAClB,EACA,MAAO,IAAM,CACT,KAAK,QAAQ,OAAO,OAAO,EAC3BD,IAAQ,IAAI,MAAM,kBAAkB,CAAA,EACpCF,EAAa,KAAK,CACtB,CACJ,CACJ,CAEA,MAAa,UAA0B,CAEvC,CACJ,ECtBaI,GAAN,cAAgC1O,EAAkB,CAU9C,YAAY8I,EAAoC,CACnD,MAAM,CAAE,kCAAmCA,EAAS,4CAA6C,CAAC,EAVtG,KAAmB,QAAU,IAAIzN,EAAO,mBAAmB,EAE3D,KAAiB,YAAc,IAAImD,GAAc,aAAa,EAC9D,KAAiB,cAAgB,IAAIA,GAAU,eAAe,EAC9D,KAAiB,kBAAoB,IAAIA,GAAe,oBAAoB,EAC5E,KAAiB,cAAgB,IAAIA,GAAU,gBAAgB,EAC/D,KAAiB,eAAiB,IAAIA,GAAU,iBAAiB,EACjE,KAAiB,oBAAsB,IAAIA,GAAU,sBAAsB,CAI3E,CAEA,MAAa,KAAK2L,EAAYO,EAAW,GAAqB,CAC1D,MAAM,MAAM,KAAKP,CAAI,EACjBO,GACA,MAAM,KAAK,YAAY,MAAMP,CAAI,CAEzC,CAEA,MAAa,QAAwB,CACjC,MAAM,MAAM,OAAO,EACnB,MAAM,KAAK,cAAc,MAAM,CACnC,CAKO,cAAc1L,EAAoC,CACrD,OAAO,KAAK,YAAY,WAAWA,CAAE,CACzC,CAIO,iBAAiBA,EAA8B,CAClD,OAAO,KAAK,YAAY,cAAcA,CAAE,CAC5C,CAKO,gBAAgBA,EAAsC,CACzD,OAAO,KAAK,cAAc,WAAWA,CAAE,CAC3C,CAIO,mBAAmBA,EAAgC,CACtD,OAAO,KAAK,cAAc,cAAcA,CAAE,CAC9C,CAKO,oBAAoBA,EAA0C,CACjE,OAAO,KAAK,kBAAkB,WAAWA,CAAE,CAC/C,CAIO,uBAAuBA,EAAoC,CAC9D,OAAO,KAAK,kBAAkB,cAAcA,CAAE,CAClD,CAIA,MAAa,uBAAuBiC,EAAyB,CACzD,MAAM,KAAK,kBAAkB,MAAMA,CAAC,CACxC,CAMO,gBAAgBjC,EAAsC,CACzD,OAAO,KAAK,cAAc,WAAWA,CAAE,CAC3C,CAIO,mBAAmBA,EAAgC,CACtD,KAAK,cAAc,cAAcA,CAAE,CACvC,CAIA,MAAa,oBAAoC,CAC7C,MAAM,KAAK,cAAc,MAAM,CACnC,CAMO,iBAAiBA,EAAuC,CAC3D,OAAO,KAAK,eAAe,WAAWA,CAAE,CAC5C,CAIO,oBAAoBA,EAAiC,CACxD,KAAK,eAAe,cAAcA,CAAE,CACxC,CAIA,MAAa,qBAAqC,CAC9C,MAAM,KAAK,eAAe,MAAM,CACpC,CAMO,sBAAsBA,EAA4C,CACrE,OAAO,KAAK,oBAAoB,WAAWA,CAAE,CACjD,CAIO,yBAAyBA,EAAsC,CAClE,KAAK,oBAAoB,cAAcA,CAAE,CAC7C,CAIA,MAAa,0BAA0C,CACnD,MAAM,KAAK,oBAAoB,MAAM,CACzC,CACJ,EC3JakQ,GAAN,KAAyB,CAKrB,YAAoBzE,EAA2B,CAA3B,KAAA,aAAAA,EAJ3B,KAAU,QAAU,IAAI7O,EAAO,oBAAoB,EACnD,KAAQ,WAAa,GACrB,KAAiB,YAAc,IAAI8D,GAAM,oBAAoB,EAgC7D,KAAU,eAAsC,SAAY,CACxD,IAAMpE,EAAS,KAAK,QAAQ,OAAO,gBAAgB,EACnD,GAAI,CACA,MAAM,KAAK,aAAa,aAAa,EACrCA,EAAO,MAAM,iCAAiC,CAClD,OACOU,EAAK,CACR,GAAIA,aAAesE,GAAc,CAE7BhF,EAAO,KAAK,kCAAmCU,EAAK,aAAa,EACjE,KAAK,YAAY,KAAK,CAAC,EACvB,MACJ,CAEAV,EAAO,MAAM,2BAA4BU,CAAG,EAC5C,MAAM,KAAK,aAAa,OAAO,uBAAuBA,CAAY,CACtE,CACJ,CA/CuD,CAEvD,MAAa,OAAuB,CAChC,IAAMV,EAAS,KAAK,QAAQ,OAAO,OAAO,EAC1C,GAAI,CAAC,KAAK,WAAY,CAClB,KAAK,WAAa,GAClB,KAAK,aAAa,OAAO,uBAAuB,KAAK,cAAc,EACnE,KAAK,YAAY,WAAW,KAAK,cAAc,EAG/C,GAAI,CACA,MAAM,KAAK,aAAa,QAAQ,CAEpC,OACOU,EAAK,CAERV,EAAO,MAAM,gBAAiBU,CAAG,CACrC,CACJ,CACJ,CAEO,MAAa,CACZ,KAAK,aACL,KAAK,YAAY,OAAO,EACxB,KAAK,YAAY,cAAc,KAAK,cAAc,EAClD,KAAK,aAAa,OAAO,0BAA0B,KAAK,cAAc,EACtE,KAAK,WAAa,GAE1B,CAoBJ,ECtDamT,GAAN,KAAmB,CAUtB,YAAYpT,EAQT,CACC,KAAK,cAAgBA,EAAK,cAC1B,KAAK,SAAWA,EAAK,SACrB,KAAK,cAAgBA,EAAK,cAC1B,KAAK,MAAQA,EAAK,MAClB,KAAK,QAAUA,EAAK,QAEpB,KAAK,KAAOA,EAAK,KAErB,CACJ,EC0CaqT,GAAN,KAAkB,CAad,YAAY/F,EAA+BgG,EAAgCC,EAA6BC,EAA8B,CAV7I,KAAmB,QAAU,IAAI3T,EAAO,aAAa,EAWjD,KAAK,SAAW,IAAI0Q,GAAyBjD,CAAQ,EAErD,KAAK,QAAU,IAAID,GAAWC,CAAQ,EAEtC,KAAK,mBAAqBgG,GAAqB,IAAIT,GAAkB,KAAK,QAAQ,EAClF,KAAK,gBAAkBU,GAAkB,IAAIX,GAAe,KAAK,QAAQ,EACzE,KAAK,iBAAmBY,GAAmB,IAAIpB,GAAgB,KAAK,QAAQ,EAE5E,KAAK,QAAU,IAAIc,GAAkB,KAAK,QAAQ,EAClD,KAAK,oBAAsB,IAAIC,GAAmB,IAAI,EAGlD,KAAK,SAAS,sBACd,KAAK,iBAAiB,EAG1B,KAAK,gBAAkB,KACnB,KAAK,SAAS,iBACd,KAAK,gBAAkB,IAAI1E,GAAe,IAAI,EAEtD,CAKA,IAAW,QAA4B,CACnC,OAAO,KAAK,OAChB,CAKA,IAAW,iBAAmC,CAC1C,OAAO,KAAK,QAAQ,eACxB,CAQA,MAAa,QAAQS,EAAa,GAA6B,CAC3D,IAAM3P,EAAS,KAAK,QAAQ,OAAO,SAAS,EACtCoP,EAAO,MAAM,KAAK,UAAU,EAClC,OAAIA,GACApP,EAAO,KAAK,aAAa,EACzB,MAAM,KAAK,QAAQ,KAAKoP,EAAMO,CAAU,EACjCP,IAGXpP,EAAO,KAAK,2BAA2B,EAChC,KACX,CAOA,MAAa,YAA4B,CACrC,IAAMA,EAAS,KAAK,QAAQ,OAAO,YAAY,EAC/C,MAAM,KAAK,UAAU,IAAI,EACzBA,EAAO,KAAK,2BAA2B,EACvC,MAAM,KAAK,QAAQ,OAAO,CAC9B,CASA,MAAa,eAAeS,EAA2B,CAAC,EAAkB,CAxK9E,IAAAsD,EAyKQ,KAAK,QAAQ,OAAO,gBAAgB,EACpC,GAAM,CACF,eAAAsN,EACA,GAAG6C,CACP,EAAIzT,EAEA+L,GACAzI,EAAA,KAAK,SAAS,OAAd,MAAAA,EAAoB,0BACpByI,EAAU,MAAM,KAAK,gBAAgB,KAAK,SAAS,IAAI,GAG3D,IAAM2H,EAAS,MAAM,KAAK,mBAAmB,QAAQ,CAAE,eAAA9C,CAAe,CAAC,EACvE,MAAM,KAAK,aAAa,CACpB,aAAc,OACd,QAAA7E,EACA,GAAG0H,CACP,EAAGC,CAAM,CACb,CAUA,MAAa,uBAAuBnR,EAAM,OAAO,SAAS,KAAqB,CAC3E,IAAMhD,EAAS,KAAK,QAAQ,OAAO,wBAAwB,EACrDoP,EAAO,MAAM,KAAK,WAAWpM,CAAG,EACtC,OAAIoM,EAAK,SAAWA,EAAK,QAAQ,IAC7BpP,EAAO,KAAK,6BAA8BoP,EAAK,QAAQ,GAAG,EAG1DpP,EAAO,KAAK,YAAY,EAGrBoP,CACX,CAQA,MAAa,+BAA+B,CACxC,SAAAT,EACA,SAAAC,EACA,aAAA1D,EAAe,EACnB,EAAsD,CAClD,IAAMlL,EAAS,KAAK,QAAQ,OAAO,+BAA+B,EAE5D6O,EAAiB,MAAM,KAAK,QAAQ,wCAAwC,CAC9E,SAAAF,EACA,SAAAC,EACA,aAAA1D,EACA,iBAAkB,KAAK,SAAS,gBACpC,CAAC,EACDlL,EAAO,MAAM,qBAAqB,EAElC,IAAMoP,EAAO,MAAM,KAAK,WAAWP,CAAc,EACjD,OAAIO,EAAK,SAAWA,EAAK,QAAQ,IAC7BpP,EAAO,KAAK,6BAA8BoP,EAAK,QAAQ,GAAG,EAE1DpP,EAAO,KAAK,YAAY,EAErBoP,CACX,CAQA,MAAa,YAAY3O,EAAwB,CAAC,EAAkB,CArPxE,IAAAsD,EAsPQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,aAAa,EAE5CwM,GACAzI,EAAA,KAAK,SAAS,OAAd,MAAAA,EAAoB,0BACpByI,EAAU,MAAM,KAAK,gBAAgB,KAAK,SAAS,IAAI,GAG3D,GAAM,CACF,oBAAA2E,EACA,kBAAAC,EACA,YAAA6B,EACA,GAAGiB,CACP,EAAIzT,EACEuC,EAAM,KAAK,SAAS,mBACrBA,GACDhD,EAAO,MAAM,IAAI,MAAM,kCAAkC,CAAC,EAG9D,IAAMmU,EAAS,MAAM,KAAK,gBAAgB,QAAQ,CAAE,oBAAAhD,EAAqB,kBAAAC,EAAmB,YAAA6B,CAAY,CAAC,EACnG7D,EAAO,MAAM,KAAK,QAAQ,CAC5B,aAAc,OACd,aAAcpM,EACd,QAAS,QACT,QAAAwJ,EACA,GAAG0H,CACP,EAAGC,CAAM,EACT,OAAI/E,IACIA,EAAK,SAAWA,EAAK,QAAQ,IAC7BpP,EAAO,KAAK,6BAA8BoP,EAAK,QAAQ,GAAG,EAE1DpP,EAAO,KAAK,YAAY,GAIzBoP,CACX,CAUA,MAAa,oBAAoBpM,EAAM,OAAO,SAAS,KAAMiN,EAAW,GAAsB,CAC1F,IAAMjQ,EAAS,KAAK,QAAQ,OAAO,qBAAqB,EACxD,MAAM,KAAK,gBAAgB,SAASgD,EAAK,CAAE,SAAAiN,CAAS,CAAC,EACrDjQ,EAAO,KAAK,SAAS,CACzB,CAOA,MAAa,aAAaS,EAAyB,CAAC,EAAyB,CA9SjF,IAAAsD,EAAAC,EA+SQ,IAAMhE,EAAS,KAAK,QAAQ,OAAO,cAAc,EAC3C,CACF,8BAAA0R,EACA,GAAGwC,CACP,EAAIzT,EAEA2O,EAAO,MAAM,KAAK,UAAU,EAChC,GAAIA,GAAM,cAAe,CACrBpP,EAAO,MAAM,qBAAqB,EAClC,IAAMiL,EAAQ,IAAI4I,GAAazE,CAAsB,EACrD,OAAO,MAAM,KAAK,iBAAiB,CAC/B,MAAAnE,EACA,aAAciJ,EAAY,aAC1B,SAAUA,EAAY,SACtB,iBAAkBA,EAAY,iBAC9B,iBAAkBxC,CACtB,CAAC,CACL,CAEA,IAAIlF,GACAzI,EAAA,KAAK,SAAS,OAAd,MAAAA,EAAoB,0BACpByI,EAAU,MAAM,KAAK,gBAAgB,KAAK,SAAS,IAAI,GAG3D,IAAMxJ,EAAM,KAAK,SAAS,oBACrBA,GACDhD,EAAO,MAAM,IAAI,MAAM,mCAAmC,CAAC,EAG/D,IAAIoU,EACAhF,GAAQ,KAAK,SAAS,2BACtBpP,EAAO,MAAM,iCAAkCoP,EAAK,QAAQ,GAAG,EAC/DgF,EAAYhF,EAAK,QAAQ,KAG7B,IAAM+E,EAAS,MAAM,KAAK,iBAAiB,QAAQ,CAAE,8BAAAzC,CAA8B,CAAC,EACpF,OAAAtC,EAAO,MAAM,KAAK,QAAQ,CACtB,aAAc,OACd,aAAcpM,EACd,OAAQ,OACR,cAAe,KAAK,SAAS,4BAA8BoM,GAAM,SAAW,OAC5E,QAAA5C,EACA,GAAG0H,CACP,EAAGC,EAAQC,CAAS,EAChBhF,KACIpL,EAAAoL,EAAK,UAAL,MAAApL,EAAc,IACdhE,EAAO,KAAK,6BAA8BoP,EAAK,QAAQ,GAAG,EAG1DpP,EAAO,KAAK,YAAY,GAIzBoP,CACX,CAEA,MAAgB,iBAAiB3O,EAA0C,CACvE,IAAMqG,EAAW,MAAM,KAAK,QAAQ,gBAAgB,CAChD,iBAAkB,KAAK,SAAS,8BAChC,GAAGrG,CACP,CAAC,EACK2O,EAAO,IAAIQ,GAAK,CAAE,GAAGnP,EAAK,MAAO,GAAGqG,CAAS,CAAC,EAEpD,aAAM,KAAK,UAAUsI,CAAI,EACzB,MAAM,KAAK,QAAQ,KAAKA,CAAI,EACrBA,CACX,CAWA,MAAa,qBAAqBpM,EAAM,OAAO,SAAS,KAAqB,CACzE,IAAMhD,EAAS,KAAK,QAAQ,OAAO,sBAAsB,EACzD,MAAM,KAAK,iBAAiB,SAASgD,CAAG,EACxChD,EAAO,KAAK,SAAS,CACzB,CAWA,MAAa,eAAegD,EAAM,OAAO,SAAS,KAAiC,CAC/E,GAAM,CAAE,MAAAiI,CAAM,EAAI,MAAM,KAAK,QAAQ,wBAAwBjI,CAAG,EAChE,OAAQiI,EAAM,aAAc,CACxB,IAAK,OACD,OAAO,MAAM,KAAK,uBAAuBjI,CAAG,EAChD,IAAK,OACD,MAAM,KAAK,oBAAoBA,CAAG,EAClC,MACJ,IAAK,OACD,MAAM,KAAK,qBAAqBA,CAAG,EACnC,MACJ,QACI,MAAM,IAAI,MAAM,gCAAgC,CACxD,CAEJ,CAWA,MAAa,gBAAgBA,EAAM,OAAO,SAAS,KAAMiN,EAAW,GAA6C,CAC7G,GAAM,CAAE,MAAAhF,CAAM,EAAI,MAAM,KAAK,QAAQ,yBAAyBjI,CAAG,EACjE,GAAKiI,EAIL,OAAQA,EAAM,aAAc,CACxB,IAAK,OACD,OAAO,MAAM,KAAK,wBAAwBjI,CAAG,EACjD,IAAK,OACD,MAAM,KAAK,qBAAqBA,EAAKiN,CAAQ,EAC7C,MACJ,IAAK,OACD,MAAM,KAAK,sBAAsBjN,CAAG,EACpC,MACJ,QACI,MAAM,IAAI,MAAM,gCAAgC,CACxD,CAEJ,CAOA,MAAa,mBAAmBvC,EAA+B,CAAC,EAAkC,CAC9F,IAAMT,EAAS,KAAK,QAAQ,OAAO,oBAAoB,EACjD,CACF,8BAAA0R,EACA,GAAGwC,CACP,EAAIzT,EACEuC,EAAM,KAAK,SAAS,oBACrBA,GACDhD,EAAO,MAAM,IAAI,MAAM,mCAAmC,CAAC,EAG/D,IAAMoP,EAAO,MAAM,KAAK,UAAU,EAC5B+E,EAAS,MAAM,KAAK,iBAAiB,QAAQ,CAAE,8BAAAzC,CAA8B,CAAC,EAC9E2C,EAAc,MAAM,KAAK,aAAa,CACxC,aAAc,OACd,aAAcrR,EACd,OAAQ,OACR,cAAe,KAAK,SAAS,4BAA8BoM,GAAM,SAAW,OAC5E,cAAe,KAAK,SAAS,2BAC7B,MAAO,SACP,aAAc,GACd,GAAG8E,CACP,EAAGC,CAAM,EACT,GAAI,CACA,IAAM9M,EAA4C,CAAC,EAC7CwH,EAAiB,MAAM,KAAK,QAAQ,sBAAsBwF,EAAY,IAAKhN,CAAY,EAG7F,OAFArH,EAAO,MAAM,qBAAqB,EAE9B6O,EAAe,eAAiBA,EAAe,QAAQ,KACvD7O,EAAO,KAAK,sBAAuB6O,EAAe,QAAQ,GAAG,EACtD,CACH,cAAeA,EAAe,cAC9B,IAAKA,EAAe,QAAQ,GAChC,IAGJ7O,EAAO,KAAK,iCAAiC,EACtC,KACX,OAASU,EAAK,CACV,GAAI,KAAK,SAAS,yBAA2BA,aAAeoE,GACxD,OAAQpE,EAAI,MAAO,CACf,IAAK,iBACL,IAAK,mBACL,IAAK,uBACL,IAAK,6BACDV,OAAAA,EAAO,KAAK,4BAA4B,EACjC,CACH,cAAeU,EAAI,aACvB,CACR,CAEJ,MAAMA,CACV,CACJ,CAEA,MAAgB,QAAQD,EAA+B0T,EAAiBC,EAAmC,CACvG,IAAMC,EAAc,MAAM,KAAK,aAAa5T,EAAM0T,CAAM,EACxD,OAAO,MAAM,KAAK,WAAWE,EAAY,IAAKD,CAAS,CAC3D,CAEA,MAAgB,aAAa3T,EAA+B0T,EAA4C,CACpG,IAAMnU,EAAS,KAAK,QAAQ,OAAO,cAAc,EAEjD,GAAI,CACA,IAAMoO,EAAgB,MAAM,KAAK,QAAQ,oBAAoB3N,CAAI,EACjET,OAAAA,EAAO,MAAM,oBAAoB,EAE1B,MAAMmU,EAAO,SAAS,CACzB,IAAK/F,EAAc,IACnB,MAAOA,EAAc,MAAM,GAC3B,cAAeA,EAAc,MAAM,cACnC,aAAc,KAAK,SAAS,kBAChC,CAAC,CACL,OAAS1N,EAAK,CACVV,MAAAA,EAAO,MAAM,2DAA2D,EACxEmU,EAAO,MAAM,EACPzT,CACV,CACJ,CAEA,MAAgB,WAAWsC,EAAaoR,EAAmC,CACvE,IAAMpU,EAAS,KAAK,QAAQ,OAAO,YAAY,EACzCqH,EAA4C,CAAC,EAC7CwH,EAAiB,MAAM,KAAK,QAAQ,sBAAsB7L,EAAKqE,CAAY,EACjFrH,OAAAA,EAAO,MAAM,qBAAqB,EAErB,MAAM,KAAK,WAAW6O,EAAgBuF,CAAS,CAEhE,CAEA,MAAgB,WAAWvF,EAAgCuF,EAAoB,CAC3E,IAAMpU,EAAS,KAAK,QAAQ,OAAO,YAAY,EACzCoP,EAAO,IAAIQ,GAAKf,CAAc,EACpC,GAAIuF,EAAW,CACX,GAAIA,IAAchF,EAAK,QAAQ,IAC3BpP,MAAAA,EAAO,MAAM,0EAA2EoP,EAAK,QAAQ,GAAG,EAClG,IAAItK,GAAc,CAAE,GAAG+J,EAAgB,MAAO,gBAAiB,CAAC,EAE1E7O,EAAO,MAAM,gDAAgD,CACjE,CAEA,aAAM,KAAK,UAAUoP,CAAI,EACzBpP,EAAO,MAAM,aAAa,EAC1B,MAAM,KAAK,QAAQ,KAAKoP,CAAI,EAErBA,CACX,CAOA,MAAa,gBAAgB3O,EAA4B,CAAC,EAAkB,CACxE,IAAMT,EAAS,KAAK,QAAQ,OAAO,iBAAiB,EAC9C,CACF,eAAAqR,EACA,GAAG6C,CACP,EAAIzT,EACE0T,EAAS,MAAM,KAAK,mBAAmB,QAAQ,CAAE,eAAA9C,CAAe,CAAC,EACvE,MAAM,KAAK,cAAc,CACrB,aAAc,OACd,yBAA0B,KAAK,SAAS,yBACxC,GAAG6C,CACP,EAAGC,CAAM,EACTnU,EAAO,KAAK,SAAS,CACzB,CAUA,MAAa,wBAAwBgD,EAAM,OAAO,SAAS,KAAgC,CACvF,IAAMhD,EAAS,KAAK,QAAQ,OAAO,yBAAyB,EACtD8G,EAAW,MAAM,KAAK,YAAY9D,CAAG,EAC3ChD,OAAAA,EAAO,KAAK,SAAS,EACd8G,CACX,CAOA,MAAa,aAAarG,EAAyB,CAAC,EAAkB,CAClE,IAAMT,EAAS,KAAK,QAAQ,OAAO,cAAc,EAC3C,CACF,oBAAAmR,EACA,kBAAAC,EACA,YAAA6B,EACA,GAAGiB,CACP,EAAIzT,EACEuC,EAAM,KAAK,SAAS,+BAEpBmR,EAAS,MAAM,KAAK,gBAAgB,QAAQ,CAAE,oBAAAhD,EAAqB,kBAAAC,EAAmB,YAAA6B,CAAY,CAAC,EACzG,MAAM,KAAK,SAAS,CAChB,aAAc,OACd,yBAA0BjQ,EAM1B,MAAOA,GAAO,KAAO,OAAY,CAAC,EAClC,GAAGkR,CACP,EAAGC,CAAM,EACTnU,EAAO,KAAK,SAAS,CACzB,CAUA,MAAa,qBAAqBgD,EAAM,OAAO,SAAS,KAAMiN,EAAW,GAAsB,CAC3F,IAAMjQ,EAAS,KAAK,QAAQ,OAAO,sBAAsB,EACzD,MAAM,KAAK,gBAAgB,SAASgD,EAAK,CAAE,SAAAiN,CAAS,CAAC,EACrDjQ,EAAO,KAAK,SAAS,CACzB,CAEA,MAAgB,SAASS,EAAgC0T,EAA2C,CAChG,IAAME,EAAc,MAAM,KAAK,cAAc5T,EAAM0T,CAAM,EACzD,OAAO,MAAM,KAAK,YAAYE,EAAY,GAAG,CACjD,CAEA,MAAgB,cAAc5T,EAAiC,CAAC,EAAG0T,EAA4C,CA/nBnH,IAAApQ,EAgoBQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,eAAe,EAElD,GAAI,CACA,IAAMoP,EAAO,MAAM,KAAK,UAAU,EAClCpP,EAAO,MAAM,kCAAkC,EAE3C,KAAK,SAAS,uBACd,MAAM,KAAK,gBAAgBoP,CAAI,EAGnC,IAAMkF,EAAW7T,EAAK,eAAiB2O,GAAQA,EAAK,SAChDkF,IACAtU,EAAO,MAAM,0CAA0C,EACvDS,EAAK,cAAgB6T,GAGzB,MAAM,KAAK,WAAW,EACtBtU,EAAO,MAAM,wCAAwC,EAErD,IAAMuU,EAAiB,MAAM,KAAK,QAAQ,qBAAqB9T,CAAI,EACnET,OAAAA,EAAO,MAAM,qBAAqB,EAE3B,MAAMmU,EAAO,SAAS,CACzB,IAAKI,EAAe,IACpB,OAAOxQ,EAAAwQ,EAAe,QAAf,KAAA,OAAAxQ,EAAsB,GAC7B,aAAc,KAAK,SAAS,kBAChC,CAAC,CACL,OAASrD,EAAK,CACVV,MAAAA,EAAO,MAAM,2DAA2D,EACxEmU,EAAO,MAAM,EACPzT,CACV,CACJ,CAEA,MAAgB,YAAYsC,EAAuC,CAC/D,IAAMhD,EAAS,KAAK,QAAQ,OAAO,aAAa,EAC1CwU,EAAkB,MAAM,KAAK,QAAQ,uBAAuBxR,CAAG,EACrEhD,OAAAA,EAAO,MAAM,sBAAsB,EAE5BwU,CACX,CAOA,MAAa,cAAc/T,EAA0B,CAAC,EAAkB,CA/qB5E,IAAAsD,EAgrBQ,IAAM/D,EAAS,KAAK,QAAQ,OAAO,eAAe,EAC5C,CACF,8BAAA0R,EACA,GAAGwC,CACP,EAAIzT,EAEEwM,EAAgB,KAAK,SAAS,+BAC7BlJ,EAAA,MAAM,KAAK,UAAU,IAArB,KAAA,OAAAA,EAAyB,SAC1B,OAEAf,EAAM,KAAK,SAAS,+BACpBmR,EAAS,MAAM,KAAK,iBAAiB,QAAQ,CAAE,8BAAAzC,CAA8B,CAAC,EACpF,MAAM,KAAK,SAAS,CAChB,aAAc,OACd,yBAA0B1O,EAC1B,cAAAiK,EACA,GAAGiH,CACP,EAAGC,CAAM,EAETnU,EAAO,KAAK,SAAS,CACzB,CAUA,MAAa,sBAAsBgD,EAAM,OAAO,SAAS,KAAqB,CAC1E,IAAMhD,EAAS,KAAK,QAAQ,OAAO,uBAAuB,EAC1D,MAAM,KAAK,iBAAiB,SAASgD,CAAG,EACxChD,EAAO,KAAK,SAAS,CACzB,CAEA,MAAa,aAAayU,EAA0C,CAChE,IAAMrF,EAAO,MAAM,KAAK,UAAU,EAClC,MAAM,KAAK,gBAAgBA,EAAMqF,CAAK,CAC1C,CAEA,MAAgB,gBAAgBrF,EAAmBqF,EAAQ,KAAK,SAAS,iBAAiC,CACtG,IAAMzU,EAAS,KAAK,QAAQ,OAAO,iBAAiB,EACpD,GAAI,CAACoP,EAAM,OAEX,IAAMsF,EAAeD,EAAM,OAAOxF,GAAQ,OAAOG,EAAKH,CAAI,GAAM,QAAQ,EAExE,GAAI,CAACyF,EAAa,OAAQ,CACtB1U,EAAO,MAAM,sCAAsC,EACnD,MACJ,CAGA,QAAWiP,KAAQyF,EACf,MAAM,KAAK,QAAQ,YACftF,EAAKH,CAAI,EACTA,CACJ,EACAjP,EAAO,KAAK,GAAGiP,CAAI,uBAAuB,EACtCA,IAAS,iBACTG,EAAKH,CAAI,EAAI,MAIrB,MAAM,KAAK,UAAUG,CAAI,EACzBpP,EAAO,MAAM,aAAa,EAC1B,MAAM,KAAK,QAAQ,KAAKoP,CAAI,CAChC,CAKO,kBAAyB,CAC5B,KAAK,QAAQ,OAAO,kBAAkB,EACjC,KAAK,oBAAoB,MAAM,CACxC,CAKO,iBAAwB,CAC3B,KAAK,oBAAoB,KAAK,CAClC,CAEA,IAAc,eAAwB,CAClC,MAAO,QAAQ,KAAK,SAAS,SAAS,IAAI,KAAK,SAAS,SAAS,EACrE,CAEA,MAAgB,WAAkC,CAC9C,IAAMpP,EAAS,KAAK,QAAQ,OAAO,WAAW,EACxC4L,EAAgB,MAAM,KAAK,SAAS,UAAU,IAAI,KAAK,aAAa,EAC1E,OAAIA,GACA5L,EAAO,MAAM,2BAA2B,EACjC4P,GAAK,kBAAkBhE,CAAa,IAG/C5L,EAAO,MAAM,uBAAuB,EAC7B,KACX,CAEA,MAAa,UAAUoP,EAAkC,CACrD,IAAMpP,EAAS,KAAK,QAAQ,OAAO,WAAW,EAC9C,GAAIoP,EAAM,CACNpP,EAAO,MAAM,cAAc,EAC3B,IAAM4L,EAAgBwD,EAAK,gBAAgB,EAC3C,MAAM,KAAK,SAAS,UAAU,IAAI,KAAK,cAAexD,CAAa,CACvE,MACI,KAAK,QAAQ,MAAM,eAAe,EAClC,MAAM,KAAK,SAAS,UAAU,OAAO,KAAK,aAAa,EACnD,KAAK,SAAS,MACd,MAAM,KAAK,SAAS,KAAK,MAAM,OAAO,KAAK,SAAS,SAAS,CAGzE,CAKA,MAAa,iBAAiC,CAC1C,MAAM,KAAK,QAAQ,gBAAgB,CACvC,CAaA,MAAa,UAAU5I,EAAaoM,EAAYlM,EAAqBE,EAA6C,CArzBtH,IAAAW,EAAAC,EAszBQ,IAAM0K,EAAY,OAAM1K,GAAAD,EAAA,KAAK,SAAS,OAAd,KAAA,OAAAA,EAAoB,QAApB,KAAA,OAAAC,EAA2B,IAAI,KAAK,SAAS,SAAA,GACrE,GAAI0K,EACA,OAAO,MAAMlN,EAAY,kBAAkB,CACvC,IAAAwB,EACA,YAAaoM,GAAM,aACnB,WAAAlM,EACA,QAASwL,EAAU,KACnB,MAAAtL,CACJ,CAAC,CAGT,CAEA,MAAM,gBAAgBuR,EAAyD,CAC3E,IAAIjG,EAAY,MAAMiG,EAAa,MAAM,IAAI,KAAK,SAAS,SAAS,EACpE,GAAI,CAACjG,EAAW,CACZ,IAAMkG,EAAW,MAAMpT,EAAY,iBAAiB,EACpDkN,EAAY,IAAIb,GAAU+G,CAAQ,EAClC,MAAMD,EAAa,MAAM,IAAI,KAAK,SAAS,UAAWjG,CAAS,CACnE,CACA,OAAO,MAAMlN,EAAY,gBAAgBkN,EAAU,IAAI,CAC3D,CACJ,EC10BEmG,GAAW,QCIAC,GAAkBD,GCClBE,GAAN,KAA8C,CAA9C,aAAA,CACH,KAAS,QAAkB,OAC3B,KAAS,WAAqB,MAAA,CAE9B,MAAa,IAAI5Q,EAAa/D,EAAiC,CAE3D,MADc,MAAM,KAAK,YAAY,KAAK,QAAS,KAAK,UAAU,GACtD,YAAc4U,IACtBA,EAAI,IAAI5U,EAAO+D,CAAG,EACX,KAAK,iBAAiB6Q,EAAI,WAAW,EAC/C,CACL,CAEA,MAAa,IAAI7Q,EAAiC,CAE9C,OAAO,MADO,MAAM,KAAK,YAAY,KAAK,QAAS,KAAK,UAAU,GAC/C,WAAa6Q,GACrB,KAAK,iBAAiBA,EAAI,IAAI7Q,CAAG,CAAC,CAC5C,CACL,CAEA,MAAa,OAAOA,EAAiC,CACjD,IAAM6C,EAAO,MAAM,KAAK,IAAI7C,CAAG,EAE/B,aADc,MAAM,KAAK,YAAY,KAAK,QAAS,KAAK,UAAU,GACtD,YAAc6Q,GACf,KAAK,iBAAiBA,EAAI,OAAO7Q,CAAG,CAAC,CAC/C,EACM6C,CACX,CAEA,MAAa,YAAgC,CAEzC,OAAO,MADO,MAAM,KAAK,YAAY,KAAK,QAAS,KAAK,UAAU,GAC/C,WAAagO,GACrB,KAAK,iBAAiBA,EAAI,WAAW,CAAC,CAChD,CACL,CAEA,iBACI/G,EAAqD,CACrD,OAAO,IAAI,QAAW,CAACpI,EAASqK,IAAW,CACtCjC,EAA2B,WAAcA,EAA0B,UAAY,IAAMpI,EAASoI,EAA0B,MAAM,EAC9HA,EAA2B,QAAWA,EAA0B,QAAU,IAAMiC,EAAQjC,EAA0B,KAAc,CACrI,CAAC,CACL,CAEA,MAAM,YACFgH,EACAC,EAC4G,CAC5G,IAAMjH,EAAU,UAAU,KAAKgH,CAAM,EACrChH,EAAQ,gBAAkB,IAAMA,EAAQ,OAAO,kBAAkBiH,CAAS,EAC1E,IAAMC,EAAK,MAAM,KAAK,iBAA8BlH,CAAO,EAE3D,MAAO,OACHmH,EACAC,IACC,CAED,IAAMlN,EADKgN,EAAG,YAAYD,EAAWE,CAAM,EAC1B,YAAYF,CAAS,EACtC,OAAO,MAAMG,EAASlN,CAAK,CAC/B,CACJ,CACJ,EhD5DA,IAAAmN,EAgEO",
  "names": ["assign", "obj", "props", "i", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "slice", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__c", "constructor", "__v", "vnodeId", "__i", "__u", "options", "createRef", "current", "Fragment", "BaseComponent", "context", "this", "getDomSibling", "childIndex", "sibling", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "__d", "rerenderQueue", "push", "process", "__r", "prevDebounce", "debounceRendering", "defer", "component", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "l", "sort", "depthSort", "shift", "__P", "diff", "__n", "namespaceURI", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "result", "shouldPlace", "oldChildren", "EMPTY_ARR", "newChildrenLength", "constructNewChildrenArray", "EMPTY_OBJ", "applyRef", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "Array", "String", "isArray", "undefined", "findMatchingIndex", "unmount", "parentVNode", "insertBefore", "nodeType", "toChildArray", "out", "some", "x", "y", "matched", "setStyle", "style", "value", "setProperty", "IS_NON_DIMENSIONAL", "test", "dom", "name", "oldValue", "useCapture", "lowerCaseName", "o", "cssText", "replace", "CAPTURE_REGEX", "toLowerCase", "_attached", "eventClock", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "createEventProxy", "eventHandler", "_dispatched", "event", "tmp", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "isClassComponent", "provider", "componentContext", "renderHook", "count", "newType", "outer", "prototype", "render", "contextType", "__E", "doRender", "sub", "state", "__h", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "cloneNode", "then", "MODE_HYDRATE", "indexOf", "markAsForce", "diffElementNodes", "diffed", "forEach", "root", "cb", "map", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "localName", "document", "createTextNode", "createElementNS", "is", "__m", "data", "childNodes", "attributes", "__html", "innerHTML", "content", "hasRefUnmount", "skipRemove", "r", "componentWillUnmount", "replaceNode", "documentElement", "firstChild", "hydrate", "cloneElement", "createContext", "defaultValue", "Context", "subs", "ctx", "Set", "_props", "add", "old", "delete", "Provider", "__l", "Consumer", "contextValue", "isValidElement", "init_preact_module", "__esmMin", "error", "errorInfo", "ctor", "handled", "getDerivedStateFromError", "setState", "componentDidCatch", "update", "callback", "s", "forceUpdate", "Promise", "bind", "resolve", "setTimeout", "a", "b", "getHookState", "index", "type", "options", "__h", "currentComponent", "currentHook", "hooks", "__H", "__", "length", "push", "useState", "initialState", "useReducer", "invokeOrReturn", "reducer", "init", "hookState", "currentIndex", "_reducer", "__c", "action", "currentValue", "__N", "nextValue", "setState", "__f", "updateHookState", "p", "s", "c", "stateHooks", "filter", "x", "every", "prevScu", "call", "this", "shouldUpdate", "props", "forEach", "hookItem", "shouldComponentUpdate", "prevCWU", "componentWillUpdate", "__e", "tmp", "useEffect", "callback", "args", "state", "__s", "argsChanged", "_pendingArgs", "useLayoutEffect", "useRef", "initialValue", "useMemo", "current", "useImperativeHandle", "ref", "createHandle", "result", "concat", "factory", "useCallback", "useContext", "context", "provider", "sub", "value", "useDebugValue", "formatter", "n", "useErrorBoundary", "cb", "errState", "componentDidCatch", "err", "errorInfo", "undefined", "useId", "root", "__v", "__m", "mask", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "invokeCleanup", "invokeEffect", "e", "afterNextFrame", "raf", "done", "clearTimeout", "timeout", "HAS_RAF", "cancelAnimationFrame", "setTimeout", "requestAnimationFrame", "hook", "comp", "cleanup", "oldArgs", "newArgs", "some", "arg", "f", "previousComponent", "prevRaf", "oldBeforeDiff", "oldBeforeRender", "oldAfterDiff", "oldCommit", "oldBeforeUnmount", "oldRoot", "_options", "__b", "__r", "diffed", "unmount", "vnode", "parentDom", "__k", "commitQueue", "hasErrored", "assign", "obj", "props", "i", "shallowDiffers", "a", "b", "useSyncExternalStore", "subscribe", "getSnapshot", "value", "_useState", "useState", "_instance", "__", "_getSnapshot", "forceUpdate", "useLayoutEffect", "didSnapshotChange", "useEffect", "inst", "x", "y", "latestGetSnapshot", "prevValue", "nextValue", "error", "startTransition", "cb", "useDeferredValue", "val", "useTransition", "PureComponent", "p", "c", "this", "context", "memo", "comparer", "shouldUpdate", "nextProps", "ref", "updateRef", "call", "current", "Memoed", "shouldComponentUpdate", "createElement", "displayName", "name", "prototype", "isReactComponent", "__f", "type", "forwardRef", "fn", "Forwarded", "clone", "$$typeof", "REACT_FORWARD_SYMBOL", "render", "detachedClone", "vnode", "detachedParent", "parentDom", "__c", "__H", "forEach", "effect", "__P", "__e", "__k", "map", "child", "removeOriginal", "originalParent", "__v", "appendChild", "Suspense", "__u", "_suspenders", "__b", "suspended", "component", "__a", "lazy", "loader", "prom", "Lazy", "then", "exports", "default", "e", "SuspenseList", "_next", "_map", "ContextProvider", "getChildContext", "children", "Portal", "_this", "container", "_container", "componentWillUnmount", "_temp", "root", "__m", "nodeType", "parentNode", "childNodes", "contains", "insertBefore", "before", "push", "removeChild", "splice", "indexOf", "createPortal", "el", "containerInfo", "parent", "callback", "textContent", "preactRender", "hydrate", "preactHydrate", "empty", "isPropagationStopped", "cancelBubble", "isDefaultPrevented", "defaultPrevented", "createFactory", "bind", "isValidElement", "element", "REACT_ELEMENT_TYPE", "isFragment", "Fragment", "isMemo", "String", "startsWith", "cloneElement", "preactCloneElement", "apply", "arguments", "unmountComponentAtNode", "findDOMNode", "base", "useInsertionEffect", "oldDiffHook", "mapFn", "Children", "oldCatchError", "oldUnmount", "resolve", "CAMEL_PROPS", "ON_ANI", "CAMEL_REPLACE", "IS_DOM", "onChangeInputType", "oldEventHook", "currentComponent", "classNameDescriptorNonEnumberable", "oldVNodeHook", "oldBeforeRender", "oldDiffed", "__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED", "version", "unstable_batchedUpdates", "flushSync", "StrictMode", "isElement", "index", "Component", "isPureReactComponent", "state", "options", "Symbol", "for", "toChildArray", "count", "length", "only", "normalized", "toArray", "newVNode", "oldVNode", "errorInfo", "unmount", "__R", "promise", "suspendingVNode", "suspendingComponent", "resolved", "onResolved", "onSuspensionComplete", "suspendedVNode", "__O", "setState", "pop", "document", "detachedComponent", "fallback", "list", "node", "delete", "revealOrder", "size", "delegated", "get", "unsuspend", "wrappedUnsuspend", "Map", "reverse", "set", "componentDidUpdate", "componentDidMount", "test", "key", "Object", "defineProperty", "configurable", "v", "writable", "event", "persist", "nativeEvent", "enumerable", "class", "normalizedProps", "isNonDashedType", "lowerCased", "toLowerCase", "replace", "multiple", "Array", "isArray", "selected", "defaultValue", "className", "__r", "diffed", "dom", "ReactCurrentDispatcher", "readContext", "__n", "useCallback", "useContext", "useDebugValue", "useId", "useImperativeHandle", "useMemo", "useReducer", "useRef", "arg", "createContext", "createRef", "require_ReactPropTypesSecret", "__commonJSMin", "exports", "module", "ReactPropTypesSecret", "require_factoryWithThrowingShims", "__commonJSMin", "exports", "module", "ReactPropTypesSecret", "emptyFunction", "emptyFunctionWithReset", "shim", "props", "propName", "componentName", "location", "propFullName", "secret", "err", "getShim", "ReactPropTypes", "require_prop_types", "__commonJSMin", "exports", "module", "ReactIs", "throwOnDirectAccess", "require_classnames", "__commonJSMin", "exports", "module", "hasOwn", "classNames", "classes", "i", "arg", "argType", "inner", "key", "normalizeAlign", "align", "map", "justify", "center", "normalizeStatus", "status", "focus", "hover", "active", "_react", "_interopRequireDefault", "_propTypes", "_classnames3", "_normalizer", "buildResponsiveness", "currentViewport", "_classnames", "_ref", "display", "textAlign", "textSize", "only", "invisible", "suffix", "_defineProperty", "useElementClassNames", "_ref2", "_classnames2", "textColor", "backgroundColor", "colorVariant", "flexDirection", "flexWrap", "justifyContent", "alignContent", "alignItems", "flexGrow", "ratio", "clearfix", "paddingless", "pull", "marginless", "overlay", "clipped", "radiusless", "shadowless", "unselectable", "clickable", "srOnly", "m", "mt", "mr", "mb", "ml", "mx", "my", "p", "pt", "pr", "pb", "pl", "px", "py", "textWeight", "textTransform", "italic", "textFamily", "mobile", "tablet", "desktop", "widescreen", "fullhd", "touch", "untilWidescreen", "untilFullhd", "props", "_objectWithoutProperties", "Element", "_ref3", "className", "renderAs", "domRef", "children", "allProps", "RenderAs", "_useElementClassNames", "_useElementClassNames2", "_slicedToArray", "classNames", "_extends", "undefined", "defaultProps", "_element", "_interopRequireDefault", "Element", "_react", "_interopRequireWildcard", "FieldContext", "React", "createContext", "size", "undefined", "useFieldContext", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_context", "FieldLabel", "_ref", "className", "size", "props", "_objectWithoutProperties", "context", "_extends", "_defineProperty", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "FieldBody", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_fieldLabel", "_fieldBody", "_element", "_normalizer", "_context", "_interopRequireWildcard", "Field", "_ref", "_classnames", "className", "align", "multiline", "horizontal", "kind", "size", "props", "_objectWithoutProperties", "context", "k", "_extends", "_defineProperty", "Label", "FieldLabel", "Body", "FieldBody", "defaultProps", "_field", "_interopRequireDefault", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Text", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_text", "_interopRequireDefault", "Text", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_text", "_element", "Icon", "_ref", "_classnames", "size", "color", "className", "align", "text", "props", "_objectWithoutProperties", "undefined", "console", "warn", "_extends", "icon", "_defineProperty", "defaultProps", "renderAs", "Text", "_icon", "_interopRequireDefault", "Icon", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_normalizer", "ButtonGroup", "_ref", "_classnames", "className", "hasAddons", "align", "size", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_buttonGroup", "_element", "_normalizer", "Button", "_ref", "_classnames", "children", "className", "renderAs", "color", "size", "outlined", "inverted", "submit", "reset", "fullwidth", "status", "loading", "disabled", "remove", "isSelected", "isStatic", "rounded", "onClick", "text", "props", "_objectWithoutProperties", "otherProps", "type", "_extends", "undefined", "_defineProperty", "Group", "ButtonGroup", "defaultProps", "_button", "_interopRequireDefault", "Button", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "_icon", "_context", "_button", "Control", "_ref", "children", "className", "fullwidth", "loading", "iconType", "props", "_objectWithoutProperties", "context", "isIcon", "child", "type", "Icon", "align", "updatedChildren", "React", "Children", "map", "Button", "cloneElement", "size", "icons", "toArray", "filter", "reduce", "acc", "icon", "iconLeft", "iconRight", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_context", "_normalizer", "Input", "_ref", "_classnames", "className", "size", "color", "readOnly", "isStatic", "status", "rounded", "props", "_objectWithoutProperties", "context", "calculatedSize", "_extends", "_defineProperty", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_context", "Label", "_ref", "children", "className", "size", "props", "_objectWithoutProperties", "context", "calculatedSize", "_extends", "_defineProperty", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_context", "_normalizer", "Textarea", "_ref", "_classnames", "className", "size", "color", "status", "fixedSize", "props", "_objectWithoutProperties", "context", "calculatedSize", "_extends", "_defineProperty", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames3", "_element", "_context", "_normalizer", "Select", "_ref", "_classnames", "className", "rounded", "style", "size", "color", "loading", "status", "disabled", "value", "multiple", "children", "name", "domRef", "fullwidth", "props", "_objectWithoutProperties", "context", "calculatedSize", "_defineProperty", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Checkbox", "_ref", "className", "style", "disabled", "children", "domRef", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Radio", "_ref", "className", "style", "disabled", "checked", "value", "name", "children", "domRef", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Help", "_ref", "className", "children", "color", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "renderAs", "_react", "_interopRequireWildcard", "_propTypes", "_interopRequireDefault", "_classnames2", "_element", "_context", "_normalizer", "InputFile", "_ref", "_classnames", "className", "style", "onChange", "color", "size", "fullwidth", "align", "boxed", "name", "label", "icon", "inputProps", "filename", "value", "props", "_objectWithoutProperties", "ref", "context", "calculatedSize", "current", "files", "_extends", "_defineProperty", "defaultProps", "_field", "_interopRequireDefault", "_control", "_input", "_label", "_textarea", "_select", "_checkbox", "_radio", "_help", "_inputFile", "_react", "_interopRequireDefault", "_classnames", "_element", "Box", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_box", "_interopRequireDefault", "Box", "_react", "_interopRequireDefault", "_classnames", "_element", "Block", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_block", "_interopRequireDefault", "Block", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "BreadcrumbItem", "_ref", "className", "active", "children", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_item", "Breadcrumb", "_ref", "_classnames", "className", "separator", "size", "align", "children", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Item", "BreadcrumbItem", "defaultProps", "undefined", "renderAs", "_breadcrumb", "_interopRequireDefault", "Breadcrumb", "_react", "_interopRequireWildcard", "_propTypes", "_interopRequireDefault", "_classnames2", "_element", "Image", "_ref", "_classnames", "className", "alt", "size", "fallback", "rounded", "src", "fullwidth", "props", "_objectWithoutProperties", "_useState", "_useState2", "_slicedToArray", "state", "setState", "s", "_extends", "_defineProperty", "defaultProps", "renderAs", "_image", "_interopRequireDefault", "Image", "_react", "_interopRequireDefault", "_classnames", "_image", "_element", "CardImage", "_ref", "className", "domRef", "props", "_objectWithoutProperties", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "CardContent", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "CardHeaderTitle", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "CardHeaderIcon", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_headerTitle", "_headerIcon", "_element", "CardHeader", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "Title", "CardHeaderTitle", "Icon", "CardHeaderIcon", "defaultProps", "_header", "_interopRequireDefault", "_react", "_interopRequireDefault", "_classnames", "_element", "CardFooterItem", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_footerItem", "_element", "CardFooter", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "Item", "CardFooterItem", "defaultProps", "_footer", "_interopRequireDefault", "_react", "_interopRequireDefault", "_classnames", "_image", "_content", "_header", "_footer", "_element", "Card", "_ref", "className", "children", "props", "_objectWithoutProperties", "_extends", "Image", "CardImage", "Content", "CardContent", "Header", "CardHeader", "Footer", "CardFooter", "defaultProps", "_card", "_interopRequireDefault", "Card", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Column", "_ref", "_classNames", "children", "className", "size", "offset", "narrow", "_ref$mobile", "mobile", "_ref$tablet", "tablet", "_ref$desktop", "desktop", "_ref$widescreen", "widescreen", "_ref$fullhd", "fullhd", "_ref$touch", "touch", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "SIZES", "THREEQUARTERS", "TWOTHIRDS", "HALF", "ONETHIRD", "ONEQUARTER", "ONEFIFTH", "TWOFIFTHS", "THREEFIFTHS", "FOURFIFTHS", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_column", "_constants", "_element", "Columns", "_ref", "_classNames", "className", "breakpoint", "gap", "multiline", "centered", "vCentered", "variableGap", "_ref$mobile", "mobile", "_ref$tablet", "tablet", "_ref$desktop", "desktop", "_ref$widescreen", "widescreen", "_ref$fullhd", "fullhd", "_ref$touch", "touch", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "undefined", "find", "b", "Column", "CONSTANTS", "COLUMN_CONSTANTS", "defaultProps", "_columns", "_interopRequireDefault", "Columns", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Container", "_ref", "children", "max", "breakpoint", "className", "props", "_objectWithoutProperties", "canSetMax", "includes", "_extends", "_defineProperty", "defaultProps", "_container", "_interopRequireDefault", "Container", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Content", "_ref", "children", "className", "size", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "_content", "_interopRequireDefault", "Content", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Footer", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_footer", "_interopRequireDefault", "Footer", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Heading", "_ref", "_classnames", "children", "className", "size", "subtitle", "weight", "spaced", "heading", "props", "_objectWithoutProperties", "_extends", "title", "_defineProperty", "defaultProps", "renderAs", "_heading", "_interopRequireDefault", "Heading", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "HeroHeader", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "HeroBody", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "HeroFooter", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_heroHeader", "_heroBody", "_heroFooter", "_element", "Hero", "_ref", "_classnames", "children", "className", "color", "gradient", "size", "hasNavbar", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Header", "HeroHeader", "Body", "HeroBody", "Footer", "HeroFooter", "defaultProps", "renderAs", "_hero", "_interopRequireDefault", "Hero", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "LevelSide", "_ref", "className", "align", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "LevelItem", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_levelSide", "_levelItem", "_element", "Level", "_ref", "children", "className", "breakpoint", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Side", "LevelSide", "Item", "LevelItem", "defaultProps", "renderAs", "_level", "_interopRequireDefault", "Level", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "MediaItem", "_ref", "children", "className", "align", "props", "_objectWithoutProperties", "p", "_extends", "_defineProperty", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_mediaItem", "_element", "Media", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "Item", "MediaItem", "defaultProps", "renderAs", "_media", "_interopRequireDefault", "Media", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Notification", "_ref", "_classnames", "className", "color", "light", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "_notification", "_interopRequireDefault", "Notification", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Progress", "_ref", "_classnames", "className", "value", "max", "color", "size", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "renderAs", "_progress", "_interopRequireDefault", "Progress", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Section", "_ref", "children", "className", "size", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "renderAs", "_section", "_interopRequireDefault", "Section", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "Tab", "_ref", "children", "className", "style", "active", "domRef", "props", "_objectWithoutProperties", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_tab", "_element", "_normalizer", "Tabs", "_ref", "_classnames", "children", "className", "align", "size", "type", "fullwidth", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Tab", "_tabs", "_interopRequireDefault", "Tabs", "_react", "_interopRequireDefault", "_classnames", "_element", "TableContainer", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "_container", "Table", "_ref", "_classnames", "children", "className", "size", "striped", "bordered", "hoverable", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "Container", "_table", "_interopRequireDefault", "Table", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "TagGroup", "_ref", "children", "className", "gapless", "hasAddons", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_tagGroup", "_element", "Tag", "_ref", "_classnames", "children", "className", "color", "size", "rounded", "remove", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Group", "TagGroup", "defaultProps", "renderAs", "_tag", "_interopRequireDefault", "Tag", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "Tile", "_ref", "_classnames", "children", "className", "kind", "vertical", "size", "color", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "_tile", "_interopRequireDefault", "Tile", "_react", "_interopRequireDefault", "_classnames", "_element", "ModalContent", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireWildcard", "ModalContext", "React", "createContext", "onClose", "useModalContext", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_button", "_element", "_context", "ModalCardHead", "_ref", "children", "className", "showClose", "props", "_objectWithoutProperties", "_useModalContext", "onClose", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "ModalCardBody", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "ModalCardFoot", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "ModalCardTitle", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_classnames", "_header", "_body", "_footer", "_title", "_element", "ModalCard", "_ref", "className", "onClose", "children", "props", "_objectWithoutProperties", "_extends", "Header", "ModalCardHeader", "Body", "ModalCardBody", "Footer", "ModalCardFooter", "Title", "ModalCardTitle", "defaultProps", "_card", "_interopRequireDefault", "Card", "_react", "_interopRequireWildcard", "_reactDom", "_interopRequireDefault", "_propTypes", "_classnames", "_content", "_card", "_context", "_element", "KEYCODES", "ESCAPE", "Modal", "_ref", "domRef", "children", "className", "show", "closeOnBlur", "showClose", "onClose", "closeOnEsc", "props", "_objectWithoutProperties", "ref", "_useState", "_useState2", "_slicedToArray", "portalContainer", "setPortalContainer", "doc", "document", "container", "createElement", "setAttribute", "body", "appendChild", "handleKeydown", "evt", "keyCode", "addEventListener", "removeEventListener", "parentNode", "removeChild", "ReactDOM", "createPortal", "undefined", "Content", "ModalContent", "Card", "ModalCard", "defaultProps", "_modal", "_interopRequireDefault", "Modal", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "DropdownItem", "_ref", "active", "children", "value", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_element", "DropdownDivider", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireWildcard", "_propTypes", "_interopRequireDefault", "_classnames", "_item", "_divider", "_button", "_element", "Dropdown", "_ref", "className", "children", "value", "color", "align", "right", "up", "hoverable", "label", "onChange", "closeOnSelect", "icon", "domRef", "disabled", "props", "_objectWithoutProperties", "ref", "_useState", "_useState2", "_slicedToArray", "isOpen", "setIsOpen", "close", "evt", "current", "contains", "target", "onSelect", "selectedValue", "window", "addEventListener", "removeEventListener", "childrenArray", "React", "Children", "map", "child", "i", "type", "DropdownItem", "cloneElement", "active", "onClick", "_extends", "open", "Item", "Divider", "DropdownDivider", "defaultProps", "_dropdown", "_interopRequireDefault", "Dropdown", "_react", "_interopRequireDefault", "_classnames", "_element", "Loader", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "_loader", "_interopRequireDefault", "Loader", "_react", "_interopRequireDefault", "_classnames", "_element", "NavbarBrand", "_ref", "className", "children", "props", "_objectWithoutProperties", "_extends", "defaultProps", "_react", "_interopRequireDefault", "ShowContext", "React", "createContext", "_react", "_interopRequireDefault", "_classnames", "_context", "_element", "NavbarBurger", "_ref", "style", "className", "props", "_objectWithoutProperties", "active", "_extends", "_objectSpread", "outline", "defaultProps", "_react", "_interopRequireDefault", "_classnames", "_context", "_element", "NavbarMenu", "_ref", "className", "children", "props", "_objectWithoutProperties", "active", "_extends", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "NavbarDropdown", "_ref", "className", "boxed", "right", "children", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_dropdown", "_element", "NavbarItem", "_ref", "_dropdown$props", "className", "active", "children", "hoverable", "renderAs", "arrowless", "props", "_objectWithoutProperties", "as", "dropdown", "React", "Children", "toArray", "find", "child", "type", "NavbarDropdown", "_extends", "up", "defaultProps", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "NavbarDivider", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "NavbarLink", "_ref", "className", "children", "arrowless", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_element", "alignMapper", "left", "right", "NavbarContainer", "_ref", "className", "children", "align", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "defaultProps", "_react", "_interopRequireWildcard", "_propTypes", "_interopRequireDefault", "_classnames2", "_brand", "_burger", "_menu", "_item", "_dropdown", "_divider", "_link", "_container", "_context", "_element", "Navbar", "_ref", "_classnames", "children", "className", "fixed", "transparent", "color", "active", "size", "props", "_objectWithoutProperties", "html", "window", "document", "querySelector", "classList", "contains", "remove", "add", "_extends", "_defineProperty", "defaultProps", "renderAs", "Brand", "Burger", "Menu", "Item", "Dropdown", "Link", "Divider", "Container", "_navbar", "_interopRequireDefault", "Navbar", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_normalizer", "_element", "getFirstPage", "current", "last", "delta", "minPage", "page", "Math", "min", "getLastPage", "total", "maxPage", "max", "Pagination", "_ref", "_classnames", "disabled", "next", "previous", "showPrevNext", "showFirstLast", "autoHide", "className", "size", "align", "rounded", "onChange", "props", "_objectWithoutProperties", "lastPage", "firstPage", "prevDisabled", "nextDisabled", "_extends", "_defineProperty", "undefined", "Array", "fill", "map", "_", "i", "defaultProps", "renderAs", "_pagination", "_interopRequireDefault", "Pagination", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_list", "_element", "MenuListItem", "_ref", "children", "active", "className", "ref", "domRef", "props", "_objectWithoutProperties", "React", "Children", "toArray", "length", "only", "type", "List", "child", "_extends", "title", "cloneElement", "undefined", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_item", "_element", "MenuList", "_ref", "className", "title", "props", "_objectWithoutProperties", "_extends", "Item", "MenuListItem", "defaultProps", "renderAs", "_list", "_interopRequireDefault", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_list", "_element", "Menu", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "List", "MenuList", "defaultProps", "renderAs", "_menu", "_interopRequireDefault", "Menu", "_react", "_interopRequireDefault", "_classnames", "_element", "MessageBody", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireDefault", "_classnames", "_element", "MessageHeader", "_ref", "children", "className", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_body", "_header", "_element", "Message", "_ref", "_classnames", "children", "className", "color", "size", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Body", "MessageBody", "Header", "MessageHeader", "defaultProps", "renderAs", "_message", "_interopRequireDefault", "Message", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "PanelBlock", "_ref", "className", "active", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireDefault", "_classnames", "_element", "PanelHeader", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "PanelIcon", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_propTypes", "_classnames", "_element", "PanelTabsTab", "_ref", "className", "active", "props", "_objectWithoutProperties", "_extends", "defaultProps", "renderAs", "_react", "_interopRequireDefault", "_classnames", "_tab", "_element", "PanelTabs", "_ref", "className", "props", "_objectWithoutProperties", "_extends", "Tab", "_tabs", "_interopRequireDefault", "_react", "_interopRequireDefault", "_propTypes", "_classnames2", "_block", "_header", "_icon", "_tabs", "_element", "Panel", "_ref", "color", "className", "props", "_objectWithoutProperties", "_extends", "_defineProperty", "Header", "Tabs", "Block", "Icon", "defaultProps", "renderAs", "_panel", "_interopRequireDefault", "Panel", "Form", "_interopRequireWildcard", "_box", "_interopRequireDefault", "_block", "_button", "_breadcrumb", "_card", "_columns", "_container", "_content", "_footer", "_heading", "_hero", "_image", "_level", "_media", "_notification", "_progress", "_section", "_tabs", "_table", "_tag", "_tile", "_modal", "_dropdown", "_icon", "_loader", "_navbar", "_pagination", "_menu", "_message", "_panel", "_element", "init_preact_module", "init_preact_module", "n", "t", "s", "r", "u", "h", "p", "a", "htm_module_default", "e", "l", "m", "htm_module_default", "_", "init_hooks_module", "InvalidTokenError", "b64DecodeUnicode", "str", "m", "p", "code", "base64UrlDecode", "output", "jwtDecode", "token", "options", "pos", "part", "decoded", "e", "nopLogger", "level", "logger", "Log", "reset", "setLevel", "value", "setLogger", "Logger", "_Logger", "_name", "args", "err", "method", "methodLogger", "name", "staticMethod", "staticLogger", "prefix", "JwtUtils", "token", "jwtDecode", "header", "payload", "privateKey", "encodedHeader", "CryptoUtils", "encodedPayload", "encodedToken", "signature", "encodedSignature", "UUID_V4_TEMPLATE", "toBase64", "val", "chr", "_CryptoUtils", "arr", "c", "code_verifier", "data", "hashed", "client_id", "client_secret", "alg", "message", "msgUint8", "hashBuffer", "jwk", "jsonObject", "utf8encodedAndHashed", "url", "accessToken", "httpMethod", "keyPair", "nonce", "hashedToken", "encodedHash", "publicJwk", "input", "Event", "cb", "idx", "ev", "PopupUtils", "features", "_a", "_b", "_c", "width", "key", "Timer", "_Timer", "diff", "durationInSeconds", "expiration", "timerDurationInSeconds", "UrlUtils", "responseMode", "params", "URL_STATE_DELIMITER", "ErrorResponse", "form", "ErrorTimeout", "AccessTokenEvents", "container", "duration", "expiring", "expired", "CheckSessionIFrame", "_callback", "_client_id", "_intervalInSeconds", "_stopOnError", "e", "parsedUrl", "resolve", "session_state", "send", "InMemoryWebStorage", "index", "ErrorDPoPNonce", "JsonService", "additionalContentTypes", "_jwtHandler", "_extraHeaders", "init", "timeoutInSeconds", "initFetch", "controller", "timeoutId", "credentials", "headers", "response", "contentType", "item", "json", "body", "basicAuth", "initCredentials", "extraHeaders", "responseText", "customKeys", "protectedHeaders", "preventOverride", "headerName", "content", "MetadataService", "_settings", "metadata", "optional", "jwks_uri", "keySet", "WebStorageStateStore", "store", "len", "keys", "DefaultResponseType", "DefaultScope", "DefaultClientAuthentication", "DefaultStaleStateAgeInSeconds", "OidcClientSettingsStore", "authority", "metadataUrl", "signingKeys", "metadataSeed", "response_type", "scope", "redirect_uri", "post_logout_redirect_uri", "client_authentication", "prompt", "display", "max_age", "ui_locales", "acr_values", "resource", "response_mode", "filterProtocolClaims", "loadUserInfo", "requestTimeoutInSeconds", "staleStateAgeInSeconds", "mergeClaimsStrategy", "disablePKCE", "stateStore", "revokeTokenAdditionalContentTypes", "fetchRequestCredentials", "refreshTokenAllowedScope", "extraQueryParams", "extraTokenParams", "dpop", "omitScopeWhenRequesting", "UserInfoService", "_metadataService", "claims", "TokenClient", "grant_type", "param", "ResponseValidator", "_claimsService", "state", "skipUserInfo", "shouldValidateSubClaim", "hasIdToken", "validateSub", "tokenResponse", "existingToken", "incoming", "existing", "State", "_State", "storageString", "storage", "age", "cutoff", "remove", "SigninState", "_SigninState", "code_challenge", "_SigninRequest", "state_data", "request_type", "url_state", "dpopJkt", "optionalParams", "stateParam", "r", "SigninRequest", "OidcScope", "SigninResponse", "splitState", "SignoutRequest", "id_token_hint", "SignoutResponse", "DefaultProtocolClaims", "InternalRequiredProtocolClaims", "ClaimsService", "result", "protocolClaims", "claim", "claims1", "claims2", "values", "mergedValues", "DPoPState", "OidcClient", "settings", "metadataService", "request", "request_uri", "login_hint", "signinRequest", "signinState", "removeState", "storedStateString", "dpopProof", "dpopStore", "dpopState", "username", "password", "signinResponse", "allowableScopes", "s", "signoutState", "type", "SessionMonitor", "_userManager", "user", "intervalInSeconds", "stopOnError", "checkSessionIFrame", "timerHandle", "session", "tmpUser", "raiseEvent", "User", "_User", "expires_in", "messageSource", "AbstractChildWindow", "keepOpen", "reject", "listener", "origin", "channel", "reason", "dispose", "parent", "targetOrigin", "msgData", "DefaultPopupWindowFeatures", "DefaultPopupTarget", "DefaultAccessTokenExpiringNotificationTimeInSeconds", "DefaultCheckSessionIntervalInSeconds", "DefaultSilentRequestTimeoutInSeconds", "UserManagerSettingsStore", "popup_redirect_uri", "popup_post_logout_redirect_uri", "popupWindowFeatures", "popupWindowTarget", "redirectMethod", "redirectTarget", "iframeNotifyParentOrigin", "iframeScriptOrigin", "silent_redirect_uri", "silentRequestTimeoutInSeconds", "automaticSilentRenew", "validateSubOnSilentRenew", "includeIdTokenInSilentRenew", "monitorSession", "monitorAnonymousSession", "checkSessionIntervalInSeconds", "query_status_response_type", "stopCheckSessionOnError", "revokeTokenTypes", "revokeTokensOnSignout", "includeIdTokenInSilentSignout", "accessTokenExpiringNotificationTimeInSeconds", "userStore", "IFrameWindow", "_IFrameWindow", "iframe", "timer", "frame", "IFrameNavigator", "checkForPopupClosedInterval", "second", "PopupWindow", "popupSignal", "centeredPopup", "popupClosedInterval", "clearPopupClosedInterval", "PopupNavigator", "RedirectNavigator", "targetWindow", "redirect", "abort", "promise", "UserManagerEvents", "SilentRenewService", "RefreshState", "UserManager", "redirectNavigator", "popupNavigator", "iframeNavigator", "requestArgs", "handle", "verifySub", "navResponse", "id_token", "signoutRequest", "signoutResponse", "types", "typesPresent", "dpopSettings", "dpopKeys", "version", "Version", "IndexedDbDPoPStore", "str", "dbName", "storeName", "db", "txMode", "callback", "import_react_bulma_components"]
}
